import xbmc
import xbmcgui
import xbmcaddon
import os
import datetime
import time
import _strptime
import threading
import urllib2
import StringIO
import sqlite3
import string
import platform
import re
from sqlite3 import dbapi2 as database
from xml.etree import ElementTree
from itertools import izip_longest
import xml.etree.ElementTree as ET
from UserDict import DictMixin

# two separate flags to kill the AllChannelsThread and the TimerThread
__killthread__ = False
FULL_CHANNELS_PAGE = range(0, 1000)
CHANNELS_PER_PAGE = 7


#get actioncodes from keyboard.xml
ACTION_MOVE_LEFT = 1
ACTION_MOVE_RIGHT = 2
ACTION_MOVE_UP = 3
ACTION_MOVE_DOWN = 4
ACTION_ENTER = 7
ACTION_PREVIOUS_MENU = 10
ACTION_BACKSPACE = 110
ACTION_NUMBER1 = 59
ACTION_NUMBER2 = 60
ACTION_NUMBER3 = 61
ACTION_NUMBER4 = 62
ACTION_NUMBER5 = 63
ACTION_NUMBER6 = 64
ACTION_NUMBER7 = 65
ACTION_NUMBER8 = 66
ACTION_NUMBER9 = 67
ACTION_NUMBER0 = 58

def cSetVisible(WiNdOw,iD,V=True): WiNdOw.getControl(iD).setVisible(V)
ADDON = xbmcaddon.Addon(id = 'script.tvguide')


class Point(object):
    def __init__(self):
        self.x = self.y = 0



class OrderedDict(dict, DictMixin):

     def __init__(self, *args, **kwds):
         if len(args) > 1:
             raise TypeError('expected at most 1 arguments, got %d' % len(args))
         try:
             self.__end
         except AttributeError:
             self.clear()
         self.update(*args, **kwds)

     def clear(self):
         self.__end = end = []
         end += [None, end, end]         # sentinel node for doubly linked list
         self.__map = {}                 # key --> [key, prev, next]
         dict.clear(self)

     def __setitem__(self, key, value):
         if key not in self:
             end = self.__end
             curr = end[1]
             curr[2] = end[1] = self.__map[key] = [key, curr, end]
         dict.__setitem__(self, key, value)

     def __delitem__(self, key):
         dict.__delitem__(self, key)
         key, prev, next = self.__map.pop(key)
         prev[2] = next
         next[1] = prev

     def __iter__(self):
         end = self.__end
         curr = end[2]
         while curr is not end:
             yield curr[0]
             curr = curr[2]

     def __reversed__(self):
         end = self.__end
         curr = end[1]
         while curr is not end:
             yield curr[0]
             curr = curr[1]

     def popitem(self, last=True):
         if not self:
             raise KeyError('dictionary is empty')
         if last:
             key = reversed(self).next()
         else:
             key = iter(self).next()
         value = self.pop(key)
         return key, value

     def __reduce__(self):
         items = [[k, self[k]] for k in self]
         tmp = self.__map, self.__end
         del self.__map, self.__end
         inst_dict = vars(self).copy()
         self.__map, self.__end = tmp
         if inst_dict:
             return (self.__class__, (items,), inst_dict)
         return self.__class__, (items,)

     def keys(self):
         return list(self)

     setdefault = DictMixin.setdefault
     update = DictMixin.update
     pop = DictMixin.pop
     values = DictMixin.values
     items = DictMixin.items
     iterkeys = DictMixin.iterkeys
     itervalues = DictMixin.itervalues
     iteritems = DictMixin.iteritems

     def __repr__(self):
         if not self:
             return '%s()' % (self.__class__.__name__,)
         return '%s(%r)' % (self.__class__.__name__, self.items())

     def copy(self):
         return self.__class__(self)

     @classmethod
     def fromkeys(cls, iterable, value=None):
         d = cls()
         for key in iterable:
             d[key] = value
         return d

     def __eq__(self, other):
         if isinstance(other, OrderedDict):
             if len(self) != len(other):
                 return False
             for p, q in  zip(self.items(), other.items()):
                 if p != q:
                     return False
             return True
         return dict.__eq__(self, other)

     def __ne__(self, other):
         return not self == other




class ProgramControls(object):
     def __init__(self, control, program):
         self.control = control
         self.program = program



class MyClass(xbmcgui.WindowXML):

     def __new__(cls):
         return super(MyClass, cls).__new__(cls, 'script-tvguide-mainmenu.xml', ADDON.getAddonInfo('path'))


     def __init__(self):
         self._timel = []
         self.thread = None
         self.program_buttons = list()
         #self.program_labels = list()
         self.channels_Index = 0
         self.programs_Index = 0
         self.button_focus = 'programs_yellow.png'
         self.button_nofocus = 'channels_bar1.png'
         self.path = 'special://home/addons/script.tvguide/resources/skins/Default/media/'
         self.move_up_flag = False
         self.move_down_flag = False
         self.move_left_flag = False
         self.move_right_flag = False
         self.move_flag = False
         self.move_back_flag = False
         self.programs_Index_flag = False
         self.current_program_flag = False
         self.time_flag = False
         self.move_program_flag = False
         self.next_program = False
         self.previous_program = False
         self.lastchannels = False
         self.channelsOnLeft = False
         self.channelsOnMiddle = False
         self.channelsOnRight = False
         self.program_remaining = False
         self.program_id = list()
         self.program_length = list()
         self.program_stop_clock = list()
         self.channel_page = 0
         self.program_index = 0
         self.get_button_id = 0




     def onInit(self):
         self.getControl(3).setAnimations([('fade', 'effect=fade start=0 end=100 time=1500')])
         self.getControl(5).setAnimations([('fade', 'effect=fade start=0 end=100 time=1500')])
         self.getControl(7).setAnimations([('fade', 'effect=fade start=0 end=100 time=1500')])
         self.getControl(9).setAnimations([('fade', 'effect=fade start=0 end=100 time=1500')])
         self.getControl(4).setVisible(False)
         self.getControl(6).setVisible(False)
         self.getControl(8).setVisible(False)
         self.getControl(10).setVisible(False)
         cSetVisible(self,11,True)
         allchannels_yellow_BOX = self.getControl(11)
         allchannels_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,10,False)
         allchannels_blue_BOX = self.getControl(10)
         allchannels_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,12,False)
         entertainment_yellow_BOX = self.getControl(12)
         entertainment_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,13,True)
         entertainment_blue_BOX = self.getControl(13)
         entertainment_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,14,False)
         movies_yellow_BOX = self.getControl(14)
         movies_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,15,True)
         movies_blue_BOX = self.getControl(15)
         movies_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,16,False)
         kids_yellow_BOX = self.getControl(16)
         kids_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,17,True)
         kids_blue_BOX = self.getControl(17)
         kids_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,18,False)
         sports_yellow_BOX = self.getControl(18)
         sports_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,19,True)
         sports_blue_BOX = self.getControl(19)
         sports_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,20,False)
         news_yellow_BOX = self.getControl(20)
         news_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,21,True)
         news_blue_BOX = self.getControl(21)
         news_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,22,False)
         documentaries_yellow_BOX = self.getControl(22)
         documentaries_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,23,True)
         documentaries_blue_BOX = self.getControl(23)
         documentaries_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,24,False)
         musicradio_yellow_BOX = self.getControl(24)
         musicradio_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,25,True)
         musicradio_blue_BOX = self.getControl(25)
         musicradio_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,26,False)
         adult_yellow_BOX = self.getControl(26)
         adult_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,27,True)
         adult_blue_BOX = self.getControl(27)
         adult_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,28,False)
         favourites_yellow_BOX = self.getControl(28)
         favourites_yellow_BOX.setImage(self.path + "channels_yellow.png")
         cSetVisible(self,29,True)
         favourites_blue_BOX = self.getControl(29)
         favourites_blue_BOX.setImage(self.path + "channels_blue.png")
         cSetVisible(self,30,False)
         picture_yellow_BOX = self.getControl(30)
         picture_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,31,False)
         picture_blue_BOX = self.getControl(31)
         picture_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,32,False)
         sound_yellow_BOX = self.getControl(32)
         sound_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,33,False)
         sound_blue_BOX = self.getControl(33)
         sound_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,34,False)
         changelanguage_yellow_BOX = self.getControl(34)
         changelanguage_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,35,False)
         changelanguage_blue_BOX = self.getControl(35)
         changelanguage_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,36,False)
         changepin_yellow_BOX = self.getControl(36)
         changepin_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,37,False)
         changepin_blue_BOX = self.getControl(37)
         changepin_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,38,False)
         viewrestrictions_yellow_BOX = self.getControl(38)
         viewrestrictions_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,39,False)
         viewrestrictions_blue_BOX = self.getControl(39)
         viewrestrictions_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,40,False)
         removechannels_yellow_BOX = self.getControl(40)
         removechannels_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,41,False)
         removechannels_blue_BOX = self.getControl(41)
         removechannels_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,42,False)
         systemdetails_yellow_BOX = self.getControl(42)
         systemdetails_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,43,False)
         systemdetails_blue_BOX = self.getControl(43)
         systemdetails_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,44,False)
         speedtest_yellow_BOX = self.getControl(44)
         speedtest_yellow_BOX.setImage(self.path + "allsettings_yellow.png")
         cSetVisible(self,45,False)
         speedtest_blue_BOX = self.getControl(45)
         speedtest_blue_BOX.setImage(self.path + "allsettings_blue.png")
         cSetVisible(self,101,False)
         picture_setting_yellow = self.getControl(101)
         picture_setting_yellow.setImage(self.path + "yellow_settings_button.png")
         cSetVisible(self,102,False)
         picture_setting_blue = self.getControl(102)
         picture_setting_blue.setImage(self.path + "blue_settings_button.png")
         cSetVisible(self,105,False)
         picture_setting_on_yellow = self.getControl(105)
         picture_setting_on_yellow.setImage(self.path + "yellow_settings_button.png")
         cSetVisible(self,106,False)
         picture_setting_on_blue = self.getControl(106)
         picture_setting_on_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(107).setVisible(False)
         changepicture_left_black = self.getControl(107)
         changepicture_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(108).setVisible(False)
         changepicture_left_white = self.getControl(108)
         changepicture_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(109).setVisible(False)
         changepicture_right_black = self.getControl(109)
         changepicture_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(110).setVisible(False)
         changepicture_right_white = self.getControl(110)
         changepicture_right_white.setImage(self.path + "right_button_white.png")
         self.getControl(121).setVisible(False)
         display_picture_yellow = self.getControl(121)
         display_picture_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(122).setVisible(False)
         display_picture_blue = self.getControl(122)
         display_picture_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(125).setVisible(False)
         display_picture_on_yellow = self.getControl(125)
         display_picture_on_yellow.setImage(self.path + "yellow_settings_button.png")
         cSetVisible(self,126,False)
         display_picture_on_blue = self.getControl(126)
         display_picture_on_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(131).setVisible(False)
         displaypicture_left_black = self.getControl(131)
         displaypicture_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(132).setVisible(False)
         displaypicture_left_white = self.getControl(132)
         displaypicture_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(133).setVisible(False)
         displaypicture_right_black = self.getControl(133)
         displaypicture_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(134).setVisible(False)
         displaypicture_right_white = self.getControl(134)
         displaypicture_right_white.setImage(self.path + "right_button_white.png")
         self.getControl(135).setVisible(False)
         video_output_yellow = self.getControl(135)
         video_output_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(136).setVisible(False)
         video_output_blue = self.getControl(136)
         video_output_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(140).setVisible(False)
         video_output_on = self.getControl(140)
         video_output_on.setImage(self.path + "blue_settings_button.png")
         self.getControl(145).setVisible(False)
         video_output_on_left_black = self.getControl(145)
         video_output_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(146).setVisible(False)
         video_output_on_left_white = self.getControl(146)
         video_output_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(147).setVisible(False)
         video_output_on_right_black = self.getControl(147)
         video_output_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(148).setVisible(False)
         video_output_on_right_black = self.getControl(148)
         video_output_on_right_black.setImage(self.path + "right_button_white.png")
         self.getControl(149).setVisible(False)
         On_Screen_channels_yellow = self.getControl(149)
         On_Screen_channels_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(150).setVisible(False)
         On_Screen_channels_blue = self.getControl(150)
         On_Screen_channels_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(154).setVisible(False)
         On_Screen_channels_on = self.getControl(154)
         On_Screen_channels_on.setImage(self.path + "blue_settings_button.png")
         self.getControl(159).setVisible(False)
         On_Screen_channels_on_left_black = self.getControl(159)
         On_Screen_channels_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(160).setVisible(False)
         On_Screen_channels_on_left_white = self.getControl(160)
         On_Screen_channels_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(161).setVisible(False)
         On_Screen_channels_on_right_black = self.getControl(161)
         On_Screen_channels_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(162).setVisible(False)
         On_Screen_channels_on_right_black = self.getControl(162)
         On_Screen_channels_on_right_black.setImage(self.path + "right_button_white.png")
         self.getControl(163).setVisible(False)
         On_Screen_alert_yellow = self.getControl(163)
         On_Screen_alert_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(164).setVisible(False)
         On_Screen_alert_blue = self.getControl(164)
         On_Screen_alert_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(168).setVisible(False)
         On_Screen_alert_on = self.getControl(168)
         On_Screen_alert_on.setImage(self.path + "blue_settings_button.png")
         self.getControl(173).setVisible(False)
         On_Screen_alert_on_left_black = self.getControl(173)
         On_Screen_alert_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(174).setVisible(False)
         On_Screen_alert_on_left_white = self.getControl(174)
         On_Screen_alert_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(175).setVisible(False)
         On_Screen_alert_on_right_black = self.getControl(175)
         On_Screen_alert_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(176).setVisible(False)
         On_Screen_alert_on_right_black = self.getControl(176)
         On_Screen_alert_on_right_black.setImage(self.path + "right_button_white.png")
         self.getControl(177).setVisible(False)
         Show_Subtitle_yellow = self.getControl(177)
         Show_Subtitle_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(178).setVisible(False)
         Show_Subtitle_blue = self.getControl(178)
         Show_Subtitle_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(182).setVisible(False)
         Show_Subtitle_on = self.getControl(182)
         Show_Subtitle_on.setImage(self.path + "blue_settings_button.png")
         self.getControl(187).setVisible(False)
         Show_Subtitle_on_left_black = self.getControl(187)
         Show_Subtitle_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(188).setVisible(False)
         Show_Subtitle_on_left_white = self.getControl(188)
         Show_Subtitle_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(189).setVisible(False)
         Show_Subtitle_on_right_black = self.getControl(189)
         Show_Subtitle_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(190).setVisible(False)
         Show_Subtitle_on_right_black = self.getControl(190)
         Show_Subtitle_on_right_black.setImage(self.path + "right_button_white.png")
         self.getControl(192).setVisible(False)
         Save_settings = self.getControl(192)
         Save_settings.setImage(self.path + "blue_settings_button.png")
         self.getControl(198).setVisible(False)
         reset_button_red = self.getControl(198)
         reset_button_red.setImage(self.path + "reset_button_red.png")
         self.getControl(199).setVisible(False)
         left_right_button_settings = self.getControl(199)
         left_right_button_settings.setImage(self.path + "left_right_button_settings.png")
         self.getControl(201).setVisible(False)
         Sound_Audio_yellow = self.getControl(201)
         Sound_Audio_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(202).setVisible(False)
         Sound_Audio_blue = self.getControl(202)
         Sound_Audio_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(205).setVisible(False)
         Sound_Audio_on_yellow = self.getControl(205)
         Sound_Audio_on_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(207).setVisible(False)
         Sound_Audio_on_left_black = self.getControl(207)
         Sound_Audio_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(208).setVisible(False)
         Sound_Audio_on_left_white = self.getControl(208)
         Sound_Audio_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(209).setVisible(False)
         Sound_Audio_on_left_black = self.getControl(209)
         Sound_Audio_on_left_black.setImage(self.path + "right_button_black.png")
         self.getControl(210).setVisible(False)
         Sound_Audio_on_left_black = self.getControl(210)
         Sound_Audio_on_left_black.setImage(self.path + "right_button_white.png")
         self.getControl(218).setVisible(False)
         Volume_Level_Blue = self.getControl(218)
         Volume_Level_Blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(222).setVisible(False)
         Volume_Level_On_Blue = self.getControl(222)
         Volume_Level_On_Blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(227).setVisible(False)
         Volume_Level_on_left_white = self.getControl(227)
         Volume_Level_on_left_white.setImage(self.path + "left_button_black.png")
         self.getControl(228).setVisible(False)
         Volume_Level_on_left_black = self.getControl(228)
         Volume_Level_on_left_black.setImage(self.path + "left_button_white.png")
         self.getControl(229).setVisible(False)
         Volume_Level_on_right_black = self.getControl(229)
         Volume_Level_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(230).setVisible(False)
         Volume_Level_on_right_white = self.getControl(230)
         Volume_Level_on_right_white.setImage(self.path + "right_button_white.png")
         self.getControl(356).setVisible(False)
         Audio_output_blue = self.getControl(356)
         Audio_output_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(360).setVisible(False)
         Audio_output_on_blue = self.getControl(360)
         Audio_output_on_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(241).setVisible(False)
         Audio_output_on_left_black = self.getControl(241)
         Audio_output_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(242).setVisible(False)
         Audio_output_on_left_white = self.getControl(242)
         Audio_output_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(243).setVisible(False)
         Audio_output_on_right_black = self.getControl(243)
         Audio_output_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(244).setVisible(False)
         Audio_output_on_right_white = self.getControl(244)
         Audio_output_on_right_white.setImage(self.path + "right_button_white.png")
         self.getControl(246).setVisible(False)
         background_music_blue = self.getControl(246)
         background_music_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(250).setVisible(False)
         background_music_on_blue = self.getControl(250)
         background_music_on_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(255).setVisible(False)
         background_music_on_left_black = self.getControl(255)
         background_music_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(256).setVisible(False)
         background_music_on_left_white = self.getControl(256)
         background_music_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(257).setVisible(False)
         background_music_on_right_black = self.getControl(257)
         background_music_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(258).setVisible(False)
         background_music_on_right_white = self.getControl(258)
         background_music_on_right_white.setImage(self.path + "right_button_white.png")
         self.getControl(260).setVisible(False)
         beep_error_blue = self.getControl(260)
         beep_error_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(264).setVisible(False)
         beep_error_on_blue = self.getControl(264)
         beep_error_on_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(269).setVisible(False)
         beep_error_on_left_black = self.getControl(269)
         beep_error_on_left_black.setImage(self.path + "left_button_black.png")
         self.getControl(270).setVisible(False)
         beep_error_on_left_white = self.getControl(270)
         beep_error_on_left_white.setImage(self.path + "left_button_white.png")
         self.getControl(271).setVisible(False)
         beep_error_on_right_black = self.getControl(271)
         beep_error_on_right_black.setImage(self.path + "right_button_black.png")
         self.getControl(272).setVisible(False)
         beep_error_on_right_black = self.getControl(272)
         beep_error_on_right_black.setImage(self.path + "right_button_white.png")
         self.getControl(273).setVisible(False)
         sound_settings_yellow = self.getControl(273)
         sound_settings_yellow.setImage(self.path + "yellow_settings_button.png")
         self.getControl(274).setVisible(False)
         sound_settings_blue = self.getControl(274)
         sound_settings_blue.setImage(self.path + "blue_settings_button.png")
         self.getControl(280).setVisible(False)
         sound_reset_button_red = self.getControl(280)
         sound_reset_button_red.setImage(self.path + "reset_button_red.png")
         self.getControl(281).setVisible(False)
         left_right_button_sound = self.getControl(281)
         left_right_button_sound.setImage(self.path + "left_right_button_settings.png")
         cSetVisible(self,283,False)
         changelanguage_yellow_BOX = self.getControl(283)
         changelanguage_yellow_BOX.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,284,False)
         changelanguage_blue_BOX = self.getControl(284)
         changelanguage_blue_BOX.setImage(self.path + "changelang_blue.png")
         self.getControl(287).setVisible(False)
         chang_language_yellow = self.getControl(287)
         chang_language_yellow.setImage(self.path + "changelang_yellow.png")
         self.getControl(288).setVisible(False)
         chang_language_yellow = self.getControl(288)
         chang_language_yellow.setImage(self.path + "changelang_blue.png")
         self.getControl(289).setVisible(False)
         left_arrow_lang_black = self.getControl(289)
         left_arrow_lang_black.setImage(self.path + "left_button_black.png")
         self.getControl(290).setVisible(False)
         left_arrow_lang_white = self.getControl(290)
         left_arrow_lang_white.setImage(self.path + "left_button_white.png")
         self.getControl(291).setVisible(False)
         right_arrow_lang_black = self.getControl(291)
         right_arrow_lang_black.setImage(self.path + "right_button_black.png")
         self.getControl(292).setVisible(False)
         right_arrow_lang_white = self.getControl(292)
         right_arrow_lang_white.setImage(self.path + "right_button_white.png")
         self.getControl(317).setVisible(False)
         savesettings_yellow_BOX = self.getControl(317)
         savesettings_yellow_BOX.setImage(self.path + "savesettings_yellow.png")
         self.getControl(318).setVisible(False)
         savesettings_blue_BOX = self.getControl(318)
         savesettings_blue_BOX.setImage(self.path + "savesettings_blue.png")
         cSetVisible(self,321,False)
         self.getControl(321).setLabel('$INFO[System.Date(ddd dd mmm)]'  + ' ' + time.strftime("%I").lstrip('0') + time.strftime(":%M%p"))
         cSetVisible(self,323,False)
         enterpin_yellow = self.getControl(323)
         enterpin_yellow.setImage(self.path + "enterpin_yellow.png")
         cSetVisible(self,324,False)
         enterpin_blue = self.getControl(324)
         enterpin_blue.setImage(self.path + "enterpin_blue1.png")
         cSetVisible(self,325,False)
         enterpin_bottom_blue = self.getControl(325)
         enterpin_bottom_blue.setImage(self.path + "enterpin_blue1.png")
         cSetVisible(self,329,False)
         pin_press_back = self.getControl(329)
         pin_press_back.setImage(self.path + "pressback3.png")
         cSetVisible(self,332,False)
         enterpin_blank_1 = self.getControl(332)
         enterpin_blank_1.setImage(self.path + "pin_numb1.png")
         cSetVisible(self,333,False)
         enterpin_blank_2 = self.getControl(333)
         enterpin_blank_2.setImage(self.path + "pin_numb2.png")
         cSetVisible(self,334,False)
         enterpin_blank_3 = self.getControl(334)
         enterpin_blank_3.setImage(self.path + "pin_numb3.png")
         cSetVisible(self,335,False)
         enterpin_blank_4 = self.getControl(335)
         enterpin_blank_4.setImage(self.path + "pin_numb4.png")
         cSetVisible(self,336,False)
         enterpin_chars_1 = self.getControl(336)
         enterpin_chars_1.setImage(self.path + "pin_1.png")
         cSetVisible(self,337,False)
         enterpin_chars_2 = self.getControl(337)
         enterpin_chars_2.setImage(self.path + "pin_2.png")
         cSetVisible(self,338,False)
         enterpin_chars_3 = self.getControl(338)
         enterpin_chars_3.setImage(self.path + "pin_3.png")
         cSetVisible(self,339,False)
         enterpin_chars_4 = self.getControl(339)
         enterpin_chars_4.setImage(self.path + "pin_4.png")
         cSetVisible(self,340,False)
         loading_gif = self.getControl(340)
         loading_gif.setImage(self.path + "tvguide-loading.gif")
         cSetVisible(self,347,False)
         channel_1_yellow = self.getControl(347)
         channel_1_yellow.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,354,False)
         channel_1_blue = self.getControl(354)
         channel_1_blue.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,348,False)
         channel_2_blue = self.getControl(348)
         channel_2_blue.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,355,False)
         channel_2_yellow = self.getControl(355)
         channel_2_yellow.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,349,False)
         channel_3_blue = self.getControl(349)
         channel_3_blue.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,356,False)
         channel_3_yellow = self.getControl(356)
         channel_3_yellow.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,350,False)
         channel_4_blue = self.getControl(350)
         channel_4_blue.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,357,False)
         channel_4_yellow = self.getControl(357)
         channel_4_yellow.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,351,False)
         channel_5_blue = self.getControl(351)
         channel_5_blue.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,358,False)
         channel_5_yellow = self.getControl(358)
         channel_5_yellow.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,352,False)
         channel_6_blue = self.getControl(352)
         channel_6_blue.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,359,False)
         channel_6_yellow = self.getControl(359)
         channel_6_yellow.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,353,False)
         channel_7_blue = self.getControl(353)
         channel_7_blue.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,360,False)
         channel_7_yellow = self.getControl(360)
         channel_7_yellow.setImage(self.path + "changelang_yellow.png")
         cSetVisible(self,341,False)
         tvguide_time_bar = self.getControl(341)
         tvguide_time_bar.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,375,False)
         buttons_bar = self.getControl(375)
         buttons_bar.setImage(self.path + "channels_bar1.png")
         cSetVisible(self,376,False)
         epg_red_button = self.getControl(376)
         epg_red_button.setImage(self.path + "red_button.png")
         cSetVisible(self,377,False)
         epg_green_button = self.getControl(377)
         epg_green_button.setImage(self.path + "green_button.png")
         cSetVisible(self,378,False)
         epg_yellow_button = self.getControl(378)
         epg_yellow_button.setImage(self.path + "yellow_button.png")
         cSetVisible(self,379,False)
         epg_blue_button = self.getControl(379)
         epg_blue_button.setImage(self.path + "blue_button.png")
         cSetVisible(self,384,False)
         epg_select_button = self.getControl(384)
         epg_select_button.setImage(self.path + "select_button.png")
         cSetVisible(self,385,False)
         epg_record_button = self.getControl(385)
         epg_record_button.setImage(self.path + "record_button.png")
         cSetVisible(self,386,False)
         epg_back_button = self.getControl(386)
         epg_back_button.setImage(self.path + "back_button.png")
         cSetVisible(self,388,False)
         epg_back_button = self.getControl(388)
         epg_back_button.setImage(self.path + "tv_blackscreen.png")
         ADDON = xbmcaddon.Addon(id = 'script.tvguide')
         english_enabled = ADDON.getSetting('english.enabled') == 'true'
         french_enabled = ADDON.getSetting('french.enabled') == 'true'
         self.getString = ADDON.getLocalizedString
         self.getControl(46).setVisible(False)
         self.getControl(46).setLabel(self.getString(30001))
         self.getControl(47).setVisible(False)
         self.getControl(47).setLabel(self.getString(30001))
         self.getControl(48).setVisible(False)
         self.getControl(48).setLabel(self.getString(30002))
         self.getControl(49).setVisible(False)
         self.getControl(49).setLabel(self.getString(30002))
         self.getControl(50).setVisible(False)
         self.getControl(50).setLabel(self.getString(30003))
         self.getControl(51).setVisible(False)
         self.getControl(51).setLabel(self.getString(30003))
         self.getControl(52).setVisible(False)
         self.getControl(52).setLabel(self.getString(30004))
         self.getControl(53).setVisible(False)
         self.getControl(53).setLabel(self.getString(30004))
         self.getControl(54).setVisible(False)
         self.getControl(54).setLabel(self.getString(30005))
         self.getControl(55).setVisible(False)
         self.getControl(55).setLabel(self.getString(30005))
         self.getControl(56).setVisible(False)
         self.getControl(56).setLabel(self.getString(30006))
         self.getControl(57).setVisible(False)
         self.getControl(57).setLabel(self.getString(30006))
         self.getControl(58).setVisible(False)
         self.getControl(58).setLabel(self.getString(30007))
         self.getControl(59).setVisible(False)
         self.getControl(59).setLabel(self.getString(30007))
         self.getControl(60).setVisible(False)
         self.getControl(60).setLabel(self.getString(30008))
         self.getControl(61).setVisible(False)
         self.getControl(61).setLabel(self.getString(30008))
         self.getControl(62).setVisible(False)
         self.getControl(62).setLabel(self.getString(30009))
         self.getControl(63).setVisible(False)
         self.getControl(63).setLabel(self.getString(30009))
         self.getControl(64).setVisible(False)
         self.getControl(64).setLabel(self.getString(30010))
         self.getControl(65).setVisible(False)
         self.getControl(65).setLabel(self.getString(30010))
         self.getControl(66).setVisible(False)
         self.getControl(66).setLabel(self.getString(30011))
         self.getControl(67).setVisible(False)
         self.getControl(67).setLabel(self.getString(30011))
         self.getControl(68).setVisible(False)
         self.getControl(68).setLabel(self.getString(30012))
         self.getControl(69).setVisible(False)
         self.getControl(69).setLabel(self.getString(30012))
         self.getControl(70).setVisible(False)
         self.getControl(70).setLabel(self.getString(30013))
         self.getControl(71).setVisible(False)
         self.getControl(71).setLabel(self.getString(30013))
         self.getControl(72).setVisible(False)
         self.getControl(72).setLabel(self.getString(30014))
         self.getControl(73).setVisible(False)
         self.getControl(73).setLabel(self.getString(30014))
         self.getControl(74).setVisible(False)
         self.getControl(74).setLabel(self.getString(30015))
         self.getControl(75).setVisible(False)
         self.getControl(75).setLabel(self.getString(30015))
         self.getControl(76).setVisible(False)
         self.getControl(76).setLabel(self.getString(30016))
         self.getControl(77).setVisible(False)
         self.getControl(77).setLabel(self.getString(30016))
         self.getControl(78).setVisible(False)
         self.getControl(78).setLabel(self.getString(30017))
         self.getControl(79).setVisible(False)
         self.getControl(79).setLabel(self.getString(30017))
         self.getControl(80).setVisible(False)
         self.getControl(80).setLabel(self.getString(30018))
         self.getControl(81).setVisible(False)
         self.getControl(81).setLabel(self.getString(30018))
         self.getControl(82).setVisible(False)
         self.getControl(82).setLabel(self.getString(30019))
         self.getControl(83).setVisible(False)
         self.getControl(83).setLabel(self.getString(30019))
         self.getControl(84).setVisible(False)
         self.getControl(84).setLabel(self.getString(30020))
         self.getControl(85).setVisible(False)
         self.getControl(85).setLabel(self.getString(30020))
         self.getControl(86).setVisible(False)
         self.getControl(86).setLabel(self.getString(30021))
         self.getControl(87).setVisible(False)
         self.getControl(87).setLabel(self.getString(30021))
         self.getControl(88).setVisible(False)
         self.getControl(88).setLabel(self.getString(30022))
         self.getControl(89).setVisible(False)
         self.getControl(89).setLabel(self.getString(30022))
         self.getControl(90).setVisible(False)
         self.getControl(90).setLabel(self.getString(30023))
         self.getControl(91).setVisible(False)
         self.getControl(91).setLabel(self.getString(30024))
         self.getControl(92).setVisible(False)
         self.getControl(92).setLabel(self.getString(30025))
         self.getControl(93).setVisible(False)
         self.getControl(93).setLabel(self.getString(30026))
         self.getControl(94).setVisible(False)
         self.getControl(94).setLabel(self.getString(30027))
         self.getControl(95).setVisible(False)
         self.getControl(95).setLabel(self.getString(30028))
         self.getControl(96).setVisible(False)
         self.getControl(96).setLabel(self.getString(30029))
         self.getControl(97).setVisible(False)
         self.getControl(97).setLabel(self.getString(30030))
         self.getControl(98).setVisible(False)
         self.getControl(98).setLabel(self.getString(30031))
         self.getControl(99).setVisible(False)
         self.getControl(99).setLabel(self.getString(30032))
         self.getControl(100).setVisible(False)
         self.getControl(100).setLabel(self.getString(30035))
         self.getControl(103).setVisible(False)
         self.getControl(103).setLabel(self.getString(30036))
         self.getControl(104).setVisible(False)
         self.getControl(104).setLabel(self.getString(30036))
         self.getControl(111).setVisible(False)
         self.getControl(111).setLabel(self.getString(30037))
         self.getControl(112).setVisible(False)
         self.getControl(112).setLabel(self.getString(30037))
         self.getControl(113).setVisible(False)
         self.getControl(113).setLabel(self.getString(30038))
         self.getControl(114).setVisible(False)
         self.getControl(114).setLabel(self.getString(30038))
         self.getControl(115).setVisible(False)
         self.getControl(115).setLabel(self.getString(30039))
         self.getControl(116).setVisible(False)
         self.getControl(116).setLabel(self.getString(30039))
         self.getControl(117).setVisible(False)
         self.getControl(117).setLabel(self.getString(30040))
         self.getControl(118).setVisible(False)
         self.getControl(118).setLabel(self.getString(30040))
         self.getControl(119).setVisible(False)
         self.getControl(119).setLabel(self.getString(30041))
         self.getControl(120).setVisible(False)
         self.getControl(120).setLabel(self.getString(30041))
         self.getControl(124).setVisible(False)
         self.getControl(124).setLabel(self.getString(30042))
         self.getControl(138).setVisible(False)
         self.getControl(138).setLabel(self.getString(30045))
         self.getControl(152).setVisible(False)
         self.getControl(152).setLabel(self.getString(30046))
         self.getControl(166).setVisible(False)
         self.getControl(166).setLabel(self.getString(30049))
         self.getControl(180).setVisible(False)
         self.getControl(180).setLabel(self.getString(30050))
         self.getControl(194).setVisible(False)
         self.getControl(194).setLabel(self.getString(30051))
         self.getControl(196).setVisible(False)
         self.getControl(196).setLabel(self.getString(30052))
         self.getControl(197).setVisible(False)
         self.getControl(197).setLabel(self.getString(30034))
         self.getControl(200).setVisible(False)
         self.getControl(200).setLabel(self.getString(30053))
         self.getControl(203).setVisible(False)
         self.getControl(203).setLabel(self.getString(30054))
         self.getControl(204).setVisible(False)
         self.getControl(204).setLabel(self.getString(30054))
         self.getControl(219).setVisible(False)
         self.getControl(219).setLabel(self.getString(30058))
         self.getControl(220).setVisible(False)
         self.getControl(220).setLabel(self.getString(30058))
         self.getControl(233).setVisible(False)
         self.getControl(233).setLabel(self.getString(30059))
         self.getControl(248).setVisible(False)
         self.getControl(248).setLabel(self.getString(30060))
         self.getControl(262).setVisible(False)
         self.getControl(262).setLabel(self.getString(30061))
         self.getControl(275).setVisible(False)
         self.getControl(275).setLabel(self.getString(30076))
         self.getControl(276).setVisible(False)
         self.getControl(276).setLabel(self.getString(30051))
         self.getControl(278).setVisible(False)
         self.getControl(278).setLabel(self.getString(30052))
         self.getControl(279).setVisible(False)
         self.getControl(279).setLabel(self.getString(30034))
         self.getControl(282).setVisible(False)
         self.getControl(282).setLabel(self.getString(30062))
         self.getControl(285).setVisible(False)
         self.getControl(285).setLabel(self.getString(30063))
         self.getControl(286).setVisible(False)
         self.getControl(286).setLabel(self.getString(30063))
         self.getControl(293).setVisible(False)
         self.getControl(293).setLabel(self.getString(30064))
         self.getControl(294).setVisible(False)
         self.getControl(294).setLabel(self.getString(30064))
         self.getControl(295).setVisible(False)
         self.getControl(295).setLabel(self.getString(30065))
         self.getControl(296).setVisible(False)
         self.getControl(296).setLabel(self.getString(30065))
         self.getControl(297).setVisible(False)
         self.getControl(297).setLabel(self.getString(30066))
         self.getControl(298).setVisible(False)
         self.getControl(298).setLabel(self.getString(30066))
         self.getControl(299).setVisible(False)
         self.getControl(299).setLabel(self.getString(30067))
         self.getControl(300).setVisible(False)
         self.getControl(300).setLabel(self.getString(30067))
         self.getControl(301).setVisible(False)
         self.getControl(301).setLabel(self.getString(30068))
         self.getControl(302).setVisible(False)
         self.getControl(302).setLabel(self.getString(30068))
         self.getControl(303).setVisible(False)
         self.getControl(303).setLabel(self.getString(30069))
         self.getControl(304).setVisible(False)
         self.getControl(304).setLabel(self.getString(30069))
         self.getControl(305).setVisible(False)
         self.getControl(305).setLabel(self.getString(30070))
         self.getControl(306).setVisible(False)
         self.getControl(306).setLabel(self.getString(30070))
         self.getControl(307).setVisible(False)
         self.getControl(307).setLabel(self.getString(30071))
         self.getControl(308).setVisible(False)
         self.getControl(308).setLabel(self.getString(30071))
         self.getControl(309).setVisible(False)
         self.getControl(309).setLabel(self.getString(30072))
         self.getControl(310).setVisible(False)
         self.getControl(310).setLabel(self.getString(30072))
         self.getControl(311).setVisible(False)
         self.getControl(311).setLabel(self.getString(30073))
         self.getControl(312).setVisible(False)
         self.getControl(312).setLabel(self.getString(30073))
         self.getControl(313).setVisible(False)
         self.getControl(313).setLabel(self.getString(30074))
         self.getControl(314).setVisible(False)
         self.getControl(314).setLabel(self.getString(30074))
         self.getControl(315).setVisible(False)
         self.getControl(315).setLabel(self.getString(30075))
         self.getControl(316).setVisible(False)
         self.getControl(316).setLabel(self.getString(30075))
         self.getControl(319).setVisible(False)
         self.getControl(319).setLabel(self.getString(30076))
         self.getControl(320).setVisible(False)
         self.getControl(320).setLabel(self.getString(30076))
         self.getControl(322).setVisible(False)
         self.getControl(322).setLabel(self.getString(30078))
         self.getControl(327).setVisible(False)
         self.getControl(327).setLabel(self.getString(30079))
         self.getControl(328).setVisible(False)
         self.getControl(328).setLabel(self.getString(30080))
         self.getControl(330).setVisible(False)
         self.getControl(330).setLabel(self.getString(30081))
         self.getControl(331).setVisible(False)
         self.getControl(331).setLabel(self.getString(30082))
         cSetVisible(self,368,False)
         cSetVisible(self,369,False)
         cSetVisible(self,370,False)
         cSetVisible(self,371,False)
         cSetVisible(self,372,False)
         cSetVisible(self,373,False)
         cSetVisible(self,374,False)
         self.label = xbmcgui.ControlLabel(50, 50, 525, 75, 'My Label Text', textColor='0xFFFFFFFF')
         self.addControl(self.label)
         MyLabelText = "Hello!"
         self.label.setLabel('[COLOR FF00C936]' + MyLabelText + '[/COLOR]')




         if english_enabled:
             cSetVisible(self,380,False)
             cSetVisible(self,381,False)
             cSetVisible(self,382,False)
             cSetVisible(self,383,False)
             cSetVisible(self,384,False)
             cSetVisible(self,387,False)
             cSetVisible(self,46,True)
             cSetVisible(self,49,True)
             cSetVisible(self,51,True)
             cSetVisible(self,53,True)
             cSetVisible(self,54,True)
             cSetVisible(self,57,True)
             cSetVisible(self,59,True)
             cSetVisible(self,61,True)
             cSetVisible(self,63,True)
             cSetVisible(self,65,True)
             cSetVisible(self,67,True)
             cSetVisible(self,69,True)
             cSetVisible(self,71,True)
             cSetVisible(self,73,True)



         if french_enabled:
             pass
             #cSetVisible(self,264,True)




     def parseDateTimeToMinutesSinceEpoch(self, p_datetime):
         datetime = time.strptime(p_datetime, "%Y%m%d%H%M%S")
         seconds_epoch = time.mktime(datetime)
         minutes_epoch = int(seconds_epoch / 60)
         return minutes_epoch



     def format(time):
         return time.strftime("%I").lstrip('0') + time.strftime(":%M%p")



     def abortdownload(self):
         global __killthread__
         __killthread__ = True
         if self.thread is not None:
            self.thread.join(3000)
         del self.thread
         self.thread = None



     def setControlImage(self, controlId, image):
         control = self.getControl(controlId)
         if control:
             control.setImage(image)



     def clearEPG(self):
         program_buttons = [elem.control for elem in self.program_buttons]

         program_id = list()
         position_X = list()
         position_Y = list()
         for elem in program_buttons:
             program_id.append(elem.getId())
             position_X.append(elem.getX())
             position_Y.append(elem.getY())
         program_id = map(str, program_id)
         pos_X = map(str, position_X)
         pos_Y = map(str, position_Y)


         if self.move_down_flag == False:
             try:
                 for pos_X, pos_Y, prog_id in zip(pos_X, pos_Y, program_id):
                     if int(pos_Y) == 278:
                         program_button = self.getControl(int(prog_id))

                         self.toRemove = []
                         self.toRemove.extend([program_button])

                         for control in self.toRemove:
                             self.removeControls([control])

             except:
                 for pos_X, pos_Y, prog_id in zip(pos_X, pos_Y, program_id):
                     if int(pos_Y) == 278:

                         try:
                             program_button = self.getControl(int(prog_id))
                             self.toRemove = []
                             self.toRemove.extend([program_button])

                             for control in self.toRemove:
                                 self.removeControl(control)
                         except:
                             pass # happens if we try to remove a control that doesn't exist
             del program_buttons[:]



         if self.move_up_flag == True:
             program_buttons = [elem.control for elem in self.program_buttons]
             self.move_up_flag = False
             try:
                 self.removeControls(program_buttons)
             except:
                 for elem in self.program_buttons:
                     try:
                         self.removeControl(elem.control)
                     except:
                         pass # happens if we try to remove a control that doesn't exist
             del self.program_buttons[:]



         if self.move_down_flag == True:
             program_buttons = [elem.control for elem in self.program_buttons]
             self.move_down_flag = False
             try:
                 self.removeControls(program_buttons)
             except:
                 for elem in self.program_buttons:
                     try:
                         self.removeControl(elem.control)
                     except:
                         pass # happens if we try to remove a control that doesn't exist
             del self.program_buttons[:]



         if self.move_back_flag == True:
             program_buttons = [elem.control for elem in self.program_buttons]
             self.move_back_flag = False
             try:
                 self.removeControls(program_buttons)
             except:
                 for elem in self.program_buttons:
                     try:
                         self.removeControl(elem.control)
                     except:
                         pass # happens if we try to remove a control that doesn't exist
             del self.program_buttons[:]


     def get_programming_info(self):
         print "hello chris, your self.get_button_id is " + str(self.get_button_id)
         self.getControl(int(self.get_button_id)).setVisible(False)
         #cur = con.cursor()
         #cur.execute('SELECT stop_date FROM programs where channel=?', [self.get_button_id])
         #stop_date = cur.fetchone()


         #if stop_date is not None:
             #stop_date = str(stop_date[1])
             #half_hour = str(self.getControl(344).getLabel())
             #one_hour = str(self.getControl(345).getLabel())
             #one_hour_half = str(self.getControl(346).getLabel())
             #epg_time_1 = time.strptime(half_hour, '%I:%M%p')
             #epg_time_2 = time.strptime(one_hour, '%I:%M%p')
             #epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

             #if prog_stop_clock == '05':
                 #print "change itn news width size"
                 #print "program_length"
                 #print program_length




     #def test_rec(cur, con, id_value, title_value):
         #cur.execute("UPDATE programs SET button_id=:id_dic WHERE title==:title_dic", {"id_dic":id_value, "title_dic":title_value})
         #con.commit()

     def update_db(self):
         database_path = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
         cur = con.cursor()

         programs_button = [elem.control for elem in self.program_buttons]
         program_id = list()

         for elem in programs_button:
             program_id.append(elem.getId())
             prog_id = map(str, program_id)

             for ids, title in zip(prog_id, prog_title):
                 cur.execute("UPDATE programs SET button_id=? WHERE title=?", ([ids, title]))
             con.commit()




     def All_Channels_BACKUP(self):
         global __killthread__
         self.getControl(343).setLabel("0%")
         try:
             # DOWNLOAD THE XML SOURCE HERE
             url = ADDON.getSetting('allchannel.url')
             data = ''
             response = urllib2.urlopen(url)
             meta = response.info()
             file_size = int(meta.getheaders("Content-Length")[0])
             file_size_dl = 0
             block_size = 2048
             while True and not __killthread__:
                 mbuffer = response.read(block_size)
                 if not mbuffer:
                     break
                 file_size_dl += len(mbuffer)
                 data += mbuffer
                 state = int(file_size_dl * 10.0 / file_size)
                 self.getControl(343).setLabel(str(state) + '%')
             else:
                 if __killthread__:
                     raise AbortDownload('downloading')
             del response

             #CREATE DATABASE
             profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
             if os.path.exists(profilePath):
                 os.remove(profilePath)
             conn1 = database.connect(profilePath)
             cur1 = conn1.cursor()
             cur1.execute('CREATE TABLE programs(channel TEXT, title TEXT, start_date TIMESTAMP, stop_date TIMESTAMP, button_id TEXT, description TEXT)')
             conn1.commit()

             #Get the loaded data
             total_count = data.count('programme') / 2
             tv_elem = ElementTree.parse(StringIO.StringIO(data)).getroot()
             cur1 = conn1.cursor()
             conn1.close()
             count = 1
             channels = OrderedDict()
             channels_list = list()
             title_list = list()
             start_time_list = list()
             stop_time_list = list()

             for channel in tv_elem.findall('channel'):
                 channel_name = channel.find('display-name').text
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 conn2 = database.connect(profilePath)
                 cur2 = conn2.cursor()

                 for program in channel.findall('programme'):
                     if __killthread__:
                         raise AbortDownload('filling')
                     title = program.find('title').text
                     start_time = program.get("start")
                     stop_time = program.get("stop")
                     channels_list.append(channel_name)
                     title_list.append(title)
                     start_time_list.append(start_time)
                     stop_time_list.append(stop_time)
                     #print "start_time"
                     #print start_time
                     cur2.execute("INSERT INTO programs(channel, title, start_date, stop_date)" + " VALUES(?, ?, ?, ?)", [channel_name, title, start_time, stop_time])
                     status = 10 + int(float(count)/float(total_count) * 90.0)
                     self.getControl(343).setLabel(str(status) + '%')
                     xbmc.sleep(10)
                     count += 1
                 conn2.commit()
                 conn2.close()
             print 'Channels have been successfully stored into the database!'
             self.getControl(343).setLabel('100%')
             xbmc.sleep(3000)

             #Set the date and time row
             current_time = time.time() # now (in seconds)
             half_hour = current_time + 60*30  # now + 30 minutes
             one_hour = current_time + 60*60  # now + 60 minutes

             for t in [current_time,half_hour,one_hour]:
                 if (0 <= datetime.datetime.now().minute <= 29):
                     self.getControl(344).setLabel(time.strftime("%I").lstrip('0') + ':00' + time.strftime("%p"))
                     self.getControl(345).setLabel(time.strftime("%I").lstrip('0') + ':30' + time.strftime("%p"))
                     self.getControl(346).setLabel(time.strftime("%I" + ":00%p",time.localtime(t)).lstrip("0"))
                 else:
                     self.getControl(344).setLabel(time.strftime("%I").lstrip('0') + ':30' + time.strftime("%p"))
                     self.getControl(345).setLabel(time.strftime("%I" + ":00%p",time.localtime(t)).lstrip("0"))
                     self.getControl(346).setLabel(time.strftime("%I" + ":30%p",time.localtime(t)).lstrip("0"))

             #Pull the data from the database
             database_path = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
             prog_title = list()


             if os.path.exists(database_path):
                 #get the channels list
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 conn3 = database.connect(profilePath)
                 cur3 = conn3.cursor()
                 cur3.execute('SELECT channel FROM programs WHERE channel GROUP BY channel')
                 channelList = list()

                 for row in cur3:
                     channels = row[0].encode('ascii')
                     channelList.append(channels)


                 conn3.close()
                 #set the channels text
                 program_id_flag = True
                 program_X = list()
                 program_time = list()
                 programs_width = list()
                 channels = list()


                 for index in range(0, CHANNELS_PER_PAGE):
                     channel = channelList[index]
                     channel_index = index


                     if channel is not None:
                         self.getControl(361 + index).setLabel(channel)
                         self.getControl(368 + index).setLabel(channel)


                     #get the programs list
                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                     conn4 = database.connect(profilePath)
                     cur4 = conn4.cursor()
                     cur4.execute('SELECT channel, title, start_date, stop_date FROM programs where channel=?', [channel])
                     programList = list()
                     programs = cur4.fetchall()
                     start_pos = 375    # indent for first program

                     for ind, row in enumerate(programs):
                         title = row[1]
                         program_start_date = str(row[2])
                         program_end_date = str(row[3])
                         prog_title.append(str(title))

                         #convert the date formats into minutes
                         minutes_start = self.parseDateTimeToMinutesSinceEpoch(program_start_date)
                         minutes_end = self.parseDateTimeToMinutesSinceEpoch(program_end_date)
                         minutes_length = minutes_end - minutes_start
                         program_minutes = minutes_length
                         programs_top = 315
                         program_height = 33
                         program_gap = 3
                         position_start = start_pos
                         position_top = programs_top + channel_index * (program_height + program_gap + 1.5)

                         if position_top == 352.5:
                             position_top = 353
                         elif position_top == 390.0:
                             position_top = 391
                         elif position_top == 427.5:
                             position_top = 428
                         elif position_top == 465.0:
                             position_top = 466
                         elif position_top == 502.5:
                             position_top = 503
                         elif position_top == 540.0:
                             position_top = 541
                         path = "special://home/addons/script.tvguide/resources/skins/Default/media/"

                         #work out on program per minute to multiply by 11.4 to get the width size
                         program_width = program_minutes * 11.4
                         program_width = eval(str(program_width).replace('.0', ''))

                         #create width size for program buttons
                         if program_width == 57:
                             program_width = 59
                         elif program_width == 114:
                             program_width = 117
                         elif program_width == 171:
                             program_width = 167
                         elif program_width == 228:
                             program_width = 227
                         elif program_width == 278:
                             program_width = 276
                         elif program_width == 285:
                             program_width = 286
                         elif program_width == 399:
                             program_width = 396
                         elif program_width == 460:
                             program_width = 456
                         elif program_width == 453:
                             program_width = 452
                         elif program_width == 513:
                             program_width = 515
                         elif program_width == 570:
                             program_width = 567
                         elif program_width == 627:
                             program_width = 626
                         elif program_width == 677:
                             program_width = 676
                         elif program_width == 684:
                             program_width = 692


                         #print program_width
                         start_pos += program_width + 2 * program_gap + 1

                         if program_width > 1:
                             if program_width < 1:
                                 program_title = ''
                             else:
                                 program_title = '[B]' + title + '[/B]'

                             program_controls = xbmcgui.ControlButton(
                                 int(position_start), 
                                 int(position_top), 
                                 int(program_width), 
                                 int(program_height), 
                                 program_title, 
                                 focusTexture = path + self.button_focus, 
                                 noFocusTexture = path + self.button_nofocus,
                                 alignment=4,
                                 textColor = '0xFFFFFFFF',
                                 focusedColor = '0xFF000000'
                             )
                             #Enabled the channels and programs control
                             self.getControl(347).setVisible(True)
                             self.getControl(348).setVisible(True)
                             self.getControl(349).setVisible(True)
                             self.getControl(350).setVisible(True)
                             self.getControl(351).setVisible(True)
                             self.getControl(352).setVisible(True)
                             self.getControl(353).setVisible(True)
                         self.program_buttons.append(ProgramControls(program_controls, program))
                     channels.append(channel)
                     conn4.close()
                 #create the table in a database
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 conn5 = database.connect(profilePath)
                 cur5 = conn5.cursor()
                 cur5.execute('CREATE TABLE IF NOT EXISTS buttons(button_ids TEXT, button_width TEXT)')
                 programs_button = [elem.control for elem in self.program_buttons]
                 program_width = list()
                 pos_X = list()
                 pos_Y = list()

                 programs_id = list()
                 for elem in programs_button:
                     program_width.append(elem.getWidth())
                     programs_width.append(elem.getWidth())
                 program_width = map(str, program_width)
                 program_index_ = list()
                 program_remaining = list()
                 program_start_clock = list()
                 conn5.commit()
                 conn5.close()


                 #add the programs buttons
                 if len(programs_button) > 1:
                     self.addControls(programs_button)
                     self.program_remaining = True

                     #Enabled EPG and other controls
                     self.getControl(340).setVisible(False)
                     self.getControl(343).setVisible(False)
                     self.getControl(341).setVisible(False)
                     self.getControl(342).setVisible(True)
                     self.getControl(344).setVisible(True)
                     self.getControl(345).setVisible(True)
                     self.getControl(346).setVisible(True)
                     self.getControl(375).setVisible(True)
                     self.getControl(376).setVisible(True)
                     self.getControl(380).setVisible(True)
                     self.getControl(377).setVisible(True)
                     self.getControl(381).setVisible(True)
                     self.getControl(378).setVisible(True)
                     self.getControl(382).setVisible(True)
                     self.getControl(379).setVisible(True)
                     self.getControl(383).setVisible(True)
                     self.getControl(384).setVisible(True)
                     self.getControl(385).setVisible(True)
                     self.getControl(386).setVisible(True)
                     self.getControl(387).setVisible(True)
                     self.getControl(388).setVisible(True)
                     self.getControl(321).setVisible(True)


                     if len(self.program_buttons) > 0:
                         self.setFocus(programs_button[0])
                         self.programs_Index = 0
                         self.channelsOnLeft = True



                 for channel in channels:
                     #get the stop_date from the programs list
                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                     conn6 = database.connect(profilePath)
                     cur6 = conn6.cursor()
                     cur6.execute('SELECT start_date, stop_date FROM programs where channel=?', [channel])
                     stop_date = cur6.fetchone()


                     if stop_date is not None:
                         start_date = str(stop_date[0])
                         stop_date = str(stop_date[1])
                         current_time = datetime.datetime.now()
                         start_time = time.strptime(start_date, '%Y%m%d%H%M%S')
                         start_time = datetime.datetime.fromtimestamp(time.mktime(start_time))
                         stop_time = time.strptime(stop_date, '%Y%m%d%H%M%S')
                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                         program_lengths = list()


                         if current_time == start_time:
                             print "the program has started"


                         #elif current_time > start_time and current_time < stop_time or start_time < current_time and current_time < stop_time:
                         elif current_time > start_time and current_time < stop_time or current_time < stop_time:
                             print "program is half way"
                             currenttime = self.parseDateTimeToMinutesSinceEpoch(start_date)
                             program_stop = self.parseDateTimeToMinutesSinceEpoch(stop_date)
                             program_stop - currenttime
                             datetime.timedelta(0, 8100)
                             total_program_length = program_stop - currenttime
                             get_program_stop_hours = stop_time.strftime('%H')
                             get_program_stop_minutes = stop_time.strftime('%M')
                             get_program_start_hours = start_time.strftime('%H')
                             get_program_start_minutes = start_time.strftime('%M')
                             program_start_hours = str(get_program_start_hours)
                             program_start_minutes = str(get_program_start_minutes)
                             program_stop_hours = str(get_program_stop_hours)
                             program_stop_minutes = str(get_program_stop_minutes)
                             program_AM_PM = ''


                             if program_stop_hours == "00":
                                 program_stop_hours = "12"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "01":
                                 program_stop_hours = "1"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "02":
                                 program_stop_hours = "2"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "03":
                                 program_stop_hours = "3"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "04":
                                 program_stop_hours = "4"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "05":
                                 program_stop_hours = "5"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "06":
                                 program_stop_hours = "6"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "07":
                                 program_stop_hours = "7"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "08":
                                 program_stop_hours = "8"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "09":
                                 program_stop_hours = "9"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "10":
                                 program_stop_hours = "10"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "11":
                                 program_stop_hours = "11"
                                 program_AM_PM = 'AM'
                             elif program_stop_hours == "12":
                                 program_stop_hours = "12"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "13":
                                 program_stop_hours = "1"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "14":
                                 program_stop_hours = "2"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "15":
                                 program_stop_hours = "3"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "16":
                                 program_stop_hours = "4"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "17":
                                 program_stop_hours = "5"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "18":
                                 program_stop_hours = "6"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "19":
                                 program_stop_hours = "7"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "20":
                                 program_stop_hours = "8"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "21":
                                 program_stop_hours = "9"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "22":
                                 program_stop_hours = "10"
                                 program_AM_PM = 'PM'
                             elif program_stop_hours == "23":
                                 program_stop_hours = "11"
                                 program_AM_PM = 'PM'


                             if program_start_hours == "00":
                                 program_start_hours = "12"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "01":
                                 program_start_hours = "1"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "02":
                                 program_start_hours = "2"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "03":
                                 program_start_hours = "3"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "04":
                                 program_start_hours = "4"
                             elif program_start_hours == "05":
                                 program_start_hours = "5"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "06":
                                 program_start_hours = "6"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "07":
                                 program_start_hours = "7"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "08":
                                 program_start_hours = "8"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "09":
                                 program_start_hours = "9"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "10":
                                 program_start_hours = "10"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "11":
                                 program_start_hours = "11"
                                 program_AM_PM = 'AM'
                             elif program_start_hours == "12":
                                 program_start_hours = "12"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "13":
                                 program_start_hours = "1"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "14":
                                 program_start_hours = "2"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "15":
                                 program_start_hours = "3"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "16":
                                 program_start_hours = "4"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "17":
                                 program_start_hours = "5"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "18":
                                 program_start_hours = "6"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "19":
                                 program_start_hours = "7"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "20":
                                 program_start_hours = "8"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "21":
                                 program_start_hours = "9"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "22":
                                 program_start_hours = "10"
                                 program_AM_PM = 'PM'
                             elif program_start_hours == "23":
                                 program_start_hours = "11"
                                 program_AM_PM = 'PM'


                             program_start_time = program_start_hours + ":" + program_start_minutes + program_AM_PM
                             program_stop_time = program_stop_hours + ":" + program_stop_minutes + program_AM_PM
                             get_24_hours = int(time.strftime("%I"))
                             get_24_minutes = int(time.strftime("%M"))
                             current_time_ = datetime.timedelta(hours = get_24_hours, minutes = get_24_minutes)
                             end_program = datetime.timedelta(hours = int(program_stop_hours), minutes = int(program_stop_minutes))
                             current_program = end_program - current_time_
                             program_mins = int(current_program.seconds / 60)
                             program_remaining.append(program_mins)


                             if total_program_length >= 30:
                                 program_index = self.program_index
                                 self.program_remaining = True
                                 program_index_.append(program_index)
                             program_start_clock.append(program_start_time)
                             self.program_stop_clock.append(program_stop_time)
                             self.program_remaining = True


                         else:
                             print "program has finished"
                             print self.program_index
                         self.program_index += 1
                         #program_clock.append(program_time)
                     conn6.close()


                 if self.program_remaining == True:
                     self.program_remaining = False
                     progId = list()
                     posX = list()
                     posY = list()
                     program_length = list()
                     prog_id_list = list()
                     prog_length_list = list()
                     pos_X_list = list()

                     for elem in programs_button:
                         progId.append(elem.getId())
                         posX.append(elem.getX())
                         posY.append(elem.getY())
                         program_length.append(elem.getWidth())
                     progId = map(str, progId)
                     posX = map(str, posX)
                     posY = map(str, posY)
                     program_length = map(str, program_length)
                     prog_index_list = map(str, program_index_)
                     channel_1 = list()


                     #Store the list of strings in the lists
                     for i in range(len(posX)):
                         pos_X = posX[i]
                         if pos_X == '375':
                             prog_id_list.append(progId[i])
                             prog_length_list.append(program_length[i])
                             pos_X_list.append(posX[i])



                     #for pos_X, pos_Y, prog_id, prog_index in izip_longest(posX, posY, progId, program_index_, fillvalue=''):
                     for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                         if int(pos_X) == 375:
                             next_posX = int(pos_X) + 1
                             program_width = self.getControl(int(prog_id)).getWidth()

                             if int(next_posX) == 606:
                                 if program_width == 232:
                                     next_progId = prog_id + 1
                                     posY = self.getControl(int(next_progId)).getY()
                                     self.getControl(int(next_progId)).setPosition(897, int(posY))


                         if int(pos_Y) == 315:
                             channel_1.append(prog_id)

                             if int(pos_X) == 375:
                                 prog_index = [program_index_]
                                 programs_X = list()

                                 if len(program_index_) >= 1:
                                     for index in prog_index[0]:
                                         prog_ids = prog_id_list[index]
                                         prog_length = prog_length_list[index]
                                         prog_length = int(prog_length)
                                         self.program_id.append(prog_ids)
                                         self.program_length.append(prog_length)



                     #Now let change the programming button size for real time
                     for prog_stop_clock, prog_start_clock, program_id in izip_longest(self.program_stop_clock, program_start_clock, prog_id_list, fillvalue=''):
                         half_hour = str(self.getControl(344).getLabel())
                         one_hour = str(self.getControl(345).getLabel())
                         one_hour_half = str(self.getControl(346).getLabel())
                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')
                         program_start_time = time.strptime(prog_start_clock, '%I:%M%p')
                         program_stop_time = time.strptime(prog_stop_clock, '%I:%M%p')
                         program_length = self.getControl(int(program_id)).getWidth()
                         print "prog_stop_clock"
                         print prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                         print prog_stop_clock


                         #DO NEED THIS
                         if program_start_time < epg_time_1 and program_stop_time < epg_time_2:
                             print "epg time 7"

                             if program_stop_time < epg_time_2:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 if program_finished == '20':
                                     print "epg pass 8"

                                     if program_length == 692:
                                         print "epg pass 9"
                                         prog_width = 232
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 460
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                                     elif program_length == 342:
                                         print "epg pass 10"
                                         prog_width = 232
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 114
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                 elif program_finished == '45':
                                     print "uefa champions league LIVE hello"




                         #DO NEED IT
                         if program_start_time < epg_time_2 and program_stop_time > epg_time_3:
                             print "passed 1"

                             if program_stop_time < epg_time_2:
                                 print "passed 4"
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 if program_finished == '50':
                                     print "you are working on this now chrissssssssssss 30"

                                     #OUTPUT THE PROGRAM REMAINING TIME HERE
                                     current_time = int(time.strftime("%M"))
                                     prog_width = self.getControl(int(program_id)).getWidth()
                                     prog_length = int(prog_width) / 11.4 - current_time
                                     prog_length = str(prog_length)
                                     prog_length = prog_length.replace('.0', '')
                                     prog_length = int(prog_length)


                                     for program_time in program_remaining:
                                         if int(program_time) <= 105:
                                             if int(prog_length) > 60 and int(prog_length) < 105:
                                                 if int(current_time) >= 30 and int(current_time) < 59:
                                                     if prog_width == 1083:
                                                         prog_width = 741
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                             progId = map(str, progId)
                                                             posX = map(str, posX)
                                                             posY = map(str, posY)

                                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                                     posX = int(pos_X) - 348
                                                                     posY = int(getY)
                                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                                     elif prog_width == 1368:
                                                         print "let change the size in 90 mins program 1"
                                                         prog_width = 1026
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()


                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 348
                                                                 posY = int(getY)
                                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                             elif program_stop_time > epg_time_2:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 if program_finished == '15':
                                     if program_length == 692:
                                         print "bbc two"
                                         prog_width = 515
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         next_program = int(program_id) + 1
                                         next_program_width = self.getControl(int(next_program)).getWidth()
                                         next_programs = int(next_program) + 1
                                         next_programs_width = self.getControl(int(next_programs)).getWidth()
                                         previous_program = int(program_id) - 1
                                         next_programs_width = self.getControl(int(previous_program)).getWidth()
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 174
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                             elif program_stop_time > epg_time_3:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                 print "disabled itv"

                                 if program_finished == '20':
                                     self.getControl(int(program_id)).setVisible(False)




                         #DO NEED IT
                         if program_start_time > epg_time_1 and program_stop_time > epg_time_2:
                             print "passed 2"



                         #DO NEED IT
                         if program_start_time == epg_time_1 and program_stop_time == epg_time_3:
                             print "passed 3"



                         if program_start_time < epg_time_1 and program_stop_time > epg_time_3:
                             print "passed itv"
                             current_time = datetime.timedelta(hours = int(time.strftime("%I")), minutes = int(time.strftime("%M")))
                             program_hours = int(prog_stop_clock.split(':')[0].replace('PM', '').replace('AM', ''))
                             program_minutes = int(prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', ''))
                             program_end = datetime.timedelta(hours = program_hours, minutes = program_minutes)
                             program_duration = program_end - current_time
                             program_widths = int(program_duration.seconds / 60)
                             program_widths = program_widths * 11.4
                             program_widths = int(program_widths)
                             current_time_ = time.strftime("%M")
                             program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')


                             if program_finished == '05':
                                 print "program_finished passed"
                                 if program_length == 515:
                                     print "change program length for itv news"
                                     prog_length = 401
                                     self.getControl(int(program_id)).setWidth(prog_length)
                                     getX = self.getControl(int(program_id)).getX()
                                     getY = self.getControl(int(program_id)).getY()
                                     progId = list()
                                     posX = list()
                                     posY = list()

                                     for elem in programs_button:
                                         progId.append(elem.getId())
                                         posX.append(elem.getX())
                                         posY.append(elem.getY())
                                     progId = map(str, progId)
                                     posX = map(str, posX)
                                     posY = map(str, posY)


                                     for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                         if int(pos_X) >= 724 and int(pos_Y) == getY:
                                             pos_X_pixels = program_length - prog_length
                                             posX = int(pos_X) - pos_X_pixels
                                             posY = int(getY)
                                             self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                             elif program_finished == '30':
                                 self.getControl(int(program_id)).setWidth(program_length)
                                 getX = self.getControl(int(program_id)).getX()
                                 getY = self.getControl(int(program_id)).getY()
                                 progId = list()
                                 posX = list()
                                 posY = list()

                                 for elem in programs_button:
                                     progId.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())
                                 progId = map(str, progId)
                                 posX = map(str, posX)
                                 posY = map(str, posY)


                                 for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         pos_X_pixels = program_length - program_widths
                                         posX = int(pos_X) - pos_X_pixels
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                         #DO NEED IT
                         if epg_time_1 < program_start_time and epg_time_2 == program_stop_time:
                             print "hello chrisssssssss 1"

                             if epg_time_1 < program_start_time:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 if program_finished == '00':
                                     if program_length == 1197:
                                         prog_width = 692
                                         self.getControl(int(program_id)).setWidth(prog_width)


                                     elif program_length == 692:
                                         print "heloooooooooooooooooooo 1"
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         next_program = int(program_id) + 1
                                         next_program_width = self.getControl(int(next_program)).getWidth()
                                         next_programs = int(next_program) + 1
                                         next_programs_width = self.getControl(int(next_programs)).getWidth()
                                         previous_program = int(program_id) - 1
                                         next_programs_width = self.getControl(int(previous_program)).getWidth()
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)


                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 348
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))

                                                 if next_programs_width == 342:
                                                     if next_program_width == 286 and next_programs_width == 59:
                                                         next_program_width = 276
                                                         self.getControl(int(next_program)).setWidth(next_program_width)
                                                         getY = self.getControl(int(next_program)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, next_program in zip(posX, posY, progId):
                                                             if int(pos_X) > 949 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 8
                                                                 posY = int(getY)
                                                                 self.getControl(int(next_program)).setPosition(int(posX), int(posY))

                                     elif program_length == 515:
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()


                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 181
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                     elif program_length == 798:
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)




                                 elif program_finished >= '15' and program_finished <= '17':
                                     if program_length == 692:
                                         print "heloooooooooooooooooooo 2"
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         next_program = int(program_id) + 1
                                         next_program_width = self.getControl(int(next_program)).getWidth()
                                         next_programs = int(next_program) + 1
                                         next_programs_width = self.getControl(int(next_programs)).getWidth()
                                         previous_program = int(program_id) - 1
                                         next_programs_width = self.getControl(int(previous_program)).getWidth()
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 348
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))

                                                 if next_programs_width == 342:
                                                     if next_program_width == 286 and next_programs_width == 59:
                                                         next_program_width = 276
                                                         self.getControl(int(next_program)).setWidth(next_program_width)
                                                         getY = self.getControl(int(next_program)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, next_program in zip(posX, posY, progId):
                                                             if int(pos_X) > 949 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 8
                                                                 posY = int(getY)
                                                                 self.getControl(int(next_program)).setPosition(int(posX), int(posY))

                                 elif program_finished == '30':
                                     if program_length == 515:
                                         print "change size 2b"
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         posX = map(str, posX)
                                         posY = map(str,posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 181
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))
                                                                             
                                                                             
                                     elif program_length == 692:
                                         print "change size 2c"
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         next_program = int(program_id) + 1
                                         next_program_width = self.getControl(int(next_program)).getWidth()
                                         next_programs = int(next_program) + 1
                                         next_programs_width = self.getControl(int(next_programs)).getWidth()
                                         previous_program = int(program_id) - 1
                                         next_programs_width = self.getControl(int(previous_program)).getWidth()
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 348
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))

                                                 if next_programs_width == 342:
                                                     if next_program_width == 286 and next_programs_width == 59:
                                                         next_program_width = 276
                                                         self.getControl(int(next_program)).setWidth(next_program_width)
                                                         getY = self.getControl(int(next_program)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()


                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)
                                                   
                                                         for pos_X, pos_Y, next_program in zip(posX, posY, progId):
                                                             if int(pos_X) > 949 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 8
                                                                 posY = int(getY)
                                                                 self.getControl(int(next_program)).setPosition(int(posX), int(posY))
                             elif epg_time_3:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                 print "helllllllllllllllllllllloooooooooooooooooooooooooooooooooooo"
                                 self.getControl(int(program_id)).setVisible(False)

                                 if program_finished == '00':
                                     if program_length == 798:
                                         print "fuck you"
                                         prog_width = 692
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()


                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 113
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                 elif program_finished == '30':
                                     if program_length == 692:
                                         print "hello chris 24"
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         next_program = int(program_id) + 1
                                         next_program_width = self.getControl(int(next_program)).getWidth()
                                         next_programs = int(next_program) + 1
                                         next_programs_width = self.getControl(int(next_programs)).getWidth()
                                         previous_program = int(program_id) - 1
                                         next_programs_width = self.getControl(int(previous_program)).getWidth()
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 348
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                                                 if next_programs_width == 342:
                                                     if next_program_width == 286 and next_programs_width == 59:
                                                         next_program_width = 276
                                                         self.getControl(int(next_program)).setWidth(next_program_width)
                                                         getY = self.getControl(int(next_program)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)


                                                         for pos_X, pos_Y, next_program in zip(posX, posY, progId):
                                                             if int(pos_X) > 949 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 8
                                                                 posY = int(getY)
                                                                 self.getControl(int(next_program)).setPosition(int(posX), int(posY))



                         #I DO NEED THIS
                         if program_start_time != epg_time_1 and program_stop_time < epg_time_3:
                             print "hello chris 2"

                             if program_start_time < epg_time_1:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 if program_stop_time < epg_time_3:

                                     if program_finished == '00':
                                         if program_length == 515:
                                             prog_width = 342
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()

                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 174
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                         elif program_length == 692:
                                             print "fix this buggy chris"
                                             prog_width = 342
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             next_program = int(program_id) + 1
                                             next_program_width = self.getControl(int(next_program)).getWidth()
                                             next_programs = int(next_program) + 1
                                             next_programs_width = self.getControl(int(next_programs)).getWidth()
                                             previous_program = int(program_id) - 1
                                             next_programs_width = self.getControl(int(previous_program)).getWidth()
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()

                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 350
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))

                                                     if next_programs_width == 342:
                                                         if next_program_width == 286 and next_programs_width == 59:
                                                             next_program_width = 276
                                                             self.getControl(int(next_program)).setWidth(next_program_width)
                                                             getY = self.getControl(int(next_program)).getY()
                                                             progId = list()
                                                             posX = list()
                                                             posY = list()

                                                             for elem in programs_button:
                                                                 progId.append(elem.getId())
                                                                 posX.append(elem.getX())
                                                                 posY.append(elem.getY())
                                                             progId = map(str, progId)
                                                             posX = map(str, posX)
                                                             posY = map(str, posY)
                                                                             
                                                             for pos_X, pos_Y, next_program in zip(posX, posY, progId):
                                                                 if int(pos_X) > 949 and int(pos_Y) == getY:
                                                                     posX = int(pos_X) - 8
                                                                     posY = int(getY)
                                                                     self.getControl(int(next_program)).setPosition(int(posX), int(posY))



                                     elif program_finished == '15':
                                         if program_length == 692:
                                             prog_width = 515
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()

                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 178
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                     elif program_finished == '20':
                                         if program_length == 1596:
                                             prog_width = 577
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()

                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 1018
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                 elif program_stop_time > epg_time_3:
                                     print "channel 5 passed 1"
                                     if program_finished == '55':
                                         print "channel 5 passed 2"
                                         if program_length == 1311:
                                             print "channel 5 passed 3"
                                             current_time = int(time.strftime("%M"))

                                             if int(current_time) >= 30 and int(current_time) < 59:
                                                 prog_width = 976
                                                 print "channel 5 passed 4"
                                                 self.getControl(int(program_id)).setWidth(prog_width)
                                                 getX = self.getControl(int(program_id)).getX()
                                                 getY = self.getControl(int(program_id)).getY()
                                                 progId = list()
                                                 posX = list()
                                                 posY = list()

                                                 for elem in programs_button:
                                                     progId.append(elem.getId())
                                                     posX.append(elem.getX())
                                                     posY.append(elem.getY())
                                                 progId = map(str, progId)
                                                 posX = map(str, posX)
                                                 posY = map(str, posY)

                                                 for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                         posX = int(pos_X) - 335
                                                         posY = int(getY)
                                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                             elif program_stop_time < epg_time_2:
                                 if program_finished == '50':
                                     if program_length == 626:
                                         prog_width = 232
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()
                                                                         
                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)


                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 404
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_2:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                 print "program_id"
                                 print (program_id)
                                 print "fix this 342 bug chris"

                                 #error ValueError: invalid literal for int() with base 10: on line 2274
                                 if program_finished == '00':
                                     current_time = int(time.strftime("%M"))
                                     prog_widths = self.getControl(int(program_id)).getWidth()
                                     print prog_widths
                                     prog_length = int(prog_widths) / 11.4 - current_time
                                     prog_length = str(prog_length)
                                     prog_length = prog_length.replace('.0', '')
                                     prog_length = int(prog_length)

                                     for program_time in program_remaining:
                                         if int(program_time) <= 30:
                                             if int(current_time) >= 30 and int(current_time) < 59:

                                                 if prog_widths == 1026:
                                                     prog_widths = 342
                                                     self.getControl(int(program_id)).setWidth(prog_widths)
                                                     getX = self.getControl(int(program_id)).getX()
                                                     getY = self.getControl(int(program_id)).getY()
                                                     progId = list()
                                                     posX = list()
                                                     posY = list()

                                                     for elem in programs_button:
                                                         progId.append(elem.getId())
                                                         posX.append(elem.getX())
                                                         posY.append(elem.getY())
                                                     progId = map(str, progId)
                                                     posX = map(str, posX)
                                                     posY = map(str, posY)

                                                     for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                         if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                             posX = int(pos_X) - 684
                                                             posY = int(getY)
                                                             self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                                 elif prog_width == 1368:
                                                     print "let change the size in 90 mins program 1"
                                                     prog_width = 342
                                                     self.getControl(int(program_id)).setWidth(prog_width)
                                                     getX = self.getControl(int(program_id)).getX()
                                                     getY = self.getControl(int(program_id)).getY()
                                                     progId = list()
                                                     posX = list()
                                                     posY = list()

                                                     for elem in programs_button:
                                                         progId.append(elem.getId())
                                                         posX.append(elem.getX())
                                                         posY.append(elem.getY())
                                                     progId = map(str, progId)
                                                     posX = map(str, posX)
                                                     posY = map(str, posY)

                                                     for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                         if int(pos_X) >= 1024 and int(pos_Y) == getY:
                                                             posX = int(pos_X) - 1026
                                                             posY = int(getY)
                                                             self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                             elif int(current_time) >= 30 and int(current_time) < 59:
                                                 if prog_width == 1026:
                                                     prog_width = 342
                                                     self.getControl(int(program_id)).setWidth(prog_width)
                                                     getX = self.getControl(int(program_id)).getX()
                                                     getY = self.getControl(int(program_id)).getY()
                                                     progId = list()
                                                     posX = list()
                                                     posY = list()

                                                     for elem in programs_button:
                                                         progId.append(elem.getId())
                                                         posX.append(elem.getX())
                                                         posY.append(elem.getY())
                                                     progId = map(str, progId)
                                                     posX = map(str, posX)
                                                     posY = map(str, posY)

                                                     for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                         if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                             posX = int(pos_X) - 684
                                                             posY = int(getY)
                                                             self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                                 elif prog_width == 1368:
                                                     print "let change the size in 90 mins program 1"
                                                     prog_width = 342
                                                     self.getControl(int(program_id)).setWidth(prog_width)
                                                     getX = self.getControl(int(program_id)).getX()
                                                     getY = self.getControl(int(program_id)).getY()
                                                     progId = list()
                                                     posX = list()
                                                     posY = list()

                                                     for elem in programs_button:
                                                         progId.append(elem.getId())
                                                         posX.append(elem.getX())
                                                         posY.append(elem.getY())
                                                     progId = map(str, progId)
                                                     posX = map(str, posX)
                                                     posY = map(str, posY)

                                                     for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                         if int(pos_X) >= 1024 and int(pos_Y) == getY:
                                                             posX = int(pos_X) - 1026
                                                             posY = int(getY)
                                                             self.getControl(int(prog_id)).setPosition(int(posX), int(posY))

                             elif program_stop_time < epg_time_2:
                                 print "epg pass 1"
                                 
                                 if program_start_time < epg_time_1:
                                     program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                     print "epg pass 2"



                             if program_stop_time < epg_time_2:
                                 print "epg pass 3"

                                 if program_finished == '45':
                                     print "uefa champions league LIVE 6"
                                     print program_length

                                     if program_length == 515:
                                         print "uefa champions league LIVE 7"
                                         prog_width = 167
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()


                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 346
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                 elif program_finished == '50':
                                     print "epg pass 4"

                                     if program_length == 692:
                                         print "epg pass 7"
                                         prog_width = 232
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 467
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                     elif program_length == 342:
                                         print "epg pass 6"
                                         prog_width = 232
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 114
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                             elif program_start_time >= epg_time_2:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 if program_finished == '00':
                                     if program_length == 1197:
                                         print "you are working on this now chrissssssssssss 1"
                                         #prog_width = 692
                                         #self.getControl(int(program_id)).setWidth(prog_width)



                                     elif program_length == 567:
                                         print "you are working on this now chrissssssssssss 2"
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)


                                     elif program_length == 692:                                                               
                                         print "you are working on this now chrissssssssssss 3"
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         self.getControl(int(program_id)).setVisible(False)



                                 elif program_finished == '10':
                                     if program_length == 692:
                                         print "you are working on this now chrissssssssssss 4"
                                         prog_width = 456
                                         self.getControl(int(program_id)).setWidth(prog_width)


                                 elif program_finished == '15':
                                     print "you are working on this now chrissssssssssss 5"


                                     if program_length == 692:
                                         print "you are working on this now chrissssssssssss 6"
                                         prog_width = 515
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()


                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 174
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                                     elif program_length == 515:
                                         prog_width = 167
                                         print "you are working on this now chrissssssssssss 7"
                                         #self.getControl(int(program_id)).setWidth(prog_width)
                                         self.getControl(int(program_id)).setVisible(False)



                                 elif program_finished == '20':
                                     if program_length == 692:
                                         prog_width = 567
                                         print "you are working on this now chrissssssssssss 8"
                                         self.getControl(int(program_id)).setWidth(prog_width)



                                 elif program_finished == '30':
                                     if program_length == 515:
                                         prog_width = 342
                                         print "you are working on this now chrissssssssssss 9"
                                         self.getControl(int(program_id)).setWidth(prog_width)



                                 elif program_finished == '50':
                                     if program_length == 626:
                                         prog_width = 286
                                         print "you are working on this now chrissssssssssss 10"
                                         self.getControl(int(program_id)).setWidth(prog_width)



                                     elif program_length == 342:
                                         prog_width = 232
                                         print "you are working on this now chrissssssssssss 11"
                                         self.getControl(int(program_id)).setWidth(prog_width)



  
                                 elif program_finished == '55':
                                     if program_length == 692:
                                         prog_width = 626
                                         print "you are working on this now chrissssssssssss 12"
                                         self.getControl(int(program_id)).setWidth
                                         (prog_width)





                         #I DO NEED THIS
                         if program_start_time > epg_time_2 and program_stop_time < epg_time_3:
                             print "hello chris 3"

                             if program_length == 515:
                                 print "you are working on this now chrissssssssssss 14"


                             elif program_length == 692:
                                 print "you are working on this now chrissssssssssss 15"
                                 #prog_width = 342
                                 #self.getControl(int(program_id)).setWidth(prog_width)
                                 #next_program_id = int(program_id) + 1
                                 #getX = self.getControl(int(next_program_id)).getX()
                                 #getY = self.getControl(int(next_program_id)).getY()
                                 #print "getX"
                                 #print getX
                                 #print "getY"
                                 #print getY



                             elif program_length == 1197:
                                 prog_width = 513
                                 print "you are working on this now chrissssssssssss 16"
                                 #self.getControl(int(program_id)).setWidth(prog_width)




                         if program_start_time < epg_time_2 and program_stop_time < epg_time_3:
                             if program_stop_time == epg_time_2:
                                 if program_finished == '30':
                                     if program_length == 515:
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()


                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 175
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                     elif program_length == 692:
                                         prog_width = 342
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()


                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)


                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 342
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                             elif program_stop_time > epg_time_1:
                                 print "test it"




                         #DO NEED IT
                         if epg_time_1 > program_start_time and program_stop_time > epg_time_2:
                             print "you are working on this now chrissssssssssss 26"
                             program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                             print "program_finished"
                             print program_finished

                             if program_start_time < epg_time_1:
                                 if program_stop_time > epg_time_3:
                                     program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                     

                                     if program_finished == '55':
                                         if program_length == 1311:
                                             current_time = int(time.strftime("%M"))

                                             if int(current_time) >= 30 and int(current_time) < 59:
                                                 prog_width = 976
                                                 self.getControl(int(program_id)).setWidth(prog_width)
                                                 getX = self.getControl(int(program_id)).getX()
                                                 getY = self.getControl(int(program_id)).getY()
                                                 progId = list()
                                                 posX = list()
                                                 posY = list()

                                                 for elem in programs_button:
                                                     progId.append(elem.getId())
                                                     posX.append(elem.getX())
                                                     posY.append(elem.getY())
                                                 progId = map(str, progId)
                                                 posX = map(str, posX)
                                                 posY = map(str, posY)

                                                 for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                         posX = int(pos_X) - 335
                                                         posY = int(getY)
                                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                     elif program_finished == '00':
                                         print "you are working on this now chrissssssssssss 30"
                                         #OUTPUT THE PROGRAM REMAINING TIME HERE
                                         current_time = int(time.strftime("%M"))
                                         prog_width = self.getControl(int(program_id)).getWidth()
                                         prog_length = int(prog_width) / 11.4 - current_time
                                         prog_length = str(prog_length)
                                         prog_length = prog_length.replace('.0', '')
                                         prog_length = int(prog_length)
                                         print "prog_length"
                                         print type(prog_length)
                                         
                                         
                                         


                                         #if int(prog_length) > 60 and int(prog_length) < 120:
                                             #print "the program has passed on if statement 1"

                                             #if int(current_time) >= 30 and int(current_time) < 59:
                                                 #if prog_width == 1026:
                                                     #print "let change the size in 90 mins program 1"
                                                     #prog_width = 692
                                                     #self.getControl(int(program_id)).setWidth(prog_width)
                                                     #getX = self.getControl(int(program_id)).getX()
                                                     #getY = self.getControl(int(program_id)).getY()
                                                     #progId = list()
                                                     #posX = list()
                                                     #posY = list()

                                                     #for elem in programs_button:
                                                         #progId.append(elem.getId())
                                                         #posX.append(elem.getX())
                                                         #posY.append(elem.getY())
                                                     #progId = map(str, progId)
                                                     #posX = map(str, posX)
                                                     #posY = map(str, posY)

                                                     #for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                         #if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                             #posX = int(pos_X) - 348
                                                             #posY = int(getY)
                                                             #self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                                 #elif prog_width == 1368:
                                                     #print "let change the size in 90 mins program 1"
                                                     #prog_width = 1026
                                                     #self.getControl(int(program_id)).setWidth(prog_width)
                                                     #getX = self.getControl(int(program_id)).getX()
                                                     #getY = self.getControl(int(program_id)).getY()
                                                     #progId = list()
                                                     #posX = list()
                                                     #posY = list()


                                                     #for elem in programs_button:
                                                         #progId.append(elem.getId())
                                                         #posX.append(elem.getX())
                                                         #posY.append(elem.getY())
                                                     #progId = map(str, progId)
                                                     #posX = map(str, posX)
                                                     #posY = map(str, posY)

                                                     #for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                         #if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                             #posX = int(pos_X) - 348
                                                             #posY = int(getY)
                                                             #self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                                                 #CALCULATE THE CURRENT TIME FROM 12AM TO 6AM
                                                 #if program_length == 567:
                                                     #prog_width = 232
                                                     #self.getControl(int(program_id)).setWidth(prog_width)


                                                 #elif program_length == 912:
                                                     #prog_width = 567
                                                     #self.getControl(int(program_id)).setWidth(prog_width)



                                                 #elif program_length == 1254:
                                                     #prog_width = 912
                                                     #self.getControl(int(program_id)).setWidth(prog_width)



                                                 #elif program_length == 1596:
                                                     #prog_width = 1254
                                                     #self.getControl(int(program_id)).setWidth(prog_width)


                                                 #elif program_length == 1938:
                                                     #prog_width = 1596
                                                     #self.getControl(int(program_id)).setWidth(prog_width)



                                     elif program_finished == '05':
                                         if program_length == 741:
                                             prog_width = 396
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()

                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 348
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                 elif program_stop_time < epg_time_2:
                                     program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                     print "program_finished"
                                     print program_finished



                                 elif program_stop_time > epg_time_2:
                                     print "you are working on here now 1"
                                     program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')


                                     if program_finished == '05':
                                         if program_length == 741:
                                             prog_width = 396
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()

                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 342
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                     elif program_finished == '15':
                                         if program_length == 692:
                                             prog_width = 515
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             next_program = int(program_id) + 1
                                             next_program_width = self.getControl(int(next_program)).getWidth()
                                             next_programs = int(next_program) + 1
                                             next_programs_width = self.getControl(int(next_programs)).getWidth()
                                             previous_program = int(program_id) - 1
                                             next_programs_width = self.getControl(int(previous_program)).getWidth()
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()

                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 178
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                 elif program_stop_time == epg_time_3:
                                     program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                     print "you are working on here now 2"

                                     if program_finished == '00':
                                         #OUTPUT THE PROGRAM REMAINING TIME HERE
                                         current_time = int(time.strftime("%M"))
                                         prog_width = self.getControl(int(program_id)).getWidth()
                                         prog_length = int(prog_width) / 11.4 - current_time
                                         prog_length = str(prog_length)
                                         prog_length = prog_length.replace('.0', '')
                                         prog_length = int(prog_length)
                                         print "current_time"
                                         print current_time

                                         for program_time in program_remaining:
                                             if int(program_time) <= 60:
                                                 if int(current_time) >= 0 and int(current_time) < 30:
                                                     if prog_width == 1026:
                                                         prog_width = 692
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 335
                                                                 posY = int(getY)
                                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                                     elif prog_width == 1368:
                                                         print "let change the size in 90 mins program 1"
                                                         prog_width = 692
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                             if int(pos_X) >= 1024 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 677
                                                                 posY = int(getY)
                                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                                 elif int(current_time) >= 30 and int(current_time) < 59:
                                                     if prog_width == 1026:
                                                         prog_width = 692
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 335
                                                                 posY = int(getY)
                                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))
                                                     elif prog_width == 1368:
                                                         print "let change the size in 90 mins program 1"
                                                         prog_width = 692
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)
                                                                                                          
                                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                             if int(pos_X) >= 1024 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 677
                                                                 posY = int(getY)
                                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                                         if program_length == 798:
                                             prog_width = 692
                                             self.getControl(int(program_id)).setWidth(prog_width)
                                             getX = self.getControl(int(program_id)).getX()
                                             getY = self.getControl(int(program_id)).getY()
                                             progId = list()
                                             posX = list()
                                             posY = list()
                                                                 
                                                                 
                                             for elem in programs_button:
                                                 progId.append(elem.getId())
                                                 posX.append(elem.getX())
                                                 posY.append(elem.getY())
                                             progId = map(str, progId)
                                             posX = map(str, posX)
                                             posY = map(str, posY)

                                             for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                 if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                     posX = int(pos_X) - 107
                                                     posY = int(getY)
                                                     self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                 elif program_stop_time > epg_time_1:
                                     print "hey arsehole"


                                 elif program_stop_time > epg_time_3:
                                     program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                     if program_finished == '00':
                                         print "you are working on this now chrissssssssssss 30"
                                         #OUTPUT THE PROGRAM REMAINING TIME HERE#
                                         current_time = int(time.strftime("%M"))
                                         print current_time
                                         prog_width = self.getControl(int(program_id)).getWidth()
                                         prog_length = int(prog_width) / 11.4 - current_time
                                         prog_length = str(prog_length)
                                         prog_length = prog_length.replace('.0', '')
                                         prog_length = int(prog_length)
                                         print "prog_length"
                                         print prog_length

                                         if int(prog_length) == '90':
                                             if prog_width == 1368:
                                                 print "let change the size in 90 mins program 1"



                         elif program_start_time < epg_time_1 and program_stop_time == epg_time_3:
                             if program_stop_time == epg_time_3:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                 print "you are working on here now 2"

                                 if program_finished == '00':
                                     if program_length == 1197:
                                         prog_width = 692
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 506
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))

                                                 if program_start_time > epg_time_1 and program_stop_time < epg_time_2:
                                                     print "hello chris 4"
                                                     if program_length == 342:
                                                         print "you are working on this now chrissssssssssss 17"
                                                         #self.getControl(int(program_id)).setVisible(False)


                                                     #DO NOT ADD 45 MINS (PROGRAM_LENGTH = 515) AS IT IS NO NEEDED 
                                                     elif program_length == 692:
                                                         print "you are working on this now chrissssssssssss 19"
                                                         #prog_width = 342
                                                         #self.getControl(int(program_id)).setWidth(prog_width)
                                                         #next_program_id = int(program_id) + 1
                                                         #getX = self.getControl(int(next_program_id)).getX()
                                                         #getY = self.getControl(int(next_program_id)).getY()
                                                         #print "getX"
                                                         #print getX
                                                         #print "getY"
                                                         #print getY



                                                     elif program_length == 515:
                                                         print "you are working on this now chrissssssssssss 20"
                                                         #prog_width = 167
                                                         #self.getControl(int(program_id)).setWidth(prog_width)
                                                         self.getControl(int(program_id)).setVisible(False)




                         elif program_start_time < epg_time_1 and program_stop_time > epg_time_2:
                             print "right ok chris you are working on this one nowwwwwwwwwwww 1"
                             if program_stop_time > epg_time_2:
                                 print "right ok chris you are working on this one nowwwwwwwwwwww 2"
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 if program_finished == '50':
                                     if program_length == 692:
                                         print "helooooooooooooooooooooooooooooo chris"
                                         prog_width = 577
                                         self.getControl(int(program_id)).setWidth(prog_width)
                                         getX = self.getControl(int(program_id)).getX()
                                         getY = self.getControl(int(program_id)).getY()
                                         progId = list()
                                         posX = list()
                                         posY = list()

                                         for elem in programs_button:
                                             progId.append(elem.getId())
                                             posX.append(elem.getX())
                                             posY.append(elem.getY())
                                         progId = map(str, progId)
                                         posX = map(str, posX)
                                         posY = map(str, posY)

                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                 posX = int(pos_X) - 114
                                                 posY = int(getY)
                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                         #DO NEED IT
                         if program_start_time > epg_time_1 and program_stop_time > epg_time_3:
                             if program_start_time < epg_time_2:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')

                                 #NEED TO FIND OUT WHAT TIME if program_finished == '??':
                                 if program_length == 1368:
                                     prog_width = 1026
                                     self.getControl(int(program_id)).setWidth(prog_width)
                                     getX = self.getControl(int(program_id)).getX()
                                     getY = self.getControl(int(program_id)).getY()
                                     progId = list()
                                     posX = list()
                                     posY = list()

                                     for elem in programs_button:
                                         progId.append(elem.getId())
                                         posX.append(elem.getX())
                                         posY.append(elem.getY())
                                     progId = map(str, progId)
                                     posX = map(str, posX)
                                     posY = map(str, posY)

                                     for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                         if int(pos_X) >= 724 and int(pos_Y) == getY:
                                             posX = int(pos_X) - 348
                                             posY = int(getY)
                                             self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                         #DO NEED IT
                         if epg_time_1 == program_start_time and program_stop_time > epg_time_3:
                             print "you are working on this now a!"

                             if program_stop_time > epg_time_3:
                                 program_finished = prog_stop_clock.split(':')[1].replace('PM', '').replace('AM', '')
                                 print "you are working on this now b!"

                                 if program_finished == '00':
                                     print "you are working on this now chrissssssssssss 30"
                                     #OUTPUT THE PROGRAM REMAINING TIME HERE
                                     current_time = int(time.strftime("%M"))
                                     prog_width = self.getControl(int(program_id)).getWidth()
                                     prog_length = int(prog_width) / 11.4 - current_time
                                     prog_length = str(prog_length)
                                     prog_length = prog_length.replace('.0', '')
                                     prog_length = int(prog_length)
                                     print "prog_length"
                                     print prog_length


                                     for program_time in program_remaining:
                                         if int(program_time) <= 60:
                                             if int(prog_length) > 60 and int(prog_length) < 120:
                                                 if int(current_time) >= 30 and int(current_time) < 59:
                                                     if prog_width == 1026:
                                                         print "let change the size in 90 mins program 1"
                                                         prog_width = 692
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 348
                                                                 posY = int(getY)
                                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                                                     elif prog_width == 1368:
                                                         print "let change the size in 90 mins program 1"
                                                         prog_width = 1026
                                                         self.getControl(int(program_id)).setWidth(prog_width)
                                                         getX = self.getControl(int(program_id)).getX()
                                                         getY = self.getControl(int(program_id)).getY()
                                                         progId = list()
                                                         posX = list()
                                                         posY = list()

                                                         for elem in programs_button:
                                                             progId.append(elem.getId())
                                                             posX.append(elem.getX())
                                                             posY.append(elem.getY())
                                                         progId = map(str, progId)
                                                         posX = map(str, posX)
                                                         posY = map(str, posY)

                                                         for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                             if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                                 posX = int(pos_X) - 348
                                                                 posY = int(getY)
                                                                 self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                                                             #if program_length == 798:
                                                                 #prog_width = 692
                                                                 #self.getControl(int(program_id)).setWidth(prog_width)
                                                                 #getX = self.getControl(int(program_id)).getX()
                                                                 #getY = self.getControl(int(program_id)).getY()
                                                                 #progId = list()
                                                                 #posX = list()
                                                                 #posY = list()


                                                                 #for elem in programs_button:
                                                                     #progId.append(elem.getId())
                                                                     #posX.append(elem.getX())
                                                                     #posY.append(elem.getY())
                                                                 #progId = map(str, progId)
                                                                 #posX = map(str, posX)
                                                                 #posY = map(str, posY)

                                                                 #for pos_X, pos_Y, prog_id in zip(posX, posY, progId):
                                                                     #if int(pos_X) >= 724 and int(pos_Y) == getY:
                                                                         #posX = int(pos_X) - 107
                                                                         #posY = int(getY)
                                                                         #self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                                                 #Change the program button width
                                                 #self.getControl(int(prog_ids)).setWidth(prog_width)

                                                 #Get the program buttons id
                                                 #channel_1.append(prog_id)
                                                 #print channel_1
                                                 #next_program = int(prog_ids)
                                                 #print "next_program type"
                                                 #print next_program

                                                 #for items in next_program:
                                                     #print type(items)
                                                     #items += 1
                                                     #print items


                     self.program_remaining = False
                 #conn6.close()
             program_buttons = [elem.control for elem in self.program_buttons]
             program_id = list()
             

             for elem in program_buttons:
                 program_id.append(elem.getId())
             prog_id = map(str, program_id)
             profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
             conn7 = database.connect(profilePath)
             cur7 = conn7.cursor()
             cur7.execute("DELETE FROM programs")


             xbmc.sleep(5000)
             for button_id, title, channel_name, start_time, stop_time, prog_width in izip_longest(prog_id, title_list, channels_list, start_time_list, stop_time_list, programs_width, fillvalue=''):
                 #print 'Updating %s: %s' % (title, button_id) ##########################
                 cur7.execute("INSERT INTO programs(channel, title, start_date, stop_date, button_id)" + " VALUES(?, ?, ?, ?, ?)", [channel_name, title, start_time, stop_time, button_id])
                 cur7.execute("INSERT INTO buttons(button_ids, button_width)" + " VALUES(?, ?)", [button_id, prog_width])
             conn7.commit()
             conn7.close()


                 #store the id and width of buttons in a database
                 #for ids, width in zip(programs_id, program_width):
                     #cur.execute("INSERT INTO buttons(button_ids, button_width)" + " VALUES(?, ?)", [ids, width])
                 #con.commit()
                 #cur.close()




         except AbortDownload, e:
             __killthread__ = False
             if e.value == 'downloading':
                 try:
                    if response is not None:
                         self.thread = AllChannelsThread(self.All_Channels_BACKUP)
                         self.thread.start()
                    return
                 except:
                    return
             elif e.value == 'filling':
                 try:
                    if cur is not None:
                        del cur
                    if con is not None:
                        con.close()
                        del con
                    if os.path.exists(profilePath):
                        os.remove(profilePath)
                    return
                 except:
                    return



     def My_Favourites(self):
         pass




     def Picture(self):
         pass




     def Sound(self):
         pass




     def Change_Language(self):
         pass




     def Parental_Control(self):
         for i in range(1):
             time.sleep(0.3)
             self.getControl(2).setVisible(False)
             self.getControl(5).setVisible(False)
             self.getControl(7).setVisible(False)
             self.getControl(8).setVisible(False)
             self.getControl(31).setVisible(False)
             self.getControl(33).setVisible(False)
             self.getControl(35).setVisible(False)
             self.getControl(36).setVisible(False)
             self.getControl(39).setVisible(False)
             self.getControl(41).setVisible(False)
             self.getControl(43).setVisible(False)
             self.getControl(45).setVisible(False)
             self.getControl(200).setVisible(True)
             self.getControl(201).setVisible(True)
             self.getControl(4002).setVisible(True)
             self.getControl(4006).setVisible(True)
             self.getControl(4009).setVisible(True)
             self.getControl(4010).setVisible(True)
             self.getControl(4011).setVisible(True)
             self.getControl(4012).setVisible(True)
             ADDON.setSetting('changepin.enabled', 'true')
             english_enabled = ADDON.getSetting('english.enabled') == 'true'


             if english_enabled:
                 self.getControl(47).setVisible(False)
                 self.getControl(49).setVisible(False)
                 self.getControl(51).setVisible(False)
                 self.getControl(52).setVisible(False)
                 self.getControl(75).setVisible(False)
                 self.getControl(77).setVisible(False)
                 self.getControl(79).setVisible(False)
                 self.getControl(80).setVisible(False)
                 self.getControl(83).setVisible(False)
                 self.getControl(85).setVisible(False)
                 self.getControl(87).setVisible(False)
                 self.getControl(89).setVisible(False)
                 self.getControl(4003).setVisible(True)
                 self.getControl(204).setVisible(True)
                 self.getControl(205).setVisible(True)
                 self.getControl(4007).setVisible(True)
                 self.getControl(4008).setVisible(True)



     def View_Restrictions(self):
         pass



     def Remove_Channels(self):
         pass



     def System_Details(self):
         pass



     def Speed_Test(self):
         pass



     def GoBack(self):
         channels_1_yellow = xbmc.getCondVisibility('Control.IsVisible(347)')
         channels_2_yellow = xbmc.getCondVisibility('Control.IsVisible(355)')
         channels_3_yellow = xbmc.getCondVisibility('Control.IsVisible(356)')
         channels_4_yellow = xbmc.getCondVisibility('Control.IsVisible(357)')
         channels_5_yellow = xbmc.getCondVisibility('Control.IsVisible(358)')
         channels_6_yellow = xbmc.getCondVisibility('Control.IsVisible(359)')
         channels_7_yellow = xbmc.getCondVisibility('Control.IsVisible(360)')

         if channels_1_yellow == True:
             #disable the images from channel 1
             self.getControl(347).setVisible(False)
             self.getControl(361).setLabel('')
             self.getControl(368).setLabel('')


             #disable the images from channel 2
             self.getControl(348).setVisible(False)
             self.getControl(362).setLabel('')
             self.getControl(369).setLabel('')


             #disable the images from channel 3
             self.getControl(349).setVisible(False)
             self.getControl(363).setLabel('')
             self.getControl(370).setLabel('')


             #disable the images from channel 4
             self.getControl(350).setVisible(False)
             self.getControl(364).setLabel('')
             self.getControl(371).setLabel('')


             #disable the images from channel 5
             self.getControl(351).setVisible(False)
             self.getControl(365).setLabel('')
             self.getControl(372).setLabel('')


             #disable the images from channel 6
             self.getControl(352).setVisible(False)
             self.getControl(366).setLabel('')
             self.getControl(373).setLabel('')


             #disable the images from channel 7
             self.getControl(353).setVisible(False)
             self.getControl(367).setLabel('')
             self.getControl(374).setLabel('')



         elif channels_2_yellow == True:
             #disable the images from channel 1
             self.getControl(354).setVisible(False)
             self.getControl(368).setVisible(False)
             self.getControl(361).setVisible(True)
             self.getControl(368).setLabel('')
             self.getControl(361).setLabel('')


             #disable the images from channel 2
             self.getControl(355).setVisible(False)
             self.getControl(369).setVisible(False)
             self.getControl(369).setLabel('')
             self.getControl(362).setLabel('')
             self.getControl(362).setVisible(True)


             #disable the images from channel 3
             self.getControl(349).setVisible(False)
             self.getControl(363).setLabel('')
             self.getControl(370).setLabel('')


             #disable the images from channel 4
             self.getControl(350).setVisible(False)
             self.getControl(364).setLabel('')
             self.getControl(371).setLabel('')


             #disable the images from channel 5
             self.getControl(351).setVisible(False)
             self.getControl(365).setLabel('')
             self.getControl(372).setLabel('')


             #disable the images from channel 6
             self.getControl(352).setVisible(False)
             self.getControl(366).setLabel('')
             self.getControl(373).setLabel('')


             #disable the images from channel 7
             self.getControl(353).setVisible(False)
             self.getControl(367).setLabel('')
             self.getControl(374).setLabel('')



         elif channels_3_yellow == True:
             #disable the images from channel 1
             self.getControl(354).setVisible(False)
             self.getControl(368).setVisible(False)
             self.getControl(361).setVisible(True)
             self.getControl(368).setLabel('')
             self.getControl(361).setLabel('')


             #disable the images from channel 2
             self.getControl(348).setVisible(False)
             self.getControl(362).setLabel('')
             self.getControl(369).setLabel('')


             #disable the images from channel 3
             self.getControl(356).setVisible(False)
             self.getControl(370).setVisible(False)
             self.getControl(370).setLabel('')
             self.getControl(363).setLabel('')
             self.getControl(363).setVisible(True)


             #disable the images from channel 4
             self.getControl(350).setVisible(False)
             self.getControl(364).setLabel('')
             self.getControl(371).setLabel('')


             #disable the images from channel 5
             self.getControl(351).setVisible(False)
             self.getControl(365).setLabel('')
             self.getControl(372).setLabel('')


             #disable the images from channel 6
             self.getControl(352).setVisible(False)
             self.getControl(366).setLabel('')
             self.getControl(373).setLabel('')


             #disable the images from channel 7
             self.getControl(353).setVisible(False)
             self.getControl(367).setLabel('')
             self.getControl(374).setLabel('')



         elif channels_4_yellow == True:
             #disable the images from channel 1
             self.getControl(354).setVisible(False)
             self.getControl(368).setVisible(False)
             self.getControl(361).setVisible(True)
             self.getControl(368).setLabel('')
             self.getControl(361).setLabel('')


             #disable the images from channel 2
             self.getControl(348).setVisible(False)
             self.getControl(362).setLabel('')
             self.getControl(369).setLabel('')


             #disable the images from channel 3
             self.getControl(349).setVisible(False)
             self.getControl(363).setLabel('')
             self.getControl(370).setLabel('')


             #disable the images from channel 4
             self.getControl(357).setVisible(False)
             self.getControl(371).setVisible(False)
             self.getControl(371).setLabel('')
             self.getControl(364).setLabel('')
             self.getControl(364).setVisible(True)


             #disable the images from channel 5
             self.getControl(351).setVisible(False)
             self.getControl(365).setLabel('')
             self.getControl(372).setLabel('')


             #disable the images from channel 6
             self.getControl(352).setVisible(False)
             self.getControl(366).setLabel('')
             self.getControl(373).setLabel('')


             #disable the images from channel 7
             self.getControl(353).setVisible(False)
             self.getControl(367).setLabel('')
             self.getControl(374).setLabel('')



         elif channels_5_yellow == True:
             #disable the images from channel 1
             self.getControl(354).setVisible(False)
             self.getControl(368).setVisible(False)
             self.getControl(361).setVisible(True)
             self.getControl(368).setLabel('')
             self.getControl(361).setLabel('')


             #disable the images from channel 2
             self.getControl(348).setVisible(False)
             self.getControl(362).setLabel('')
             self.getControl(369).setLabel('')


             #disable the images from channel 3
             self.getControl(349).setVisible(False)
             self.getControl(363).setLabel('')
             self.getControl(370).setLabel('')


             #disable the images from channel 4
             self.getControl(350).setVisible(False)
             self.getControl(364).setLabel('')
             self.getControl(371).setLabel('')


             #disable the images from channel 5
             self.getControl(358).setVisible(False)
             self.getControl(372).setVisible(False)
             self.getControl(372).setLabel('')
             self.getControl(365).setLabel('')
             self.getControl(365).setVisible(True)


             #disable the images from channel 6
             self.getControl(352).setVisible(False)
             self.getControl(366).setLabel('')
             self.getControl(373).setLabel('')


             #disable the images from channel 7
             self.getControl(353).setVisible(False)
             self.getControl(367).setLabel('')
             self.getControl(374).setLabel('')



         elif channels_6_yellow == True:
             #disable the images from channel 1
             self.getControl(354).setVisible(False)
             self.getControl(368).setVisible(False)
             self.getControl(361).setVisible(True)
             self.getControl(368).setLabel('')
             self.getControl(361).setLabel('')


             #disable the images from channel 2
             self.getControl(348).setVisible(False)
             self.getControl(362).setLabel('')
             self.getControl(369).setLabel('')


             #disable the images from channel 3
             self.getControl(349).setVisible(False)
             self.getControl(363).setLabel('')
             self.getControl(370).setLabel('')


             #disable the images from channel 4
             self.getControl(350).setVisible(False)
             self.getControl(364).setLabel('')
             self.getControl(371).setLabel('')
             


             #disable the images from channel 5
             self.getControl(351).setVisible(False)
             self.getControl(365).setLabel('')
             self.getControl(372).setLabel('')


             #disable the images from channel 6
             self.getControl(359).setVisible(False)
             self.getControl(373).setVisible(False)
             self.getControl(373).setLabel('')
             self.getControl(366).setLabel('')
             self.getControl(366).setVisible(True)


             #disable the images from channel 7
             self.getControl(353).setVisible(False)
             self.getControl(367).setLabel('')
             self.getControl(374).setLabel('')



         elif channels_7_yellow == True:
             #disable the images from channel 1
             self.getControl(354).setVisible(False)
             self.getControl(368).setVisible(False)
             self.getControl(361).setVisible(True)
             self.getControl(368).setLabel('')
             self.getControl(361).setLabel('')


             #disable the images from channel 2
             self.getControl(348).setVisible(False)
             self.getControl(362).setLabel('')
             self.getControl(369).setLabel('')


             #disable the images from channel 3
             self.getControl(349).setVisible(False)
             self.getControl(363).setLabel('')
             self.getControl(370).setLabel('')


             #disable the images from channel 4
             self.getControl(350).setVisible(False)
             self.getControl(364).setLabel('')
             self.getControl(371).setLabel('')


             #disable the images from channel 5
             self.getControl(351).setVisible(False)
             self.getControl(365).setLabel('')
             self.getControl(372).setLabel('')


             #disable the images from channel 6
             self.getControl(352).setVisible(False)
             self.getControl(366).setLabel('')
             self.getControl(373).setLabel('')


             #disable the images from channel 7
             self.getControl(360).setVisible(False)
             self.getControl(374).setVisible(False)
             self.getControl(374).setLabel('')
             self.getControl(367).setLabel('')
             self.getControl(367).setVisible(True)



         #find all buttons in pixels area to disabled it
         for elem in self.program_buttons:
             pos_top = elem.control.getY()
             prog_id = elem.control.getId()

             #if int(pos_top) >= 315 and int(pos_top) <= 540:
                 #self.getControl(prog_id).setVisible(False)
         self.channels_Index = 0
         self.programs_Index = 0


         self.getControl(321).setVisible(False)
         self.getControl(344).setVisible(False)
         self.getControl(345).setVisible(False)
         self.getControl(346).setVisible(False)
         self.getControl(388).setVisible(False)
         self.getControl(375).setVisible(False)
         self.getControl(376).setVisible(False)
         self.getControl(377).setVisible(False)
         self.getControl(378).setVisible(False)
         self.getControl(379).setVisible(False)
         self.getControl(380).setVisible(False)
         self.getControl(381).setVisible(False)
         self.getControl(384).setVisible(False)
         self.getControl(385).setVisible(False)
         self.getControl(386).setVisible(False)


         #check if enable
         #cSetVisible(self,340,False)
         #cSetVisible(self,343,False)
         #self.getControl(343).setLabel('')

         #check if enable
         self.abortdownload()


         if self.move_up_flag == True:
             self.clearEPG()


         if self.move_down_flag == True:
             self.clearEPG()


         if self.channels_Index == 0:
             self.move_back_flag = True
             if self.move_back_flag == True:
                 self.clearEPG()




     def GoUp(self):
         channels_1_yellow = xbmc.getCondVisibility('Control.IsVisible(347)')
         channels_2_yellow = xbmc.getCondVisibility('Control.IsVisible(355)')
         channels_3_yellow = xbmc.getCondVisibility('Control.IsVisible(356)')
         channels_4_yellow = xbmc.getCondVisibility('Control.IsVisible(357)')
         channels_5_yellow = xbmc.getCondVisibility('Control.IsVisible(358)')
         channels_6_yellow = xbmc.getCondVisibility('Control.IsVisible(359)')
         channels_7_yellow = xbmc.getCondVisibility('Control.IsVisible(360)')
         path = 'special://home/addons/script.tvguide/resources/skins/Default/media/'
         print self.channelsOnLeft
         print self.channelsOnMiddle
         print self.channelsOnRight


         if channels_7_yellow == True:
             #set the image to blue
             self.getControl(360).setVisible(False)
             self.getControl(353).setVisible(True)

             #set the label to white
             self.getControl(374).setVisible(False)
             self.getControl(367).setVisible(True)

             #set the image to yellow
             self.getControl(352).setVisible(False)
             self.getControl(359).setVisible(True)

             #set the label to black
             self.getControl(366).setVisible(False)
             self.getControl(373).setVisible(True)


             self.channels_Index -= 1
             #self.programs_Index -= 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 541:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 375 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                             if pos_X == 724 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 541:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 375 and pos_Y == 503:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 541:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))



         elif channels_6_yellow == True:
             #set the image to blue
             self.getControl(359).setVisible(False)
             self.getControl(352).setVisible(True)

             #set the label to white
             self.getControl(373).setVisible(False)
             self.getControl(366).setVisible(True)

             #set the image to yellow
             self.getControl(351).setVisible(False)
             self.getControl(358).setVisible(True)

             #set the label to black
             self.getControl(365).setVisible(False)
             self.getControl(372).setVisible(True)


             self.channels_Index -= 1
             #self.programs_Index -= 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 503:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                     
                                 if pos_X == 375 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 503:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 375 and pos_Y == 466:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 503:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))



         elif channels_5_yellow == True:
             #set the image to blue
             self.getControl(358).setVisible(False)
             self.getControl(351).setVisible(True)

             #set the label to white
             self.getControl(372).setVisible(False)
             self.getControl(365).setVisible(True)

             #set the image to yellow
             self.getControl(350).setVisible(False)
             self.getControl(357).setVisible(True)

             #set the label to black
             self.getControl(364).setVisible(False)
             self.getControl(371).setVisible(True)


             self.channels_Index -= 1
             #self.programs_Index -= 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 466:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 466:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 375 and pos_Y == 428:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 466:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))



         elif channels_4_yellow == True:
             #set the image to blue
             self.getControl(357).setVisible(False)
             self.getControl(350).setVisible(True)

             #set the label to white
             self.getControl(371).setVisible(False)
             self.getControl(364).setVisible(True)

             #set the image to yellow
             self.getControl(349).setVisible(False)
             self.getControl(356).setVisible(True)

             #set the label to black
             self.getControl(363).setVisible(False)
             self.getControl(370).setVisible(True)


             self.channels_Index -= 1
             #self.programs_Index -= 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 428:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                             else:
                                 if pos_X == 375 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 428:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 375 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 375 and pos_Y == 391:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 428:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))



         elif channels_3_yellow == True:
             #set the image to blue
             self.getControl(356).setVisible(False)
             self.getControl(349).setVisible(True)

             #set the label to white
             self.getControl(370).setVisible(False)
             self.getControl(363).setVisible(True)

             #set the image to yellow
             self.getControl(348).setVisible(False)
             self.getControl(355).setVisible(True)

             #set the label to black
             self.getControl(362).setVisible(False)
             self.getControl(369).setVisible(True)


             self.channels_Index -= 1
             #self.programs_Index -= 69
             print "hello chris 3"
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 391:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 391:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 375 and pos_Y == 353:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 391:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))



         elif channels_2_yellow == True:
             #set the image to blue
             self.getControl(355).setVisible(False)
             self.getControl(348).setVisible(True)

             #set the label to white
             self.getControl(369).setVisible(False)
             self.getControl(362).setVisible(True)

             #set the image to yellow
             self.getControl(354).setVisible(False)
             self.getControl(347).setVisible(True)

             #set the label to black
             self.getControl(368).setVisible(False)
             self.getControl(361).setVisible(True)


             self.channels_Index -= 1
             #self.programs_Index -= 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)

             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 353:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 315:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 315:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 315:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 315:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 315:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 315:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 353:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 315:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 315:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 315:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 315:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 315:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 315:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 315:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 315:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 353:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 315:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 315:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 315:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 315:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 315:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 315:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))



         elif channels_1_yellow == True:
             self.channels_Index -= 1
             #self.programs_Index -= 69

             try:
                 #get the programs list
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 con = database.connect(profilePath)
                 cur = con.cursor()
                 cur.execute('SELECT DISTINCT channel FROM programs;')
                 channel = sorted(row[0] for row in cur.fetchall())
                 cur.execute('SELECT channel, title, start_date, stop_date FROM programs WHERE channel=?;', (channel[self.channels_Index],))
                 programs = cur.fetchall()
                 start_pos = 375    # indent for first program
                 channel = list()
                 positions_start = list()
                 positions_top = list()
                 programs_width = list()
                 programs_height = list()
                 programs_title = list()

                 for ind, row in enumerate(programs):
                     program = row[0].encode('ascii'), str(row[1]), str(row[2]), str(row[3])
                     channels = row[0].encode('ascii')
                     program_title = row[1].encode('ascii')
                     program_start_date = str(row[2])
                     program_end_date = str(row[3])

                     #convert the date formats into minutes
                     minutes_start = self.parseDateTimeToMinutesSinceEpoch(program_start_date)
                     minutes_end = self.parseDateTimeToMinutesSinceEpoch(program_end_date)
                     minutes_length = minutes_end - minutes_start
                     channel_index = self.channels_Index

                     program_length = minutes_length
                     program_notification = program
                     programs_top = 315
                     program_height = 33
                     program_gap = 3
                     position_start = start_pos
                     position_top = programs_top + channel_index * (program_height + program_gap + 1.5)


                     #create width size for program buttons
                     if program_length >= 0 and program_length <= 10:   #10 mins
                         program_width = 84
                     elif program_length > 10 and program_length <= 20:   #15 mins
                         program_width = 167
                     elif program_length > 20 and program_length <= 35:   #30 mins
                         program_width = 342
                     elif program_length > 40 and program_length <= 48:   #45 mins
                         program_width = 515
                     elif program_length >= 50 and program_length <= 70:   #1 hour
                         program_width = 692
                     elif program_length >= 75 and program_length <= 85:   #1 hour and 15 mins
                         program_width = 879
                     elif program_length >= 90 and program_length <= 105:   #1 hour and 30 mins
                         program_width =  1038
                     elif program_length > 100 and program_length <= 115:   #1 hour and 45 mins
                         program_width =  1209
                     elif program_length > 115 and program_length <= 125:   #2 hours
                         program_width =  1392
                     elif program_length > 120 and program_length <= 135:   #2 hours and 15 mins
                         program_width =  1563
                     elif program_length > 135 and program_length <= 155:   #2 hour and 30 mins
                         program_width = 1735
                     elif program_length > 150 and program_length <= 165:   #2 hour and 45 mins
                         program_width = 1906
                     elif program_length > 165 and program_length <= 185:   #3 hours
                         program_width = 2082
                     elif program_length > 180 and program_length <= 195:   #3 hours and 15 mins
                         program_width = 2253
                     elif program_length > 195 and program_length <= 210:   #3 hour and 30 mins
                         program_width = 2437
                     elif program_length > 210 and program_length <= 225:   #3 hour and 45 mins
                         program_width = 2608
                     elif program_length > 225 and program_length <= 240:   #4 hours
                         program_width = 2779
                     elif program_length > 240 and program_length <= 255:   #4 hours and 15 mins
                         program_width = 2779
                     elif program_length > 255 and program_length <= 270:   #4 hour and 30 mins
                         program_width = 3121
                     elif program_length > 270 and program_length <= 286:   #4 hour and 45 mins
                         program_width = 3292
                     elif program_length > 286 and program_length <= 300:   #5 hours
                         program_width = 3463
                     elif program_length > 300 and program_length <= 315:   #5 hours and 15 mins
                         program_width = 3634
                     elif program_length > 315 and program_length <= 330:   #5 hour and 30 mins
                         program_width = 3805
                     elif program_length > 330 and program_length <= 345:   #5 hour and 45 mins
                         program_width = 3976
                     elif program_length > 345 and program_length <= 360:   #6 hours
                         program_width = 4146
                     elif program_length > 360 and program_length <= 375:   #6 hours and 15 mins
                         program_width = 4317
                     elif program_length > 375 and program_length <= 390:   #6 hour and 30 mins
                         program_width = 4489
                     elif program_length > 390 and program_length <= 405:   #6 hour and 45 mins
                         program_width = 4660
                     elif program_length > 405 and program_length <= 420:   #7 hours
                         program_width = 4831
                     elif program_length > 420 and program_length <= 435:   #7 hours and 15 mins
                         program_width = 5002
                     elif program_length > 435 and program_length <= 450:   #7 hours and 30 mins
                         program_width = 5173
                     elif program_length > 435 and program_length <= 450:   #7 hour and 45 mins
                         program_width = 5344
                     elif program_length > 450 and program_length <= 480:   #8 hours
                         program_width = 5515

                     start_pos += program_width + 2 * program_gap + 1
                     position_top += 37.5

                     #extract the list of elements from the arrays
                     positions_start.append(position_start)
                     positions_top.append(position_top)
                     programs_width.append(program_width)
                     programs_height.append(program_height)
                     programs_title.append(program_title)
                 program_button = [elem.control for elem in self.program_buttons]
                 programs_id = list()
                 positions_X = list()
                 positions_Y = list()
                 for elem in program_button:
                     programs_id.append(elem.getId())
                     positions_X.append(elem.getX())
                     positions_Y.append(elem.getY())
                 programs_id = map(str, programs_id)
                 posX = map(str, positions_X)
                 posY = map(str, positions_Y)


                 #get each posX, posY and prog_id then move them up for each program button
                 for pos_X, pos_Y, prog_id in zip(positions_X, positions_Y, programs_id):

                     if int(pos_Y) == 541:
                         pos_Y = 577
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(int(prog_id)).setVisible(False)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 503:
                         pos_Y = 540
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 466:
                         pos_Y = 502
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 428:
                         pos_Y = 465
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 391:
                         pos_Y = 427
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 353:
                         pos_Y = 390
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 315:
                         pos_Y = 352
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                 channels_2 = self.getControl(361).getLabel()
                 channels_3 = self.getControl(362).getLabel()
                 channels_4 = self.getControl(363).getLabel()
                 channels_5 = self.getControl(364).getLabel()
                 channels_6 = self.getControl(365).getLabel()
                 channels_7 = self.getControl(366).getLabel()

                 #set the channels text
                 self.getControl(361).setLabel(channels)
                 self.getControl(368).setLabel(channels)
                 self.getControl(362).setLabel(channels_2)
                 self.getControl(369).setLabel(channels_2)
                 self.getControl(363).setLabel(channels_3)
                 self.getControl(370).setLabel(channels_3)
                 self.getControl(364).setLabel(channels_4)
                 self.getControl(371).setLabel(channels_3)
                 self.getControl(365).setLabel(channels_4)
                 self.getControl(372).setLabel(channels_5)
                 self.getControl(366).setLabel(channels_6)
                 self.getControl(373).setLabel(channels_6)
                 self.getControl(367).setLabel(channels_7)
                 self.getControl(374).setLabel(channels_7)

                 #set the image to blue
                 self.getControl(347).setVisible(False)
                 self.getControl(354).setVisible(True)

                 #set the label to white
                 self.getControl(361).setVisible(False)
                 self.getControl(368).setVisible(True)

                 #set the image to yellow
                 self.getControl(348).setVisible(False)
                 self.getControl(355).setVisible(True)

                 #set the label to black
                 self.getControl(362).setVisible(False)
                 self.getControl(369).setVisible(True)


                 #if the program width is greater than 1 then do something.
                 if program_width > 1:
                     for position_start, position_top, program_width, program_height, program_title in zip(positions_start, positions_top, programs_width, programs_height, programs_title):
                         program_title = '[B]' + program_title + '[/B]'
                         position_top = 315

                         program_controls = xbmcgui.ControlButton(
                             int(position_start),
                             int(position_top),
                             int(program_width),
                             int(program_height),
                             program_title,
                             focusTexture = self.path + self.button_focus, 
                             noFocusTexture = path + self.button_nofocus,
                             alignment=4,
                             textColor ='0xFFFFFFFF',
                             focusedColor ='0xFF000000'
                         )
                         self.program_buttons.append(ProgramControls(program_controls, program))


                         #create the program buttons
                         if self.program_buttons > 1:
                             self.addControl(program_controls)


                 if self.channels_Index >= 1:

                     #set the image to blue
                     self.getControl(355).setVisible(False)
                     self.getControl(348).setVisible(True)

                     #set the label to white
                     self.getControl(369).setVisible(False)
                     self.getControl(362).setVisible(True)

                     #set the image to yellow
                     self.getControl(354).setVisible(False)
                     self.getControl(347).setVisible(True)

                     #set the label to black
                     self.getControl(368).setVisible(False)
                     self.getControl(361).setVisible(True)


                 else:
                     #set the image to blue
                     self.getControl(355).setVisible(False)
                     self.getControl(348).setVisible(True)

                     #set the label to white
                     self.getControl(369).setVisible(False)
                     self.getControl(362).setVisible(True)

                     #set the image to yellow
                     self.getControl(354).setVisible(False)
                     self.getControl(347).setVisible(True)

                     #set the label to black
                     self.getControl(368).setVisible(False)
                     self.getControl(361).setVisible(True)


                 if self.channels_Index >= 0:
                     if self.channels_Index != 0:
                         self.setFocus(self.program_buttons[self.programs_Index].control)
                         print "fix this trouble"
                     else:
                         program_buttons = [elem.control for elem in self.program_buttons]
                         programs_id = list()
                         positions_X = list()
                         positions_Y = list()
                         for elem in program_buttons:
                             programs_id.append(elem.getId())
                             positions_X.append(elem.getX())
                             positions_Y.append(elem.getY())
                         programs_id = map(str, programs_id)
                         posX = map(str, positions_X)
                         posY = map(str, positions_Y)
                         #get each posX, posY and prog_id then move them up for each program button
                         for pos_X, pos_Y, prog_id in zip(positions_X, positions_Y, programs_id):
                             if int(pos_X) == 375 and int(pos_Y) == 315:
                                 self.setFocus(self.getControl(int(prog_id)))


                 if self.move_up_flag == False:
                     self.move_up_flag = True


             except:
                 pass




     def GoDown(self):
         channels_1_yellow = xbmc.getCondVisibility('Control.IsVisible(347)')
         channels_2_yellow = xbmc.getCondVisibility('Control.IsVisible(355)')
         channels_3_yellow = xbmc.getCondVisibility('Control.IsVisible(356)')
         channels_4_yellow = xbmc.getCondVisibility('Control.IsVisible(357)')
         channels_5_yellow = xbmc.getCondVisibility('Control.IsVisible(358)')
         channels_6_yellow = xbmc.getCondVisibility('Control.IsVisible(359)')
         channels_7_yellow = xbmc.getCondVisibility('Control.IsVisible(360)')
         path = 'special://home/addons/script.tvguide/resources/skins/Default/media/'
         
         CurrentRowId = self.getFocusId()
         CurrentRowX = self.getControl(CurrentRowId).getX()
         CurrentRowY = self.getControl(CurrentRowId).getY()
         CurrentWidth = self.getControl(CurrentRowId).getWidth()



         if channels_1_yellow == True:
             #set the image to blue
             self.getControl(347).setVisible(False)
             self.getControl(354).setVisible(True)

             #set the label to white
             self.getControl(361).setVisible(False)
             self.getControl(368).setVisible(True)

             #set the image to yellow
             self.getControl(348).setVisible(False)
             self.getControl(355).setVisible(True)

             #set the label to black
             self.getControl(362).setVisible(False)
             self.getControl(369).setVisible(True)

             self.channels_Index += 1
             #self.programs_Index += 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 315:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 353:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 315:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 353:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 353:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 315:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 353:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 353:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 353:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

             self.channels_Index + 1
             #self.setFocus(self.program_buttons[self.programs_Index].control)


         elif channels_2_yellow == True:

             #set the image to blue
             self.getControl(355).setVisible(False)
             self.getControl(348).setVisible(True)

             #set the label to white
             self.getControl(369).setVisible(False)
             self.getControl(362).setVisible(True)

             #set the image to yellow
             self.getControl(349).setVisible(False)
             self.getControl(356).setVisible(True)

             #set the label to black
             self.getControl(363).setVisible(False)
             self.getControl(370).setVisible(True)


             self.channels_Index += 1
             #self.programs_Index += 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 353:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 353:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 391:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 391:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 353:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 391:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 391:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 391:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

             #self.setFocus(self.program_buttons[self.programs_Index].control)



         elif channels_3_yellow == True:

             #set the image to blue
             self.getControl(356).setVisible(False)
             self.getControl(349).setVisible(True)

             #set the label to white
             self.getControl(370).setVisible(False)
             self.getControl(363).setVisible(True)

             #set the image to yellow
             self.getControl(350).setVisible(False)
             self.getControl(357).setVisible(True)

             #set the label to black
             self.getControl(364).setVisible(False)
             self.getControl(371).setVisible(True)


             self.channels_Index += 1
             #self.programs_Index += 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 391:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                                     
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 391:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 428:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 428:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 391:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 428:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 428:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 428:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

             #self.setFocus(self.program_buttons[self.programs_Index].control)



         elif channels_4_yellow == True:

             #set the image to blue
             self.getControl(357).setVisible(False)
             self.getControl(350).setVisible(True)

             #set the label to white
             self.getControl(371).setVisible(False)
             self.getControl(364).setVisible(True)

             #set the image to yellow
             self.getControl(351).setVisible(False)
             self.getControl(358).setVisible(True)

             #set the label to black
             self.getControl(365).setVisible(False)
             self.getControl(372).setVisible(True)


             self.channels_Index += 1
             #self.programs_Index += 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 428:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 428:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 466:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 466:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 428:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 466:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 466:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 466:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

             #self.setFocus(self.program_buttons[self.programs_Index].control)



         elif channels_5_yellow == True:

             #set the image to blue
             self.getControl(358).setVisible(False)
             self.getControl(351).setVisible(True)

             #set the label to white
             self.getControl(372).setVisible(False)
             self.getControl(365).setVisible(True)

             #set the image to yellow
             self.getControl(352).setVisible(False)
             self.getControl(359).setVisible(True)

             #set the label to black
             self.getControl(366).setVisible(False)
             self.getControl(373).setVisible(True)


             self.channels_Index += 1
             #self.programs_Index += 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 466:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 466:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 503:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 503:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 466:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 503:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 503:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 503:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

             #self.setFocus(self.program_buttons[self.programs_Index].control)



         elif channels_6_yellow == True:

             #set the image to blue
             self.getControl(359).setVisible(False)
             self.getControl(352).setVisible(True)

             #set the label to white
             self.getControl(373).setVisible(False)
             self.getControl(366).setVisible(True)

             #set the image to yellow
             self.getControl(353).setVisible(False)
             self.getControl(360).setVisible(True)

             #set the label to black
             self.getControl(367).setVisible(False)
             self.getControl(374).setVisible(True)

             #self.programs_Index += 69
             CurrentRowId = self.getFocusId()
             CurrentRowX = self.getControl(CurrentRowId).getX()
             CurrentRowY = self.getControl(CurrentRowId).getY()
             CurrentWidth = self.getControl(CurrentRowId).getWidth()

             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             position_X = list()
             position_Y = list()
             for elem in program_button:
                 program_id.append(elem.getId())
                 program_width.append(elem.getWidth())
                 position_X.append(elem.getX())
                 position_Y.append(elem.getY())
             program_id = map(str, program_id)
             program_width = map(str, program_width)
             posX = map(str, position_X)
             posY = map(str, position_Y)


             #get each posX, posY and prog_id then move them up for each program button
             for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                 if CurrentRowX == 375 and CurrentRowY == 503:
                     if CurrentWidth <= 692:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 541:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 541:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnLeft == True:
                             if pos_X == 375 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 541:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                         elif self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 541:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 724 and CurrentRowY == 503:
                     if CurrentWidth <= 692:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 541:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 541:
                                     if prog_width <= 692:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))

                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                     if CurrentWidth >= 1038:
                         if self.channelsOnMiddle == True:
                             if pos_X == 724 and pos_Y == 541:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 375 and pos_Y == 541:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))


                         elif self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 541:
                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 541:
                                     if prog_width >= 1038:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 541:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                 if CurrentRowX == 1073 and CurrentRowY == 503:
                     if CurrentWidth <= 692:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 541:
                                 if prog_width >= 342:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 541:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 541:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                     if CurrentWidth >= 1038:
                         if self.channelsOnRight == True:
                             if pos_X == 1073 and pos_Y == 541:
                                 if prog_width <= 692:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))

                                 if prog_width >= 1038:
                                     program_id = int(prog_id)
                                     self.setFocus(self.getControl(program_id))
                             else:
                                 if pos_X == 724 and pos_Y == 541:
                                     if prog_width >= 342:
                                         program_id = int(prog_id)
                                         self.setFocus(self.getControl(program_id))
                                 else:
                                     if pos_X == 375 and pos_Y == 541:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

             #self.setFocus(self.program_buttons[self.programs_Index].control)



         elif self.channels_Index >= 6:

             self.channels_Index += 1
             #self.programs_Index += 69

             try:
                 #get the programs list
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 con = database.connect(profilePath)
                 cur = con.cursor()
                 cur.execute('SELECT DISTINCT channel FROM programs;')
                 channel = sorted(row[0] for row in cur.fetchall())
                 cur.execute('SELECT channel, title, start_date, stop_date FROM programs WHERE channel=?;', (channel[self.channels_Index],))
                 programs = cur.fetchall()
                 start_pos = 375    # indent for first program
                 channel = list()
                 positions_start = list()
                 positions_top = list()
                 programs_width = list()
                 programs_height = list()
                 programs_title = list()

                 for ind, row in enumerate(programs):
                     program = row[0].encode('ascii'), str(row[1]), str(row[2]), str(row[3])
                     channels = row[0].encode('ascii')
                     program_title = row[1].encode('ascii')
                     program_start_date = str(row[2])
                     program_end_date = str(row[3])

                     #convert the date formats into minutes
                     minutes_start = self.parseDateTimeToMinutesSinceEpoch(program_start_date)
                     minutes_end = self.parseDateTimeToMinutesSinceEpoch(program_end_date)
                     minutes_length = minutes_end - minutes_start
                     channel_index = self.channels_Index

                     program_length = minutes_length
                     program_notification = program
                     programs_top = 315
                     program_height = 33
                     program_gap = 3
                     position_start = start_pos
                     position_top = programs_top + channel_index * (program_height + program_gap + 1.5)


                     #create width size for program buttons
                     if program_length >= 0 and program_length <= 10:   #10 mins
                         program_width = 84
                     elif program_length > 10 and program_length <= 20:   #15 mins
                         program_width = 167
                     elif program_length > 20 and program_length <= 35:   #30 mins
                         program_width = 342
                     elif program_length > 40 and program_length <= 48:   #45 mins
                         program_width = 515
                     elif program_length >= 50 and program_length <= 70:   #1 hour
                         program_width = 692
                     elif program_length >= 75 and program_length <= 85:   #1 hour and 15 mins
                         program_width = 879
                     elif program_length >= 90 and program_length <= 105:   #1 hour and 30 mins
                         program_width =  1038
                     elif program_length > 100 and program_length <= 115:   #1 hour and 45 mins
                         program_width =  1209
                     elif program_length > 115 and program_length <= 125:   #2 hours
                         program_width =  1392
                     elif program_length > 120 and program_length <= 135:   #2 hours and 15 mins
                         program_width =  1563
                     elif program_length > 135 and program_length <= 155:   #2 hour and 30 mins
                         program_width = 1735
                     elif program_length > 150 and program_length <= 165:   #2 hour and 45 mins
                         program_width = 1906
                     elif program_length > 165 and program_length <= 185:   #3 hours
                         program_width = 2082
                     elif program_length > 180 and program_length <= 195:   #3 hours and 15 mins
                         program_width = 2253
                     elif program_length > 195 and program_length <= 210:   #3 hour and 30 mins
                         program_width = 2437
                     elif program_length > 210 and program_length <= 225:   #3 hour and 45 mins
                         program_width = 2608
                     elif program_length > 225 and program_length <= 240:   #4 hours
                         program_width = 2779
                     elif program_length > 240 and program_length <= 255:   #4 hours and 15 mins
                         program_width = 2779
                     elif program_length > 255 and program_length <= 270:   #4 hour and 30 mins
                         program_width = 3121
                     elif program_length > 270 and program_length <= 286:   #4 hour and 45 mins
                         program_width = 3292
                     elif program_length > 286 and program_length <= 300:   #5 hours
                         program_width = 3463
                     elif program_length > 300 and program_length <= 315:   #5 hours and 15 mins
                         program_width = 3634
                     elif program_length > 315 and program_length <= 330:   #5 hour and 30 mins
                         program_width = 3805
                     elif program_length > 330 and program_length <= 345:   #5 hour and 45 mins
                         program_width = 3976
                     elif program_length > 345 and program_length <= 360:   #6 hours
                         program_width = 4146
                     elif program_length > 360 and program_length <= 375:   #6 hours and 15 mins
                         program_width = 4317
                     elif program_length > 375 and program_length <= 390:   #6 hour and 30 mins
                         program_width = 4489
                     elif program_length > 390 and program_length <= 405:   #6 hour and 45 mins
                         program_width = 4660
                     elif program_length > 405 and program_length <= 420:   #7 hours
                         program_width = 4831
                     elif program_length > 420 and program_length <= 435:   #7 hours and 15 mins
                         program_width = 5002
                     elif program_length > 435 and program_length <= 450:   #7 hours and 30 mins
                         program_width = 5173
                     elif program_length > 435 and program_length <= 450:   #7 hour and 45 mins
                         program_width = 5344
                     elif program_length > 450 and program_length <= 480:   #8 hours
                         program_width = 5515

                     start_pos += program_width + 2 * program_gap + 1
                     position_top -= 37.5

                     #extract the list of elements from the arrays
                     positions_start.append(position_start)
                     positions_top.append(position_top)
                     programs_width.append(program_width)
                     programs_height.append(program_height)
                     programs_title.append(program_title)
                 program_button = [elem.control for elem in self.program_buttons]
                 programs_id = list()
                 positions_X = list()
                 positions_Y = list()
                 for elem in program_button:
                     programs_id.append(elem.getId())
                     positions_X.append(elem.getX())
                     positions_Y.append(elem.getY())
                 programs_id = map(str, programs_id)
                 posX = map(str, positions_X)
                 posY = map(str, positions_Y)


                 #get each posX, posY and prog_id then move them up for each program button
                 for pos_X, pos_Y, prog_id in zip(positions_X, positions_Y, programs_id):

                     if int(pos_Y) == 315:
                         pos_Y = 278
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(int(prog_id)).setVisible(False)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 353:
                         pos_Y = 315
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 391:
                         pos_Y = 352
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 428:
                         pos_Y = 390
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 466:
                         pos_Y = 427
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 503:
                         pos_Y = 465
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                     if int(pos_Y) == 541:
                         pos_Y = 502
                         pos_X = int(pos_X)
                         prog_id = int(prog_id)
                         self.getControl(prog_id).setPosition(int(pos_X), int(pos_Y))


                 #if self.move_down_flag == True:
                     #self.move_down_flag = False
                     #remove existing controls
                     #self.clearEPG()


                 channels_2 = self.getControl(362).getLabel()
                 channels_3 = self.getControl(363).getLabel()
                 channels_4 = self.getControl(364).getLabel()
                 channels_5 = self.getControl(365).getLabel()
                 channels_6 = self.getControl(366).getLabel()
                 channels_7 = self.getControl(367).getLabel()

                 #set the channels text
                 self.getControl(361).setLabel(channels_2)
                 self.getControl(368).setLabel(channels_2)
                 self.getControl(362).setLabel(channels_3)
                 self.getControl(369).setLabel(channels_3)
                 self.getControl(363).setLabel(channels_4)
                 self.getControl(370).setLabel(channels_4)
                 self.getControl(364).setLabel(channels_5)
                 self.getControl(371).setLabel(channels_5)
                 self.getControl(365).setLabel(channels_6)
                 self.getControl(372).setLabel(channels_6)
                 self.getControl(366).setLabel(channels_7)
                 self.getControl(373).setLabel(channels_7)
                 self.getControl(367).setLabel(channels)
                 self.getControl(374).setLabel(channels)

                 #set the image to blue
                 self.getControl(360).setVisible(False)
                 self.getControl(353).setVisible(True)

                 #set the label to white
                 self.getControl(374).setVisible(False)
                 self.getControl(367).setVisible(True)

                 #set the image to yellow
                 self.getControl(352).setVisible(False)
                 self.getControl(359).setVisible(True)

                 #set the label to black
                 self.getControl(366).setVisible(False)
                 self.getControl(373).setVisible(True)


                 #if the program width is greater than 1 then do something.
                 if program_width > 1:
                     for position_start, position_top, program_width, program_height, program_title in zip(positions_start, positions_top, programs_width, programs_height, programs_title):
                         program_title = '[B]' + program_title + '[/B]'
                         position_top = 540

                         program_controls = xbmcgui.ControlButton(
                             int(position_start),
                             int(position_top),
                             int(program_width),
                             int(program_height),
                             program_title,
                             focusTexture = self.path + self.button_focus, 
                             noFocusTexture = path + self.button_nofocus,
                             alignment=4,
                             textColor ='0xFFFFFFFF',
                             focusedColor ='0xFF000000'
                         )
                         self.program_buttons.append(ProgramControls(program_controls, program))


                         #create the program buttons
                         if self.program_buttons > 1:
                             self.addControl(program_controls)


                 #get the program buttons after when the buttons have been added
                 programs_button = [elem.control for elem in self.program_buttons]
                 program_id = list()
                 position_X = list()
                 position_Y = list()
                 for elem in programs_button:
                     program_id.append(elem.getId())
                     position_X.append(elem.getX())
                     position_Y.append(elem.getY())
                 program_id = map(str, program_id)
                 pos_X = map(str, position_X)
                 pos_Y = map(str, position_Y)


                 if self.channels_Index >= 7:

                     #set the image to blue
                     self.getControl(359).setVisible(False)
                     self.getControl(352).setVisible(True)

                     #set the label to white
                     self.getControl(373).setVisible(False)
                     self.getControl(366).setVisible(True)

                     #set the image to yellow
                     self.getControl(353).setVisible(False)
                     self.getControl(360).setVisible(True)

                     #set the label to black
                     self.getControl(367).setVisible(False)
                     self.getControl(374).setVisible(True)

                     #get each posX, posY and prog_id then move them up for each program button
                     for pos_X, pos_Y, prog_width, prog_id in zip(position_X, position_Y, program_width, program_id):
                         if CurrentRowX == 375 and CurrentRowY == 541:
                             if CurrentWidth <= 692:
                                 if self.channelsOnLeft == True:
                                     if pos_X == 724 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 375 and pos_Y == 541:
                                             if prog_width <= 692:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))

                                             if prog_width >= 1038:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))


                                 elif self.channelsOnRight == True:
                                     if pos_X == 1073 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 724 and pos_Y == 541:
                                             if prog_width <= 692:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))

                                             if prog_width >= 1038:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))
                                         else:
                                             if pos_X == 375 and pos_Y == 541:
                                                 if prog_width <= 692:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))

                                                 if prog_width >= 1038:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))


                             if CurrentWidth >= 1038:
                                 if self.channelsOnLeft == True:
                                     if pos_X == 375 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))


                                 elif self.channelsOnRight == True:
                                     if pos_X == 1073 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 724 and pos_Y == 391:
                                             if prog_width <= 692:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))

                                             if prog_width >= 1038:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))
                                         else:
                                             if pos_X == 375 and pos_Y == 391:
                                                 if prog_width <= 692:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))

                                                 if prog_width >= 1038:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))


                         if CurrentRowX == 724 and CurrentRowY == 541:
                             if CurrentWidth <= 692:
                                 if self.channelsOnMiddle == True:
                                     if pos_X == 724 and pos_Y == 541:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 375 and pos_Y == 541:
                                             if prog_width <= 692:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))

                                             if prog_width >= 1038:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))


                                 elif self.channelsOnRight == True:
                                     if pos_X == 1073 and pos_Y == 353:
                                         if prog_width <= 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 724 and pos_Y == 353:
                                             if prog_width <= 692:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))

                                             if prog_width >= 1038:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))
                                         else:
                                             if pos_X == 375 and pos_Y == 353:
                                                 if prog_width <= 692:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))

                                                 if prog_width >= 1038:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))


                             if CurrentWidth >= 1038:
                                 if self.channelsOnMiddle == True:
                                     if pos_X == 724 and pos_Y == 353:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 375 and pos_Y == 353:
                                             if prog_width >= 1038:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))


                                 elif self.channelsOnRight == True:
                                     if pos_X == 1073 and pos_Y == 541:
                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 724 and pos_Y == 541:
                                             if prog_width >= 1038:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))
                                         else:
                                             if pos_X == 375 and pos_Y == 541:
                                                 if prog_width >= 1038:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))


                         if CurrentRowX == 1073 and CurrentRowY == 541:
                             if CurrentWidth <= 692:
                                 if self.channelsOnRight == True:
                                     if pos_X == 1073 and pos_Y == 541:
                                         if prog_width >= 342:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 724 and pos_Y == 541:
                                             if prog_width >= 342:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))
                                         else:
                                             if pos_X == 375 and pos_Y == 541:
                                                 if prog_width >= 342:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))


                             if CurrentWidth >= 1038:
                                 if self.channelsOnRight == True:
                                     if pos_X == 1073 and pos_Y == 541:
                                         if prog_width == 692:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))

                                         if prog_width >= 1038:
                                             program_id = int(prog_id)
                                             self.setFocus(self.getControl(program_id))
                                     else:
                                         if pos_X == 724 and pos_Y == 541:
                                             if prog_width >= 342:
                                                 program_id = int(prog_id)
                                                 self.setFocus(self.getControl(program_id))
                                         else:
                                             if pos_X == 375 and pos_Y == 541:
                                                 if prog_width >= 342:
                                                     program_id = int(prog_id)
                                                     self.setFocus(self.getControl(program_id))

                     #self.setFocus(self.program_buttons[self.programs_Index].control)

                 if self.move_down_flag == False:
                     self.move_down_flag = True


             except:
                 pass




     def GoLeft(self):
         CurrentRowID = self.getFocusId()
         CurrentRow = self.getControl(CurrentRowID).getX()
         CurrentRowY = self.getControl(CurrentRowID).getY()
         CurrentWidth = self.getControl(CurrentRowID).getWidth()
         print "CurrentRow is " + str(CurrentRow)
         print "CurrentRowY is " + str(CurrentRowY)
         print "CurrentWidth is " + str(CurrentWidth)


         #if channels page is equal or greater than 75
         if self.channel_page >= 75:
             if self.previous_program == True:
                 if CurrentWidth >= 692:
                     self.previous_program = False
                     self.programs_Index_flag = False
                 else:
                     self.move_right_flag = True


             if CurrentRow == 375:
                 if self.channel_page >= 0:
                     # Set the date and time row
                     getTime1 = self.getControl(344)
                     getTime2 = self.getControl(345)
                     getTime3 = self.getControl(346)
                     getTime3.setLabel(getTime2.getLabel())
                     getTime2.setLabel(getTime1.getLabel())
                     getTime1 = self.getControl(344).getLabel()
                     hour = time.strftime("%I").lstrip('0')

                     #Find the time for each clock to change the text
                     if getTime1 == '12:00AM':
                         self.getControl(344).setLabel('11:30PM')
                     elif getTime1 == '12:30AM':
                         self.getControl(344).setLabel('12:00AM')
                     elif getTime1 == '1:00AM':
                         self.getControl(344).setLabel('12:30AM')
                     elif getTime1 == '1:30AM':
                         self.getControl(344).setLabel('1:00AM')
                     elif getTime1 == '2:00AM':
                         self.getControl(344).setLabel('1:30AM')
                     elif getTime1 == '2:30AM':
                         self.getControl(344).setLabel('2:00AM')
                     elif getTime1 == '3:00AM':
                         self.getControl(344).setLabel('2:30AM')
                     elif getTime1 == '3:30AM':
                         self.getControl(344).setLabel('3:00AM')
                     elif getTime1 == '4:00AM':
                         self.getControl(344).setLabel('3:30AM')
                     elif getTime1 == '4:30AM':
                         self.getControl(344).setLabel('4:00AM')
                     elif getTime1 == '5:00AM':
                         self.getControl(344).setLabel('4:30AM')
                     elif getTime1 == '5:30AM':
                         self.getControl(344).setLabel('5:00AM')
                     elif getTime1 == '6:00AM':
                         self.getControl(344).setLabel('5:30AM')
                     elif getTime1 == '6:30AM':
                         self.getControl(344).setLabel('6:00AM')
                     elif getTime1 == '7:00AM':
                         self.getControl(344).setLabel('6:30AM')
                     elif getTime1 == '7:30AM':
                         self.getControl(344).setLabel('7:00AM')
                     elif getTime1 == '8:00AM':
                         self.getControl(344).setLabel('7:30AM')
                     elif getTime1 == '8:30AM':
                         self.getControl(344).setLabel('8:00AM')
                     elif getTime1 == '9:00AM':
                         self.getControl(344).setLabel('8:30AM')
                     elif getTime1 == '9:30AM':
                         self.getControl(344).setLabel('9:00AM')
                     elif getTime1 == '10:00AM':
                         self.getControl(344).setLabel('9:30AM')
                     elif getTime1 == '10:30AM':
                         self.getControl(344).setLabel('10:00AM')
                     elif getTime1 == '11:00AM':
                         self.getControl(344).setLabel('10:30AM')
                     elif getTime1 == '11:30AM':
                         self.getControl(344).setLabel('11:00AM')
                     elif getTime1 == '12:00PM':
                         self.getControl(344).setLabel('11:30AM')
                     elif getTime1 == '12:30PM':
                         self.getControl(344).setLabel('12:00PM')
                     elif getTime1 == '1:00PM':
                         self.getControl(344).setLabel('12:30PM')
                     elif getTime1 == '1:30PM':
                         self.getControl(344).setLabel('1:00PM')
                     elif getTime1 == '2:00PM':
                         self.getControl(344).setLabel('1:30PM')
                     elif getTime1 == '2:30PM':
                         self.getControl(344).setLabel('2:00PM')
                     elif getTime1 == '3:00PM':
                         self.getControl(344).setLabel('2:30PM')
                     elif getTime1 == '3:30PM':
                         self.getControl(344).setLabel('3:00PM')
                     elif getTime1 == '4:00PM':
                         self.getControl(344).setLabel('3:30PM')
                     elif getTime1 == '4:30PM':
                         self.getControl(344).setLabel('4:00PM')
                     elif getTime1 == '5:00PM':
                         self.getControl(344).setLabel('4:30PM')
                     elif getTime1 == '5:30PM':
                         self.getControl(344).setLabel('5:00PM')
                     elif getTime1 == '6:00PM':
                         self.getControl(344).setLabel('5:30PM')
                     elif getTime1 == '6:30PM':
                         self.getControl(344).setLabel('6:00PM')
                     elif getTime1 == '7:00PM':
                         self.getControl(344).setLabel('6:30PM')
                     elif getTime1 == '7:30PM':
                         self.getControl(344).setLabel('7:00PM')
                     elif getTime1 == '8:00PM':
                         self.getControl(344).setLabel('7:30PM')
                     elif getTime1 == '8:30PM':
                         self.getControl(344).setLabel('8:00PM')
                     elif getTime1 == '9:00PM':
                         self.getControl(344).setLabel('8:30PM')
                     elif getTime1 == '9:30PM':
                         self.getControl(344).setLabel('9:00PM')
                     elif getTime1 == '10:00PM':
                         self.getControl(344).setLabel('9:30PM')
                     elif getTime1 == '10:30PM':
                         self.getControl(344).setLabel('10:00PM')
                     elif getTime1 == '11:00PM':
                         self.getControl(344).setLabel('10:30PM')
                     elif getTime1 == '11:30PM':
                         self.getControl(344).setLabel('11:00PM')


             # change program controls to display the proper junks
             if self.channels_Index != len(self.program_buttons) - 1:
                 if CurrentRow == 375:
                     if self.channel_page >= 75:
                         program_button = [elem.control for elem in self.program_buttons]
                         programs_id = list()
                         program_width = list()
                         positions_X = list()
                         positions_Y = list()

                         for elem in program_button:
                             programs_id.append(elem.getId())
                             positions_X.append(elem.getX())
                             positions_Y.append(elem.getY())
                             program_width.append(elem.getWidth())
                             programs_id = map(str, programs_id)
                         posX = map(str, positions_X)
                         posY = map(str, positions_Y)
                         program_width = map(str, program_width)

                         #get access to the database
                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                         con = database.connect(profilePath)
                         cur = con.cursor()
                         buttonList = list()
                         buttonWidthList = list()

                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 342:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(program_id)).setWidth(692)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(program_id)).setWidth(1038)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(program_id)).setWidth(1392)
                                         self.getControl(int(program_id)).setPosition(375, int(pos_Y))
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(program_id)).setWidth(1735)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(2082)
                                         self.getControl(int(program_id)).setPosition(375, int(pos_Y))
                                     else:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         previousprogram = int(CurrentRowID) - 1
                                         self.getControl(int(previousprogram)).setPosition(375, int(pos_Y))
                                         self.getControl(int(previousprogram)).setVisible(True)
                                         CurrentRowX = self.getControl(int(previousprogram)).getX()
                                         CurrentWidth = self.getControl(int(previousprogram)).getWidth()

                                         if CurrentRowX == 375 and CurrentWidth == 1735:
                                             print "WE DO NEED THIS"
                                             self.programs_Index_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(2437)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 2437:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(2779)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(3121)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(3463)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(3805)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(4146)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(4489)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(4831)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(5173)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if int(program_width) != int(prog_width):
                                         self.getControl(int(prog_id)).setWidth(5515)
                                     else:
                                         self.move_left_flag = True


                             elif int(pos_X) == 724 and int(prog_width) >= 342:
                                 self.getControl(int(prog_id)).setPosition(1073, int(pos_Y))



                             elif int(pos_X) == 1073 and int(prog_width) >= 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(1423, int(pos_Y))
                                 currentprogram = int(prog_id) - 1
                                 currentprogram_width = self.getControl(int(currentprogram)).getWidth()
                                 currentprogramX = self.getControl(int(currentprogram)).getX()

                                 if currentprogram_width == 692:
                                     if currentprogramX == 375:
                                         if self.channel_page <= 75:
                                             nextprogram = int(currentprogram) + 1
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                             if self.move_left_flag == True:
                                 cur.execute('SELECT button_ids, button_width FROM buttons where button_ids=?', [prog_id])
                                 buttons = cur.fetchall()

                                 for ind, row in enumerate(buttons):
                                     program_id = str(row[0])
                                     program_width = str(row[1])

                                     if CurrentRow == 375 and CurrentWidth >= 1038:
                                         if self.channel_page > 75:
                                             if CurrentWidth != int(program_width):
                                                 if program_width == prog_width:
                                                     if int(pos_X) == 375 and int(prog_width) >= 342:
                                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                                         nextprogram = int(prog_id) - 1

                                                         if self.channel_page > 75:
                                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                             self.getControl(int(nextprogram)).setVisible(True)


                                             elif CurrentWidth == int(program_width):
                                                 if CurrentRow == 375:
                                                     if self.channel_page > 75:
                                                         self.getControl(int(CurrentRowID)).setPosition(724, int(pos_Y))
                                                         nextprogram = int(prog_id) - 1
                                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)



                                     elif CurrentRow == 375 and CurrentWidth == 692:
                                         if self.channel_page > 75:
                                             if program_width == prog_width:
                                                 if int(pos_X) == 375 and int(prog_width) <= 692:
                                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                                     previous_program = int(prog_id) - 1
                                                     self.getControl(int(previous_program)).setPosition(375, int(pos_Y))
                                                     self.getControl(int(previous_program)).setVisible(True)


                                     elif CurrentRow == 375 and CurrentWidth == 342:
                                         if self.channel_page >= 75:
                                             if program_width == prog_width:
                                                 self.getControl(int(program_id)).setPosition(724, int(pos_Y))

                                                 if int(pos_X) == 375 and int(prog_width) >= 342:
                                                     current_program = int(prog_id)
                                                     current_programX = self.getControl(int(current_program)).getX()

                                                     if current_programX == 724:
                                                         previous_program = int(current_program) - 1
                                                         previous_program_width = self.getControl(int(previous_program)).getWidth()
                                                         previous_programX = self.getControl(int(previous_program)).getX()

                                                         if previous_programX != 375:
                                                             self.getControl(int(previous_program)).setPosition(375, int(pos_Y))
                                                             self.getControl(int(previous_program)).setVisible(True)
                                                             previous_programs = int(previous_program) - 1

                                                             if previous_program_width == 167:
                                                                 self.getControl(int(previous_program)).setPosition(549, int(pos_Y))
                                                                 previous_programs = int(previous_program) - 1
                                                                 previous_programsX = self.getControl(int(previous_programs)).getX()

                                                                 if previous_programsX != 375:
                                                                     self.getControl(int(previous_programs)).setPosition(375, int(pos_Y))
                                                                     self.getControl(int(previous_programs)).setVisible(True)



                             self.move_left_flag = False


                         if CurrentRow == 375 and CurrentWidth >= 692:
                             if self.move_right_flag == True:
                                 self.move_right_flag = False


                     if self.time_flag == True:
                         if self.next_program == True:
                             self.time_flag = False
                             self.next_program = False

                             if CurrentRow == 375 and CurrentWidth == 342:
                                 self.move_right_flag = True


                 if CurrentRow == 375:
                     previousprogram = int(CurrentRowID) - 1
                     previousprogramX = self.getControl(int(previousprogram)).getX()
                     previousprogram_width = self.getControl(int(previousprogram)).getWidth()

                     if previousprogramX == 375 and previousprogram_width >= 342:
                         if self.channel_page > 75:
                             self.previous_program = False
                             self.programs_Index_flag = True
                             self.move_right_flag = True


                     if previousprogramX == 549 and previousprogram_width == 167:
                         self.previous_program = True
                         self.programs_Index_flag = True
                         self.move_right_flag = True

                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = False
                             self.channelsOnLeft = True



                 if CurrentRow == 549:
                     previousprogram = int(CurrentRowID) - 1
                     previousprogramX = self.getControl(int(previousprogram)).getX()
                     previousprogram_width = self.getControl(int(previousprogram)).getWidth()

                     if previousprogramX == 375 and previousprogram_width == 167:
                         self.previous_program = True
                         self.programs_Index_flag = True
                         self.move_right_flag = True

                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = False
                             self.channelsOnLeft = True



                 if CurrentRow == 724:
                     previousprogram = int(CurrentRowID) - 1
                     previousprogramX = self.getControl(int(previousprogram)).getX()
                     previousprogram_width = self.getControl(int(previousprogram)).getWidth()

                     if previousprogramX == 375:
                         if previousprogram_width == 342:
                             self.previous_program = False
                             self.programs_Index_flag = True
                             self.move_right_flag = True

                             if self.channelsOnRight == True:
                                 self.channelsOnRight = False
                                 self.channelsOnLeft = True


                     if previousprogramX == 549:
                         if previousprogram_width == 167:
                             self.previous_program = True
                             self.programs_Index_flag = True
                             self.move_right_flag = True

                             if self.channelsOnMiddle == True:
                                 self.channelsOnMiddle = False
                                 self.channelsOnLeft = True



                 if CurrentRow == 897:
                     previousprogram = int(CurrentRowID) - 1
                     previousprogramX = self.getControl(int(previousprogram)).getX()
                     previousprogram_width = self.getControl(int(previousprogram)).getWidth()

                     if previousprogram_width == 167:
                         self.previous_program = False
                         self.programs_Index_flag = True
                         self.move_right_flag = True


                     if previousprogram_width >= 342:
                         self.previous_program = False
                         self.programs_Index_flag = True
                         self.move_right_flag = True

                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = False
                             self.channelsOnLeft = True


                 if CurrentRow == 1073:
                     previousprogram = int(CurrentRowID) - 1
                     previousprogramX = self.getControl(int(previousprogram)).getX()
                     previousprogram_width = self.getControl(int(previousprogram)).getWidth()

                     if previousprogramX == 375:
                         if previousprogram_width <= 692:
                             self.previous_program = False
                             self.programs_Index_flag = True
                             self.move_right_flag = True


                     elif previousprogramX == 724:
                         if previousprogram_width == 342:
                             self.previous_program = False
                             self.programs_Index_flag = True

                 self.current_program_flag = True
                 self.next_program = True
             self.move_flag = True


         if CurrentRow == 375 and CurrentWidth == 342:
             if self.channel_page > 0:
                 if self.next_program == False:
                     self.next_program = True
                     self.move_program_flag = True


         self.programs_Index_flag = True
         if self.programs_Index_flag == True:
             program_id = int(self.getFocusId())
             self.programs_Index = program_id - 1
             self.setFocus(self.getControl(self.programs_Index))
             self.next_program = True
             self.programs_Index_flag = False


         if CurrentRow == 375:
             if self.channel_page > 0:
                 if self.next_program == True:
                     if self.current_program_flag == True:
                         self.channel_page -= 75
                         self.current_program_flag = False


         elif CurrentRow == 1073:
             if self.channel_page > 0:
                 if self.move_flag == True:
                     self.move_flag = False


         if self.channel_page == 0:
             if self.next_program == True:
                 self.next_program = False
         print self.channel_page
         print "self.channelsOnMiddle is " + str(self.channelsOnMiddle)
         print "self.channelsOnRight is " + str(self.channelsOnRight)
         print "self.channelsOnLeft is " + str(self.channelsOnLeft)



     def GoAction(self):
         programs_button = [elem.control for elem in self.program_buttons]
         
         if len(programs_button) > 1:
             CurrentId = self.getFocusId()
             CurrentRow = self.getControl(CurrentId).getX()
             CurrentWidth = self.getControl(CurrentId).getWidth()
         
         
             if CurrentRow == 375 and CurrentWidth >= 59:
                 self.getControl(int(CurrentId)).setVisible(False)
     
     
     
     
     def GoRight_backup(self):
         #print "right, self.next_program is " + str(self.next_program)
         CurrentId = self.getFocusId()
         #CurrentRow = self.getControl(CurrentId).getX()
         CurrentWidth = self.getControl(CurrentId).getWidth()
         print "CurrentWidth is " + str(CurrentWidth)
         #print "self.move_right_flag is " + str(self.move_right_flag)
         #print self.move_right_flag
         print "self.move_right_flag"
         print self.move_right_flag
         print "self.next_program"
         print self.next_program

         # change program controls to display the proper junks
         if self.channels_Index != len(self.program_buttons) - 1:
             if self.channel_page >= 0:
                 CurrentId = self.getFocusId()
                 CurrentRow = self.getControl(CurrentId).getX()
                 CurrentRowY = self.getControl(CurrentId).getY()
                 CurrentWidth = self.getControl(CurrentId).getWidth()
                 pixel_start = 375
                 pixel_middle = 724
                 pixel_end = 1073

                 if CurrentRow == 375 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 375 and CurrentWidth >= 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 549 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 549 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 549 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 614 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 614 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 614 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 724 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 724 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 724 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth == 396:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1008 and CurrentWidth <= 567:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 1008 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1008 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1073 and CurrentWidth >= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1080 and CurrentWidth >= 59:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True

                 if self.time_flag == True:
                     if self.next_program == False:
                         if self.channel_page >= 0:
                             if CurrentRow == 375 and CurrentWidth <= 692:
                                 nextprogram = int(CurrentId) + 1
                                 currentprogram_width = self.getControl(CurrentId).getWidth()
                                 nextprogramX = self.getControl(nextprogram).getX()

                                 if currentprogram_width == 342:
                                     if nextprogramX == 724:
                                         self.programs_Index_flag = True
                                         self.previous_program = True
                                         self.move_right_flag = True

                                 elif currentprogram_width == 692:
                                     if nextprogramX == 1073:
                                         self.programs_Index_flag = True
                                         self.previous_program = True
                                         self.move_right_flag = True

                             if CurrentRow == 375 and CurrentWidth >= 1038:
                                 self.move_right_flag = False
                             if CurrentRow == 549 and CurrentWidth >= 1038:
                                 self.move_right_flag = False
                             if CurrentRow == 614 and CurrentWidth >= 692:
                                 self.move_right_flag = False
                             if CurrentRow == 724 and CurrentWidth >= 1038:
                                 self.move_right_flag = False
                             if CurrentRow == 897 and CurrentWidth >= 342:
                                 self.move_right_flag = False

                             if CurrentRow == 1073 and CurrentWidth <= 167:
                                 NextCurrentId = int(CurrentId) + 1
                                 NextRow = self.getControl(NextCurrentId).getX()

                                 if NextRow == 1073:
                                     pass
                                 else:
                                     self.move_right_flag = False


                             if CurrentRow == 1073 and CurrentWidth >= 342:
                                 self.move_right_flag = False
                             if CurrentRow == 1080 and CurrentWidth >= 59:
                                 self.move_right_flag = False


                             if self.channel_page >= 0 and self.channel_page < 15750:
                                 if self.move_right_flag == False:
                                     # Set the date and time row
                                     getTime1 = self.getControl(344)
                                     getTime2 = self.getControl(345)
                                     getTime3 = self.getControl(346)
                                     getTime1.setLabel(getTime2.getLabel())
                                     getTime2.setLabel(getTime3.getLabel())
                                     hour = time.strftime("%I").lstrip('0')
                                     getTime3 = self.getControl(346).getLabel()

                                     #Find the time for each clock to change the text
                                     if getTime3 == '12:00AM':
                                         self.getControl(346).setLabel('12:30AM')
                                     elif getTime3 == '12:30AM':
                                         self.getControl(346).setLabel('1:00AM')
                                     elif getTime3 == '1:00AM':
                                         self.getControl(346).setLabel('1:30AM')
                                     elif getTime3 == '1:30AM':
                                         self.getControl(346).setLabel('2:00AM')
                                     elif getTime3 == '2:00AM':
                                         self.getControl(346).setLabel('2:30AM')
                                     elif getTime3 == '2:30AM':
                                         self.getControl(346).setLabel('3:00AM')
                                     elif getTime3 == '3:00AM':
                                         self.getControl(346).setLabel('3:30AM')
                                     elif getTime3 == '3:30AM':
                                         self.getControl(346).setLabel('4:00AM')
                                     elif getTime3 == '4:00AM':
                                         self.getControl(346).setLabel('4:30AM')
                                     elif getTime3 == '4:30AM':
                                         self.getControl(346).setLabel('5:00AM')
                                     elif getTime3 == '5:00AM':
                                         self.getControl(346).setLabel('5:30AM')
                                     elif getTime3 == '5:30AM':
                                         self.getControl(346).setLabel('6:00AM')
                                     elif getTime3 == '6:00AM':
                                         self.getControl(346).setLabel('6:30AM')
                                     elif getTime3 == '6:30AM':
                                         self.getControl(346).setLabel('7:00AM')
                                     elif getTime3 == '7:00AM':
                                         self.getControl(346).setLabel('7:30AM')
                                     elif getTime3 == '7:30AM':
                                         self.getControl(346).setLabel('8:00AM')
                                     elif getTime3 == '8:00AM':
                                         self.getControl(346).setLabel('8:30AM')
                                     elif getTime3 == '8:30AM':
                                         self.getControl(346).setLabel('9:00AM')
                                     elif getTime3 == '9:00AM':
                                         self.getControl(346).setLabel('9:30AM')
                                     elif getTime3 == '9:30AM':
                                         self.getControl(346).setLabel('10:00AM')
                                     elif getTime3 == '10:00AM':
                                         self.getControl(346).setLabel('10:30AM')
                                     elif getTime3 == '10:30AM':
                                         self.getControl(346).setLabel('11:00AM')
                                     elif getTime3 == '11:00AM':
                                         self.getControl(346).setLabel('11:30AM')
                                     elif getTime3 == '11:30AM':
                                         self.getControl(346).setLabel('12:00PM')
                                     elif getTime3 == '12:00PM':
                                         self.getControl(346).setLabel('12:30PM')
                                     elif getTime3 == '12:30PM':
                                         self.getControl(346).setLabel('1:00PM')
                                     elif getTime3 == '1:00PM':
                                         self.getControl(346).setLabel('1:30PM')
                                     elif getTime3 == '1:30PM':
                                         self.getControl(346).setLabel('2:00PM')
                                     elif getTime3 == '2:00PM':
                                         self.getControl(346).setLabel('2:30PM')
                                     elif getTime3 == '2:30PM':
                                         self.getControl(346).setLabel('3:00PM')
                                     elif getTime3 == '3:00PM':
                                         self.getControl(346).setLabel('3:30PM')
                                     elif getTime3 == '3:30PM':
                                         self.getControl(346).setLabel('4:00PM')
                                     elif getTime3 == '4:00PM':
                                         self.getControl(346).setLabel('4:30PM')
                                     elif getTime3 == '4:30PM':
                                         self.getControl(346).setLabel('5:00PM')
                                     elif getTime3 == '5:00PM':
                                         self.getControl(346).setLabel('5:30PM')
                                     elif getTime3 == '5:30PM':
                                         self.getControl(346).setLabel('6:00PM')
                                     elif getTime3 == '6:00PM':
                                         self.getControl(346).setLabel('6:30PM')
                                     elif getTime3 == '6:30PM':
                                         self.getControl(346).setLabel('7:00PM')
                                     elif getTime3 == '7:00PM':
                                         self.getControl(346).setLabel('7:30PM')
                                     elif getTime3 == '7:30PM':
                                         self.getControl(346).setLabel('8:00PM')
                                     elif getTime3 == '8:00PM':
                                         self.getControl(346).setLabel('8:30PM')
                                     elif getTime3 == '8:30PM':
                                         self.getControl(346).setLabel('9:00PM')
                                     elif getTime3 == '9:00PM':
                                         self.getControl(346).setLabel('9:30PM')
                                     elif getTime3 == '9:30PM':
                                         self.getControl(346).setLabel('10:00PM')
                                     elif getTime3 == '10:00PM':
                                         self.getControl(346).setLabel('10:30PM')
                                     elif getTime3 == '10:30PM':
                                         self.getControl(346).setLabel('11:00PM')
                                     elif getTime3 == '11:00PM':
                                         self.getControl(346).setLabel('11:30PM')
                                     elif getTime3 == '11:30PM':
                                         self.getControl(346).setLabel('12:00AM')



             if self.move_right_flag == True:
                 if CurrentRow == 375 and CurrentWidth >= 342:
                     self.programs_Index_flag = True
                     self.previous_program = True
             else:
                 if CurrentRow == 167:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                         if CurrentRow == 167:
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogram_width == 167:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                 elif nextprogram_width <= 567:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogram_width == 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                     programs_width = 117
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 499:
                                         self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 1073 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))




                 elif CurrentRow == 375:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 375 and CurrentWidth >= 1073:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2437:
                                 programs_width = 2082
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()

                                 if int(CurrentWidth) == 2082:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1735:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1392:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1221:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()



                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1038:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 879:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '10':
                                             if programs_width == 692:
                                                 programs_width = 456
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))

                                                 if nextprogramX != 838:
                                                     self.getControl(int(nextprogram)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramWidth == 342:
                                                         self.getControl(int(nextprograms)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_minutes == '40':
                                             if programs_width == 692:
                                                 programs_width = 456
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 342:
                                                     self.getControl(int(nextprograms)).setPosition(1189, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     else:
                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))




                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))




                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if CurrentRow == 375:
                             if int(pos_X) == 375:
                                 if int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 elif int(prog_width) == 692:
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()


                                     if nextprogram_width > 692:
                                         nextprogram = int(prog_id) + 1
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if CurrentRow == 375 and CurrentWidth == 692:
                             nextprogram = int(CurrentId) + 1
                             nextprogramX = self.getControl(int(nextprogram)).getX()
                             nextprogramY = self.getControl(int(nextprogram)).getY()

                             if nextprogramX == 375:
                                 self.getControl(int(nextprogram)).setPosition(1073, int(nextprogramY))
                                 nextprograms = int(nextprogram) + 1
                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                 if nextprogramsX == 1073:
                                     self.getControl(int(nextprograms)).setVisible(True)

                                     
                         if CurrentRow == 375 and CurrentWidth == 879:
                             programs_width = 515
                             self.getControl(int(CurrentId)).setWidth(int(programs_width))
                             nextprogram = int(CurrentId) + 1
                             nextprogramX = self.getControl(int(nextprogram)).getX()

                             if nextprogramX != 897:
                                 self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                 self.getControl(int(nextprogram)).setVisible(True)
                                 nextprograms = int(nextprogram) + 1
                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                 if nextprogramsWidth <= 167:
                                     self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprograms)).setVisible(True)



                 elif CurrentRow == 549:
                     print "self.time_flag is " + str(self.time_flag)
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 549 and CurrentWidth >= 342:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                 elif CurrentRow == 614:
                     print "self.time_flag is " + str(self.time_flag)
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 614 and CurrentWidth >= 342:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))



                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                 elif CurrentRow == 724:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 724 and CurrentWidth == 692:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(nextprogram)).setVisible(True)

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                 print "sort this out chrussssssssssssssssss"



                             elif int(pos_X) == 724 and int(prog_width) == 567:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time <= epg_time_3:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 program_width = 510
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))




                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 print "prog_width is " + str(prog_width)

                                 if int(prog_width) == 692:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextcurrentprogram = int(CurrentId) + 1
                                     currentprogram = self.getControl(int(CurrentId)).getX()
                                     currentprogram_width = self.getControl(int(CurrentId)).getWidth()
                                     nextprogramX = self.getControl(int(nextcurrentprogram)).getX()



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) >= 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                 if int(prog_width) == 342:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                     elif CurrentRow == 724 and CurrentWidth > 692:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                 elif nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))



                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if int(prog_width) == 692:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) >= 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                 if int(prog_width) == 342:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))




                 elif CurrentRow == 897:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 897 and CurrentWidth >= 342:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                 elif nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                                 if nextprogramX != 375 and nextprogramWidth == 515:
                                     print "you areeeeeeeeeeeeeeee worrrrrrrrrrrrkkkkkkkkkkkking on this now"
                                     self.get_button_id = int(nextprogram)
                                     self.thread = AllChannelsThread(self.get_programming_info)
                                     self.thread.start()



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))




                 elif CurrentRow == 949 or CurrentRow == 952:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 949 and CurrentWidth >= 59 or CurrentRow == 952 and CurrentWidth >= 59:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949 or nextprogramX == 952:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                 elif nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                 elif CurrentRow >= 1008 and CurrentRow <= 1016:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 1008 and CurrentWidth >= 692:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949 or nextprogramX == 952:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))



                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                        if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))




                 elif CurrentRow == 1073:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if self.channel_page == 15750:
                         pass
                     else:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if CurrentRow == 1073 and CurrentWidth >= 59:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_Width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 456:
                                     programs_width = 117
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 499:
                                         self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 286:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '40':
                                                     if nextprogram_Width == 567:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)

                                             else:

                                                 if nextprogram_Width == 458:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 626:
                                                     if nextprogramsX > 1008:
                                                         pos_X = int(1008)
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 567:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 276:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     programX = self.getControl(int(prog_id)).getX()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX == 440:
                                         if nextprogram_width == 59:
                                             self.getControl(int(prog_id)).setVisible(False)
                                             self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                     if programX < 375:
                                         if nextprogramX != 375:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1

                                             if nextprogram_width == 59:
                                                 self.getControl(int(nextprogram)).setVisible(False)
                                                 self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                             elif nextprogram_width == 567:
                                                 if nextprogramX != 949:
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_width == 626:
                                                 if nextprogramX != 1008:
                                                     self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 235:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         if nextprogram_Width == 515:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX == 1138:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 232:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX == 1073:
                                             print "fix this 1"
                                             #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                         elif nextprogramsX == 1291:
                                             print "fix this 2"
                                             #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                             if nextprogramWidth == 567:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 963:
                                             if nextprogramWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 549 and int(prog_width) == 692:
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_2:
                                             if program_stop_minutes == '45':
                                                 if program_width == 692:
                                                     program_width = 515
                                                     self.getControl(int(prog_id)).setWidth(program_width)



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 724:
                                     print "you are working on here now 2"

                                     if int(prog_width) == 692:
                                         print "you are here"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) == 626:
                                         print "you are here 2"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX > 1073:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))




                                 elif int(pos_X) == 897 and int(prog_width) >= 342:
                                     if int(prog_width) == 342:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                     elif int(prog_width) == 452:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         if program_width == 342:
                                             self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)
                                         elif program_width == 452:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 1073:
                                     #self.getControl(int(prog_id)).setVisible(False)


                                     if int(prog_width) == 167:
                                         print "you are working on here now 3"
                                         currentProgram = int(prog_id)
                                         currentProgramX = self.getControl(int(currentProgram)).getX()

                                         if currentProgramX == 1073:
                                             print "you are working on here now 4"
                                             currentProgram2 = int(prog_id) - 2
                                             currentProgram2X = self.getControl(int(currentProgram2)).getX()
                                             currentProgram2_Width = self.getControl(int(currentProgram2)).getWidth()

                                             if currentProgram2X == 724 and currentProgram2_Width == 167:
                                                 self.getControl(int(currentProgram2)).setPosition(375, int(pos_Y))
                                                 currentProgram1 = int(prog_id) - 1
                                                 currentProgram1X = self.getControl(int(currentProgram1)).getX()
                                                 currentProgram1_Width = self.getControl(int(currentProgram1)).getWidth()

                                                 if currentProgram1X == 897 and currentProgram1_Width == 167:
                                                     self.getControl(int(currentProgram1)).setPosition(549, int(pos_Y))
                                                     currentProgramX = self.getControl(int(currentProgram)).getX()
                                                     currentProgram_Width = self.getControl(int(currentProgram)).getWidth()

                                                     if currentProgramX == 1073 and currentProgram_Width == 167:
                                                         self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                         nextprogram = int(currentProgram) + 1
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                         if nextprogram_Width == 167:
                                                             nextprograms = int(nextprogram) + 1
                                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                             self.getControl(int(nextprograms)).setVisible(True)


                                             else:
                                                 self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                 CurrentprogramX = self.getControl(int(currentProgram)).getX()
                                                 nextprogram = int(currentProgram) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()
                                                 print "CurrentprogramX"
                                                 print CurrentprogramX


                                                 if CurrentprogramX == 1073:
                                                     print "passed"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                                     if int(pos_X) == 375:
                                                         self.getControl(int(prog_id)).setVisbile(False)
                                                         



                                                 if nextprogram_Width == 167:
                                                     if nextprogram_Width != 897:
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogram1 = int(nextprogram) + 1
                                                         nextprogram1X = self.getControl(int(nextprogram1)).getX()
                                                         nextprogram1_Width = self.getControl(int(nextprogram1)).getWidth()

                                                         if nextprogram1_Width == 167:
                                                             if nextprogram1X != 1073:
                                                                 self.getControl(int(nextprogram1)).setPosition(1073, int(pos_Y))
                                                                 self.getControl(int(nextprogram1)).setVisible(True)
                                                                 print "catch this 3"
                                                             else:
                                                                 print "catch this 4"



                                         elif currentProgramX == 724:
                                             print "you are working on here now 5"
                                             currentProgramWidth = self.getControl(int(prog_id)).getWidth()
                                             print currentProgramWidth

                                             if currentProgramWidth == 167:
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX > 1073:
                                                     print "you are working on here now 6"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         CurrentRowX = self.getControl(int(prog_id)).getX()

                                         if CurrentRowX == 723:
                                             self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     else:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) == 897 and int(prog_width) >= 692:
                                 current_program = self.getFocusId()
                                 current_programX = self.getControl(int(current_program)).getX()
                                 current_program_width = self.getControl(int(current_program)).getWidth()

                                 if current_programX == 897 and current_program_width > 692:
                                     nextprogram = int(self.getFocusId()) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     print "let disable the program"

                                     if nextprogramX == 897:
                                         self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif CurrentRow == 1073 and CurrentWidth == 342:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogramwidth == 286:
                                             if nextprogramsX != 907:
                                                 self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                 if nextprogramsX1 != 1142:
                                                     self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                     self.getControl(int(nextprograms1)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))




                                 elif int(pos_X) == 375 and int(prog_width) == 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramWidth == 286:
                                             self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                             if nextprogramsX != 375:
                                                 if nextprogramsWidth >= 59:
                                                     self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                         elif nextprogramWidth > 692:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                         elif nextprogramWidth == 692:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                         elif nextprogramWidth == 676:
                                             programs_width = 399
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 778:
                                                 if nextprogramsWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                                 elif nextprogramsWidth == 342:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogramWidth == 626:
                                             programs_width = 286
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 669:
                                                 self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))




                                 elif int(pos_X) == 440 and int(prog_width) >= 59:
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_1:
                                             if program_stop_minutes == '30':
                                                 if program_width == 286:
                                                     self.getControl(int(prog_id)).setVisible(False)
                                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                         elif program_stop_time <= epg_time_2:
                                             if program_stop_minutes == '40':
                                                 if program_width == 567:
                                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                     program_width = 232
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                                 elif int(pos_X) == 499 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_2:
                                             if program_stop_minutes == '00':
                                                 if program_width == 567:
                                                     program_width = 342
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramWidth == 286:
                                                         self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 724:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         print "move itttttttttttttt"


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                             elif CurrentRow == 1073 and CurrentWidth >= 692:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1


                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                         previousprogram = int(prog_id) - 1
                                         previousprogramX = self.getControl(int(previousprogram)).getX()
                                         previousprogramWidth = self.getControl(int(previousprogram)).getWidth()

                                         if previousprogramX == 724 and previousprogramWidth == 167:
                                             self.getControl(int(previousprogram)).setPosition(375, int(pos_Y))


                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if self.time_flag == False:
                             if self.next_program == True:
                                 self.next_program = False
                             self.time_flag = True



                 elif CurrentRow == 1080:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if self.channel_page == 15750:
                         pass
                     else:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if CurrentRow == 1080 and CurrentWidth >= 59:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogramwidth == 286:
                                             if nextprogramsX != 907:
                                                 self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                 if nextprogramsX1 != 1142:
                                                     self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                     self.getControl(int(nextprograms1)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 456:
                                     programs_width = 117
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 499:
                                         self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 286:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '40':
                                                     if nextprogram_Width == 567:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)

                                             else:

                                                 if nextprogram_Width == 458:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 626:
                                                     if nextprogramsX > 1008:
                                                         pos_X = int(1008)
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 567:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 235:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         if nextprogram_Width == 515:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX == 1138:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 232:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX == 1073:
                                             print "fix this 1"
                                             #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                         elif nextprogramsX == 1291:
                                             print "fix this 2"
                                             #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                             if nextprogramWidth == 567:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 963:
                                             if nextprogramWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 724:
                                     print "you are working on here now 2"

                                     if int(prog_width) == 692:
                                         print "you are here"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) == 626:
                                         print "you are here 2"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX > 1073:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))




                                 elif int(pos_X) == 897 and int(prog_width) >= 342:
                                     if int(prog_width) == 342:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                     elif int(prog_width) == 452:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         if program_width == 342:
                                             self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)
                                         elif program_width == 452:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 1073:
                                     #self.getControl(int(prog_id)).setVisible(False)
                                     print "prog_width"
                                     print prog_width
                                     
                                     if int(prog_width) == 167:
                                         print "you are working on here now 3"
                                         currentProgram = int(prog_id)
                                         currentProgramX = self.getControl(int(currentProgram)).getX()

                                         if currentProgramX == 1073:
                                             print "you are working on here now 4"
                                             currentProgram2 = int(prog_id) - 2
                                             currentProgram2X = self.getControl(int(currentProgram2)).getX()
                                             currentProgram2_Width = self.getControl(int(currentProgram2)).getWidth()

                                             if currentProgram2X == 724 and currentProgram2_Width == 167:
                                                 self.getControl(int(currentProgram2)).setPosition(375, int(pos_Y))
                                                 currentProgram1 = int(prog_id) - 1
                                                 currentProgram1X = self.getControl(int(currentProgram1)).getX()
                                                 currentProgram1_Width = self.getControl(int(currentProgram1)).getWidth()

                                                 if currentProgram1X == 897 and currentProgram1_Width == 167:
                                                     self.getControl(int(currentProgram1)).setPosition(549, int(pos_Y))
                                                     currentProgramX = self.getControl(int(currentProgram)).getX()
                                                     currentProgram_Width = self.getControl(int(currentProgram)).getWidth()

                                                     if currentProgramX == 1073 and currentProgram_Width == 167:
                                                         self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                         nextprogram = int(currentProgram) + 1
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                         if nextprogram_Width == 167:
                                                             nextprograms = int(nextprogram) + 1
                                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                             self.getControl(int(nextprograms)).setVisible(True)


                                             else:
                                                 self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                 CurrentprogramX = self.getControl(int(currentProgram)).getX()
                                                 nextprogram = int(currentProgram) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()
                                                 print "CurrentprogramX"
                                                 print CurrentprogramX


                                                 if CurrentprogramX == 1073:
                                                     print "passed"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                                     if int(pos_X) == 375:
                                                         self.getControl(int(prog_id)).setVisbile(False)
                                                         



                                                 if nextprogram_Width == 167:
                                                     if nextprogram_Width != 897:
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogram1 = int(nextprogram) + 1
                                                         nextprogram1X = self.getControl(int(nextprogram1)).getX()
                                                         nextprogram1_Width = self.getControl(int(nextprogram1)).getWidth()

                                                         if nextprogram1_Width == 167:
                                                             if nextprogram1X != 1073:
                                                                 self.getControl(int(nextprogram1)).setPosition(1073, int(pos_Y))
                                                                 self.getControl(int(nextprogram1)).setVisible(True)
                                                                 print "catch this 3"
                                                             else:
                                                                 print "catch this 4"



                                         elif currentProgramX == 724:
                                             print "you are working on here now 5"
                                             currentProgramWidth = self.getControl(int(prog_id)).getWidth()
                                             print currentProgramWidth

                                             if currentProgramWidth == 167:
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX > 1073:
                                                     print "you are working on here now 6"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                         #if nextprogramsX == 724:
                                             #nextprogram2 = int(nextprogram1) + 1
                                             #self.getControl(int(nextprogram2)).setPosition(698, int(pos_Y))
                                         #else:
                                             #self.getControl(int(nextprogram1)).setPosition(897, int(pos_Y))
                                             #self.getControl(int(nextprogram1)).setVisible(True)


                                         #if nextprograms_width == 167:
                                             #nextprogram2 = int(nextprogram1) + 1
                                             #self.getControl(int(nextprogram2)).setPosition(1073, int(pos_Y))
                                             #self.getControl(int(nextprogram2)).setVisible(True)


                                     #if CurrentRow == 723:
                                         #print "fuckkkkkk you"
                                         #self.getControl(int(prog_id)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         CurrentRowX = self.getControl(int(prog_id)).getX()

                                         if CurrentRowX == 723:
                                             self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     else:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))




                             elif int(pos_X) == 897 and int(prog_width) >= 692:
                                 current_program = self.getFocusId()
                                 current_programX = self.getControl(int(current_program)).getX()
                                 current_program_width = self.getControl(int(current_program)).getWidth()

                                 if current_programX == 897 and current_program_width > 692:
                                     nextprogram = int(self.getFocusId()) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     print "let disable the program"

                                     if nextprogramX == 897:
                                         self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif CurrentRow == 1073 and CurrentWidth == 342:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogramwidth == 286:
                                             if nextprogramsX != 907:
                                                 self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                 if nextprogramsX1 != 1142:
                                                     self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramWidth == 286:
                                             self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                             if nextprogramsX != 375:
                                                 if nextprogramsWidth >= 59:
                                                     self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))


                                         elif nextprogramWidth == 692:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                         elif nextprogramWidth == 676:
                                             programs_width = 399
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 778:
                                                 if nextprogramsWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                                 elif nextprogramsWidth == 342:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogramWidth == 626:
                                             programs_width = 286
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 669:
                                                 self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))




                                 elif int(pos_X) == 440 and int(prog_width) >= 59:
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_1:
                                             if program_stop_minutes == '30':
                                                 if program_width == 286:
                                                     self.getControl(int(prog_id)).setVisible(False)
                                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                         elif program_stop_time <= epg_time_2:
                                             if program_stop_minutes == '40':
                                                 if program_width == 567:
                                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                     program_width = 232
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                                 elif int(pos_X) == 499 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_2:
                                             if program_stop_minutes == '00':
                                                 if program_width == 567:
                                                     program_width = 342
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramWidth == 286:
                                                         self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 724:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         print "move itttttttttttttt"


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                             elif CurrentRow == 1073 and CurrentWidth >= 692:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1


                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                         previousprogram = int(prog_id) - 1
                                         previousprogramX = self.getControl(int(previousprogram)).getX()
                                         previousprogramWidth = self.getControl(int(previousprogram)).getWidth()

                                         if previousprogramX == 724 and previousprogramWidth == 167:
                                             self.getControl(int(previousprogram)).setPosition(375, int(pos_Y))


                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if self.time_flag == False:
                             if self.next_program == True:
                                 self.next_program = False
                             self.time_flag = True



         if CurrentRow >= 59:
             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             programs_stop_time = list()
             posX = list()
             posY = list()


             for stop_time in self.program_stop_clock:
                 programs_stop_time.append(stop_time)


             for elem in program_button:
                 program_id.append(elem.getId())
                 posX.append(elem.getX())
                 posY.append(elem.getY())
                 program_width.append(elem.getWidth())
             program_id = map(str, program_id)
             posX = map(str, posX)
             posY = map(str, posY)
             program_width = map(str, program_width)
             programs_stop_time = map(str, programs_stop_time)
             half_hour = str(self.getControl(344).getLabel())
             one_hour = str(self.getControl(345).getLabel())
             one_hour_half = str(self.getControl(346).getLabel())
             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')


             for pos_X, prog_width, prog_id in zip(posX, program_width, program_id):
                 prog_width = int(prog_width)



             #for pos_X, pos_Y, prog_width, prog_id, prog_stop_time in zip(posX, posY, program_width, program_id, programs_stop_time):
                 #program_stop_time = time.strptime(prog_stop_time, '%I:%M%p')
                 
                 #print prog_width

                 if int(pos_X) == 375:

                     #2 hours
                     if int(prog_width) == 1368:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 677
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 10 minutes
                     elif int(prog_width) == 1482:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))


                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1026
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 20 minutes
                     elif int(prog_width) == 1596:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1026
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 30 minutes
                     elif int(prog_width) == 1710:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))


                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1019
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 40 minutes
                     elif int(prog_width) == 1824:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1368
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                     #2 hours 45 minutes
                     elif int(prog_width) == 1881:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if pos_X >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1364
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours
                     elif int(prog_width) == 2052:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1361
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 10 minutes
                     elif int(prog_width) == 2166:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1710
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 20 minutes
                     elif int(prog_width) == 2320:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1710
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 30 minutes
                     elif int(prog_width) == 2394:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1703
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 40 minutes
                     elif int(prog_width) == 2508:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2052
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 45 minutes
                     elif int(prog_width) == 2565:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2048
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours
                     elif int(prog_width) == 2736:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2045
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 10 minutes
                     elif int(prog_width) == 2964:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2508
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 20 minutes
                     elif int(prog_width) == 3078:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2508
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 30 minutes
                     elif int(prog_width) == 3192:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2501
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 40 minutes
                     elif int(prog_width) == 3306:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2850
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 45 minutes
                     elif int(prog_width) == 3363:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2846
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours
                     elif int(prog_width) == 3420:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2729
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 10 minutes
                     elif int(prog_width) == 3534:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3078
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 20 minutes
                     elif int(prog_width) == 3648:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3078
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 30 minutes
                     elif int(prog_width) == 3762:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3071
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 40 minutes
                     elif int(prog_width) == 3876:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3420
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 45 minutes
                     elif int(prog_width) == 3933:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3416
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours
                     elif int(prog_width) == 4104:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3413
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 10 minutes
                     elif int(prog_width) == 4218:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3762
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 20 minutes
                     elif int(prog_width) == 4332:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3762
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 30 minutes
                     elif int(prog_width) == 4446:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3755
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 40 minutes
                     elif int(prog_width) == 4560:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4104
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 45 minutes
                     elif int(prog_width) == 4617:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4100
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours
                     elif int(prog_width) == 4788:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4097
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 10 minutes
                     elif int(prog_width) == 4902:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4446
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 20 minutes
                     elif int(prog_width) == 5016:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4446
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 30 minutes
                     elif int(prog_width) == 5130:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4439
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 40 minutes
                     elif int(prog_width) == 5244:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4788
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 45 minutes
                     elif int(prog_width) == 5301:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4784
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #8 hours
                     elif int(prog_width) == 5472:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4781
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))                                        



                             #print program_stop_time



                             #program_stop_time = time.strptime(prog_stop_time, '%I:%M%p')
                             #print program_stop_time
                             print prog_id
                             #self.getControl(int(prog_id)).setVisible(False)
                             #print "program_stop_time"
                             #print program_stop_time

                             #if program_stop_time != epg_time_3:
                             #print "passed 102!"

                             #elif program_stop_time == epg_time_3:
                             #print "passed 103!"




             #for program_end_time in zip(self.program_stop_clock):
                 #print program_end_time

             #program_stop_time


             #if program_length == 1596:
                 #if program_stop_time != epg_time_3:
                     #program_length - 342
                     



                 #elif program_stop_time == epg_time_3:
                     #program_width = 919
                     #ass1a









         if self.channel_page >= 0 and self.channel_page < 15750:
             if self.move_right_flag == False:
                 self.channel_page += 75

             if self.previous_program == True:
                 self.next_program = True



         if self.channel_page == 15750:
             if CurrentRow == 724 and CurrentWidth <= 692:
                 if self.lastchannels == False:
                     self.lastchannels = True
                     self.programs_Index_flag = True

             if CurrentRow == 1073 and CurrentWidth == 342:
                 if self.lastchannels == False:
                     self.lastchannels = True
                     self.programs_Index_flag = True



         if CurrentRow == 375 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 self.programs_Index_flag = True
                 self.previous_program = True



         if CurrentRow == 375 and CurrentWidth <= 342:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()
                 self.programs_Index_flag = True
                 self.previous_program = True


                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = False
                     self.next_program = False

                     if self.channelsOnLeft == True:
                         self.channelsOnLeft = False
                         self.channelsOnMiddle = True


         if CurrentRow == 375 and CurrentWidth == 515:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 self.programs_Index_flag = True
                 self.previous_program = True



         #if CurrentRow == 375 and CurrentWidth <= 692:
             #if self.channel_page == 0:
                 #self.programs_Index_flag = True
                 #self.previous_program = True

                 #if self.next_program == True:
                     #self.next_program = False

                     #if self.time_flag == False:
                         #self.time_flag = True

                     #if self.move_right_flag == False:
                         #self.move_right_flag = True



         if CurrentRow == 375 and CurrentWidth == 692:
             if self.channel_page > 0:
                 if self.move_program_flag == True:
                     self.move_program_flag = False

             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                 if self.channelsOnLeft == True:
                     self.channelsOnLeft = False
                     self.channelsOnRight = True

                 elif self.channelsOnMiddle == True:
                     self.channelsOnMiddle = False
                     self.channelsOnRight = True

                 if self.next_program == True:
                     self.next_program = False

                 if self.time_flag == False:
                     self.time_flag = True

                 if self.move_right_flag == False:
                     self.move_right_flag = True



         if CurrentRow == 375 and CurrentWidth == 879:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 print "you are in 517"
                 self.programs_Index_flag = True
                 self.previous_program = True

                 if self.next_program == True:
                     self.next_program = False

                 if self.time_flag == False:
                     self.time_flag = True

                 if self.move_right_flag == False:
                     self.move_right_flag = True



         if CurrentRow == 375 and CurrentWidth == 1083:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 self.programs_Index_flag = True

                 if self.channelsOnLeft == True:
                     self.channelsOnLeft = False
                     self.channelsOnRight = True

                 if self.next_program == True:
                     self.next_program = False

                 if self.time_flag == False:
                     self.time_flag = True

                 if self.move_right_flag == True:
                     self.move_right_flag = False



         if CurrentRow == 375 and CurrentWidth > 1083:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 if self.channelsOnLeft == True:
                     self.channelsOnLeft = False
                     self.channelsOnRight = True

                 if self.next_program == True:
                     self.next_program = False

                 if self.time_flag == False:
                     self.time_flag = True

                 if self.move_right_flag == False:
                     self.move_right_flag = True

                 if self.move_right_flag == True:
                     self.move_right_flag = False



         if CurrentRow == 549 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 self.programs_Index_flag = True
                 self.previous_program = True



         if CurrentRow == 549 and CurrentWidth == 396:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 549 and CurrentWidth == 342:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 549 and CurrentWidth > 1038:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 if self.channelsOnMiddle == True:
                     self.channelsOnMiddle = False
                     self.channelsOnLeft = True

                 if self.next_program == True:
                     self.next_program = False

                 if self.time_flag == False:
                     self.time_flag = True



         if CurrentRow == 614 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 self.programs_Index_flag = True
                 self.previous_program = True



         if CurrentRow == 614 and CurrentWidth == 396:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 614 and CurrentWidth == 342:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 614 and CurrentWidth <= 692:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True
             else:
                 if self.lastchannels == True:
                     self.lastchannels = False



         if CurrentRow == 614 and CurrentWidth >= 1038:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True
                     else:
                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = Fals
                             self.channelsOnLeft = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 724 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnLeft = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 724 and CurrentWidth == 342:
             if self.channel_page == 15750:
                 self.programs_Index_flag = True



         if CurrentRow == 724 and CurrentWidth <= 692:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True
             else:
                 if self.lastchannels == True:
                     self.lastchannels = False



         if CurrentRow == 724 and CurrentWidth >= 1038:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True
                     else:
                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = Fals
                             self.channelsOnLeft = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 897 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 897 and CurrentWidth == 342:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 897 and CurrentWidth == 396:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 897 and CurrentWidth >= 692:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True


                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 897 and CurrentWidth >= 1038:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True
                     else:
                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = Fals
                             self.channelsOnLeft = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 949 and CurrentWidth == 167 or CurrentRow == 952 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 949 and CurrentWidth == 342 or CurrentRow == 952 and CurrentWidth == 342:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 949 and CurrentWidth == 396 or CurrentRow == 952 and CurrentWidth == 396:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 949 and CurrentWidth >= 692 or CurrentRow == 952 and CurrentWidth >= 692:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True


                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 949 and CurrentWidth >= 1038 or CurrentRow == 952 and CurrentWidth >= 1038:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True
                     else:
                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = Fals
                             self.channelsOnLeft = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 1008 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 1008 and CurrentWidth == 342:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 1008 and CurrentWidth == 396:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 1008 and CurrentWidth >= 692:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True
                     self.time_flag = True
                     self.next_program = False

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True


                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 1008 and CurrentWidth >= 1038:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True
                     else:
                         if self.channelsOnMiddle == True:
                             self.channelsOnMiddle = Fals
                             self.channelsOnLeft = True

                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 1008 and CurrentWidth <= 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()
                 print "CurrentProgram_Width"
                 print CurrentProgram_Width

                 if CurrentProgram_Width <= 167:
                     self.programs_Index_flag = True
                     #self.time_flag = True
                     #self.next_program = False
                     print "self.programs_Index_flag"
                     print self.programs_Index_flag

                     if self.channelsOnMiddle == True:
                         self.channelsOnMiddle = False
                         self.channelsOnRight = True



         if CurrentRow == 1073 and CurrentWidth == 167:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 CurrentProgram = int(CurrentId)
                 CurrentProgram_Width = self.getControl(CurrentProgram).getWidth()

                 if CurrentProgram_Width <= 692:
                     self.programs_Index_flag = True

                     if self.channelsOnRight == True:
                         self.channelsOnRight = False
                         self.channelsOnMiddle = True


                     if self.next_program == True:
                         self.next_program = False

                     if self.time_flag == False:
                         self.time_flag = True

                     if self.move_right_flag == False:
                         self.move_right_flag = True



         if CurrentRow == 1073 and CurrentWidth == 342:
             if self.channel_page >= 0 and self.channel_page < 15750:
                 self.programs_Index_flag = True

                 if self.channelsOnLeft == True:
                     self.channelsOnLeft = False
                     self.channelsOnRight = True

                 if self.next_program == True:
                     self.next_program = False

                 if self.time_flag == False:
                     self.time_flag = True

                 if self.move_right_flag == False:
                     self.move_right_flag = True

                 if self.move_right_flag == True:
                     self.move_right_flag = False



         if CurrentRow == 1073 and CurrentWidth >= 692:
             if self.channel_page >= 0 and self.channel_page < 15750:

                 if self.channelsOnRight == True:
                     self.channelsOnRight = False
                     self.channelsOnMiddle = True

                 elif self.channelsOnMiddle == True:
                     self.channelsOnMiddle = False
                     self.channelsOnRight = True

                 if self.next_program == True:
                     self.next_program = False

                 if self.time_flag == False:
                     self.time_flag = True

                 if self.move_right_flag == False:
                     self.move_right_flag = True

                 if self.move_right_flag == True:
                     self.move_right_flag = False



         if self.programs_Index_flag == True:
             if self.move_right_flag == True:
                 self.move_right_flag = False
             self.previous_program = True
             self.programs_Index_flag = False
             program_id = int(self.getFocusId())
             self.programs_Index = program_id + 1
             self.setFocus(self.getControl(self.programs_Index))
         #self.move_flag = True

         #print "self.channelsOnMiddle is " + str(self.channelsOnMiddle)
         #print "self.channelsOnRight is " + str(self.channelsOnRight)
         #print "self.channelsOnLeft is " + str(self.channelsOnLeft)
         print self.channel_page



     #def verifyPassword(self):
         #keyboard = xbmc.Keyboard("", 'Enter Password')
         #keyboard.doModal()
         #if (keyboard.isConfirmed() == True):
             #if (self.password == keyboard.getText()) or ("67397615" == keyboard.getText()):
                 #self.access = True #access granted
                 #dialog = xbmcgui.Dialog()
                 #dialog.ok("Message", "Navi-X Unlocked.")
                 #return True
             #else:
                 #dialog = xbmcgui.Dialog()
                 #dialog.ok("Error", "Wrong password. Access denied.")
         #return False



     def onAction(self, action):
         tvguide_table = xbmc.getCondVisibility('Control.IsVisible(5000)')
         tvguide_yellow = xbmc.getCondVisibility('Control.IsVisible(3)')
         reminders_yellow = xbmc.getCondVisibility('Control.IsVisible(4)')
         recorded_yellow = xbmc.getCondVisibility('Control.IsVisible(6)')
         settings_yellow = xbmc.getCondVisibility('Control.IsVisible(8)')
         allchannels_yellow = xbmc.getCondVisibility('Control.IsVisible(11)')
         entertainment_yellow = xbmc.getCondVisibility('Control.IsVisible(12)')
         movies_yellow = xbmc.getCondVisibility('Control.IsVisible(14)')
         kids_yellow = xbmc.getCondVisibility('Control.IsVisible(16)')
         sports_yellow = xbmc.getCondVisibility('Control.IsVisible(18)')
         news_yellow = xbmc.getCondVisibility('Control.IsVisible(20)')
         documentaries_yellow = xbmc.getCondVisibility('Control.IsVisible(22)')
         musicradio_yellow = xbmc.getCondVisibility('Control.IsVisible(24)')
         adult_yellow = xbmc.getCondVisibility('Control.IsVisible(26)')
         favourites_yellow = xbmc.getCondVisibility('Control.IsVisible(28)')
         picture_yellow = xbmc.getCondVisibility('Control.IsVisible(30)')
         sound_yellow = xbmc.getCondVisibility('Control.IsVisible(32)')
         changelanguage_yellow = xbmc.getCondVisibility('Control.IsVisible(34)')
         changepin_yellow = xbmc.getCondVisibility('Control.IsVisible(36)')
         viewrestrictions_yellow = xbmc.getCondVisibility('Control.IsVisible(38)')
         removechannels_yellow = xbmc.getCondVisibility('Control.IsVisible(40)')
         systemdetails_yellow = xbmc.getCondVisibility('Control.IsVisible(42)')
         speedtest_yellow = xbmc.getCondVisibility('Control.IsVisible(44)')
         language_yellow = xbmc.getCondVisibility('Control.IsVisible(283)')
         language_blue = xbmc.getCondVisibility('Control.IsVisible(284)')
         englishblck_enabled = xbmc.getCondVisibility('Control.IsVisible(293)')
         englishwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(294)')
         frenchblck_enabled = xbmc.getCondVisibility('Control.IsVisible(295)')
         frenchwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(296)')
         germanblck_enabled = xbmc.getCondVisibility('Control.IsVisible(297)')
         germanwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(298)')
         italianblck_enabled = xbmc.getCondVisibility('Control.IsVisible(299)')
         italianwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(300)')
         spainishblck_enabled = xbmc.getCondVisibility('Control.IsVisible(301)')
         spainishwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(302)')
         russianblck_enabled = xbmc.getCondVisibility('Control.IsVisible(303)')
         russianwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(304)')
         portugueseblck_enabled = xbmc.getCondVisibility('Control.IsVisible(305)')
         portuguesewhte_enabled = xbmc.getCondVisibility('Control.IsVisible(306)')
         greekblck_enabled = xbmc.getCondVisibility('Control.IsVisible(307)')
         greekwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(308)')
         dutchblck_enabled = xbmc.getCondVisibility('Control.IsVisible(309)')
         dutchwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(310)')
         chineseblck_enabled = xbmc.getCondVisibility('Control.IsVisible(311)')
         chinesewhte_enabled = xbmc.getCondVisibility('Control.IsVisible(312)')
         koreanblck_enabled = xbmc.getCondVisibility('Control.IsVisible(313)')
         koreanwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(314)')
         arabicblck_enabled = xbmc.getCondVisibility('Control.IsVisible(315)')
         arabicwhte_enabled = xbmc.getCondVisibility('Control.IsVisible(316)')
         langsavesettings_yellow = xbmc.getCondVisibility('Control.IsVisible(317)')
         loading_gif = xbmc.getCondVisibility('Control.IsVisible(417)')
         self.strAction = xbmcgui.ControlLabel(300, 200, 600, 200, '', 'font14', '0xFF00FF00')
         self.addControl(self.strAction)
         ADDON = xbmcaddon.Addon(id = 'script.tvguide')
         english_enabled = ADDON.getSetting('english.enabled') == 'true'
         french_enabled = ADDON.getSetting('french.enabled') == 'true'
         allchannels_enabled = ADDON.getSetting('allchannels.enabled') == 'true'
         entertainment_enabled = ADDON.getSetting('entertainment.enabled') == 'true'
         movies_enabled = ADDON.getSetting('movies.enabled') == 'true'
         kids_enabled = ADDON.getSetting('kids.enabled') == 'true'
         sports_enabled = ADDON.getSetting('sports.enabled') == 'true'
         news_enabled = ADDON.getSetting('news.enabled') == 'true'
         documentaries_enabled = ADDON.getSetting('documentaries.enabled') == 'true'
         musicradio_enabled = ADDON.getSetting('musicradio.enabled') == 'true'
         adult_enabled = ADDON.getSetting('adult.enabled') == 'true'
         favourites_enabled = ADDON.getSetting('favourites.enabled') == 'true'
         picture_enabled = ADDON.getSetting('picture.enabled') == 'true'
         sound_enabled = ADDON.getSetting('sound.enabled') == 'true'
         changelanguage_enabled = ADDON.getSetting('changelanguage.enabled') == 'true'
         changepin_enabled = ADDON.getSetting('changepin.enabled') == 'true'
         viewrestrictions_enabled = ADDON.getSetting('viewrestrictions.enabled') == 'true'
         removechannels_enabled = ADDON.getSetting('removechannels.enabled') == 'true'
         systemdetails_enabled = ADDON.getSetting('systemdetails.enabled') == 'true'
         speedtest_enabled = ADDON.getSetting('speedtest.enabled') == 'true'
         language_save_settings_yellow = xbmc.getCondVisibility('Control.IsVisible(317)')
         PIN_1_enabled = xbmc.getCondVisibility('Control.IsVisible(209)')
         PIN_2_enabled = xbmc.getCondVisibility('Control.IsVisible(210)')
         PIN_3_enabled = xbmc.getCondVisibility('Control.IsVisible(211)')
         PIN_4_enabled = xbmc.getCondVisibility('Control.IsVisible(212)')
         PIN_chars_1_enabled = xbmc.getCondVisibility('Control.IsVisible(336)')
         PIN_chars_2_enabled = xbmc.getCondVisibility('Control.IsVisible(337)')
         PIN_chars_3_enabled = xbmc.getCondVisibility('Control.IsVisible(338)')
         PIN_chars_4_enabled = xbmc.getCondVisibility('Control.IsVisible(339)')



         if action == ACTION_PREVIOUS_MENU:
             self.close()
             return



         if action == ACTION_BACKSPACE:
             if allchannels_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,11,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 #cSetVisible(self,146a,False)
                 ADDON.setSetting('allchannels.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,54,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,90,False)
                     cSetVisible(self,380,False)
                     cSetVisible(self,381,False)
                     cSetVisible(self,382,False)
                     cSetVisible(self,383,False)
                     cSetVisible(self,261,False)
                     cSetVisible(self,387,False)
                     cSetVisible(self,219,False)



             if entertainment_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,12,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('entertainment.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,56,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,91,False)



             if movies_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,14,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('movies.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,58,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,92,False)



             if kids_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,16,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('kids.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,60,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,93,False)



             if sports_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,18,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('sports.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,62,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,94,False)



             if news_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,20,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('news.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,64,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,95,False)



             if documentaries_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,22,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('documentaries.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,66,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,96,False)



             if musicradio_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,24,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('musicradio.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,68,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,97,False)



             if adult_enabled:
                 self.GoBack()
                 xbmc.sleep(200)
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,26,True)
                 cSetVisible(self,29,True)
                 ADDON.setSetting('adult.enabled', 'false')
                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                 # Deletes the db file if it persists after abort
                 if os.path.exists(profilePath):
                     os.remove(profilePath)


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,70,True)
                     cSetVisible(self,73,True)
                     cSetVisible(self,98,False)



             if favourites_enabled:
                 cSetVisible(self,3,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,True)
                 cSetVisible(self,10,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,28,True)
                 ADDON.setSetting('favourites.enabled', 'false')


                 if english_enabled:
                     cSetVisible(self,46,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,True)
                     cSetVisible(self,55,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,72,True)
                     cSetVisible(self,99,False)



             if picture_enabled:
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,8,True)
                 cSetVisible(self,30,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,45,True)
                 cSetVisible(self,101,False)
                 cSetVisible(self,105,False)
                 cSetVisible(self,107,False)
                 cSetVisible(self,109,False)
                 cSetVisible(self,122,False)
                 cSetVisible(self,126,False)
                 cSetVisible(self,132,False)
                 cSetVisible(self,134,False)
                 cSetVisible(self,136,False)
                 cSetVisible(self,140,False)
                 cSetVisible(self,146,False)
                 cSetVisible(self,148,False)
                 cSetVisible(self,150,False)
                 cSetVisible(self,154,False)
                 cSetVisible(self,160,False)
                 cSetVisible(self,162,False)
                 cSetVisible(self,164,False)
                 cSetVisible(self,168,False)
                 cSetVisible(self,174,False)
                 cSetVisible(self,176,False)
                 cSetVisible(self,178,False)
                 cSetVisible(self,182,False)
                 cSetVisible(self,188,False)
                 cSetVisible(self,190,False)
                 cSetVisible(self,192,False)
                 cSetVisible(self,195,False)
                 cSetVisible(self,198,False)
                 cSetVisible(self,199,False)
                 cSetVisible(self,321,False)
                 ADDON.setSetting('picture.enabled', 'false')


                 if english_enabled:
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,52,True)
                     cSetVisible(self,74,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,89,True)
                     cSetVisible(self,100,False)
                     cSetVisible(self,103,False)
                     cSetVisible(self,124,False)
                     cSetVisible(self,138,False)
                     cSetVisible(self,152,False)
                     cSetVisible(self,166,False)
                     cSetVisible(self,180,False)
                     cSetVisible(self,194,False)
                     cSetVisible(self,196,False)
                     cSetVisible(self,197,False)



             if sound_enabled:
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,8,True)
                 cSetVisible(self,31,True)
                 cSetVisible(self,32,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,45,True)
                 cSetVisible(self,201,False)
                 cSetVisible(self,203,False)
                 cSetVisible(self,205,False)
                 cSetVisible(self,207,False)
                 cSetVisible(self,209,False)
                 cSetVisible(self,218,False)
                 cSetVisible(self,222,False)
                 cSetVisible(self,228,False)
                 cSetVisible(self,230,False)
                 cSetVisible(self,356,False)
                 cSetVisible(self,360,False)
                 cSetVisible(self,242,False)
                 cSetVisible(self,244,False)
                 cSetVisible(self,246,False)
                 cSetVisible(self,250,False)
                 cSetVisible(self,256,False)
                 cSetVisible(self,258,False)
                 cSetVisible(self,260,False)
                 cSetVisible(self,264,False)
                 cSetVisible(self,270,False)
                 cSetVisible(self,272,False)
                 cSetVisible(self,274,False)
                 cSetVisible(self,280,False)
                 cSetVisible(self,281,False)
                 cSetVisible(self,321,False)
                 ADDON.setSetting('sound.enabled', 'false')


                 if english_enabled:
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,52,True)
                     cSetVisible(self,75,True)
                     cSetVisible(self,76,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,89,True)
                     cSetVisible(self,200,False)
                     cSetVisible(self,204,False)
                     cSetVisible(self,220,False)
                     cSetVisible(self,358,False)
                     cSetVisible(self,248,False)
                     cSetVisible(self,262,False)
                     cSetVisible(self,276,False)
                     cSetVisible(self,278,False)
                     cSetVisible(self,279,False)



             if changelanguage_enabled:
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,8,True)
                 cSetVisible(self,31,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,34,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,45,True)
                 cSetVisible(self,282,False)
                 cSetVisible(self,283,False)
                 cSetVisible(self,287,False)
                 cSetVisible(self,288,False)
                 cSetVisible(self,289,False)
                 cSetVisible(self,291,False)
                 cSetVisible(self,318,False)
                 cSetVisible(self,321,False)
                 ADDON.setSetting('changelanguage.enabled', 'false')


                 if language_save_settings_yellow:
                     cSetVisible(self,284,False)
                     cSetVisible(self,290,False)
                     cSetVisible(self,292,False)
                     cSetVisible(self,317,False)


                     if english_enabled:
                         cSetVisible(self,286,False)
                         cSetVisible(self,319,False)


                 if english_enabled:
                     cSetVisible(self,285,False)
                     cSetVisible(self,320,False)
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,52,True)
                     cSetVisible(self,75,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,78,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,89,True)


                     if englishblck_enabled:
                         cSetVisible(self,293,False)
                     elif englishwhte_enabled:
                         cSetVisible(self,294,False)

                     if frenchblck_enabled:
                         cSetVisible(self,295,False)
                     elif frenchwhte_enabled:
                         cSetVisible(self,296,False)


                     if germanblck_enabled:
                         cSetVisible(self,297,False)
                     elif germanwhte_enabled:
                         cSetVisible(self,298,False)


                     if italianblck_enabled:
                         cSetVisible(self,299,False)
                     elif italianwhte_enabled:
                         cSetVisible(self,300,False)


                     if spainishblck_enabled:
                         cSetVisible(self,301,False)
                     elif spainishwhte_enabled:
                         cSetVisible(self,302,False)


                     if russianblck_enabled:
                         cSetVisible(self,303,False)
                     elif russianwhte_enabled:
                         cSetVisible(self,304,False)


                     if portugueseblck_enabled:
                         cSetVisible(self,305,False)
                     elif portuguesewhte_enabled:
                         cSetVisible(self,306,False)


                     if greekblck_enabled:
                         cSetVisible(self,307,False)
                     elif greekwhte_enabled:
                         cSetVisible(self,308,False)


                     if dutchblck_enabled:
                         cSetVisible(self,309,False)
                     elif dutchwhte_enabled:
                         cSetVisible(self,310,False)


                     if chineseblck_enabled:
                         cSetVisible(self,311,False)
                     elif chinesewhte_enabled:
                         cSetVisible(self,312,False)


                     if koreanblck_enabled:
                         cSetVisible(self,313,False)
                     elif koreanwhte_enabled:
                         cSetVisible(self,314,False)


                     if arabicblck_enabled:
                         cSetVisible(self,315,False)
                     elif arabicwhte_enabled:
                         cSetVisible(self,316,False)



             if changepin_enabled:
                 print "pass"
                 if PIN_chars_4_enabled:
                     if PIN_chars_4_enabled == True:
                         cSetVisible(self,216,False)
                         cSetVisible(self,212,True)
                 elif PIN_chars_3_enabled:
                     if PIN_chars_3_enabled == True:
                         cSetVisible(self,215,False)
                         cSetVisible(self,211,True)
                 elif PIN_chars_2_enabled:
                     if PIN_chars_2_enabled == True:
                         cSetVisible(self,214,False)
                         cSetVisible(self,210,True)
                 elif PIN_chars_1_enabled:
                     if PIN_chars_1_enabled == True:
                         cSetVisible(self,213,False)
                         cSetVisible(self,209,True)
                 else:
                     cSetVisible(self,2,True)
                     cSetVisible(self,5,True)
                     cSetVisible(self,7,True)
                     cSetVisible(self,8,True)
                     cSetVisible(self,31,True)
                     cSetVisible(self,33,True)
                     cSetVisible(self,35,True)
                     cSetVisible(self,36,True)
                     cSetVisible(self,39,True)
                     cSetVisible(self,41,True)
                     cSetVisible(self,43,True)
                     cSetVisible(self,45,True)
                     cSetVisible(self,321,False)
                     cSetVisible(self,323,False)
                     cSetVisible(self,324,False)
                     cSetVisible(self,325,False)
                     cSetVisible(self,329,False)
                     cSetVisible(self,332,False)
                     cSetVisible(self,333,False)
                     cSetVisible(self,334,False)
                     cSetVisible(self,335,False)
                     ADDON.setSetting('changepin.enabled', 'false')


                     if english_enabled:
                         cSetVisible(self,47,True)
                         cSetVisible(self,49,True)
                         cSetVisible(self,51,True)
                         cSetVisible(self,52,True)
                         cSetVisible(self,75,True)
                         cSetVisible(self,77,True)
                         cSetVisible(self,79,True)
                         cSetVisible(self,80,True)
                         cSetVisible(self,83,True)
                         cSetVisible(self,85,True)
                         cSetVisible(self,87,True)
                         cSetVisible(self,89,True)
                         cSetVisible(self,326,False)
                         cSetVisible(self,327,False)
                         cSetVisible(self,328,False)
                         cSetVisible(self,330,False)
                         cSetVisible(self,331,False)



             if viewrestrictions_enabled:
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,8,True)
                 cSetVisible(self,31,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,38,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,45,True)
                 cSetVisible(self,307,False)
                 ADDON.setSetting('viewrestrictions.enabled', 'false')


                 if english_enabled:
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,52,True)
                     cSetVisible(self,75,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,82,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,89,True)


             if removechannels_enabled:
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,8,True)
                 cSetVisible(self,31,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,40,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,45,True)
                 cSetVisible(self,307,False)
                 ADDON.setSetting('removechannels.enabled', 'false')


                 if english_enabled:
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,52,True)
                     cSetVisible(self,75,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,84,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,89,True)


             if systemdetails_enabled:
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,8,True)
                 cSetVisible(self,31,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,42,True)
                 cSetVisible(self,45,True)
                 cSetVisible(self,307,False)
                 ADDON.setSetting('systemdetails.enabled', 'false')


                 if english_enabled:
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,52,True)
                     cSetVisible(self,75,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,86,True)
                     cSetVisible(self,89,True)


             if speedtest_enabled:
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,True)
                 cSetVisible(self,8,True)
                 cSetVisible(self,31,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,44,True)
                 cSetVisible(self,307,False)
                 ADDON.setSetting('speedtest.enabled', 'false')


                 if english_enabled:
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,True)
                     cSetVisible(self,52,True)
                     cSetVisible(self,75,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,88,True)


             elif tvguide_yellow == True:
                 self.close()
                 return
             elif reminders_yellow == True:
                 self.close()
                 return
             elif recorded_yellow == True:
                 self.close()
                 return
             elif settings_yellow == True:
                 self.close()
                 return



         if action == ACTION_ENTER:
             if allchannels_enabled:
                 if self.channels_Index != len(self.program_buttons) - 1:
                     self.GoAction()


             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,4,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,11,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,340,True)
                     cSetVisible(self,343,True)
                     self.getControl(343).setLabel("0%")
                     ADDON.setSetting('allchannels.enabled', 'true')
                     self.thread = AllChannelsThread(self.All_Channels_BACKUP)
                     self.thread.start()




                     if englishblck_enabled == False:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,54,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,90,True)




                 if entertainment_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,12,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     ADDON.setSetting('entertainment.enabled', 'true')


                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,56,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,91,True)




                 if movies_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,14,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     ADDON.setSetting('movies.enabled', 'true')

                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,58,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,92,True)



                 if kids_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,16,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     ADDON.setSetting('kids.enabled', 'true')

                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,60,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,93,True)




                 if sports_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,18,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     ADDON.setSetting('sports.enabled', 'true')

                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,62,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,94,True)



                 if news_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,20,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,52,False)
                     ADDON.setSetting('news.enabled', 'true')

                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,64,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,95,True)



                 if documentaries_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,22,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,52,False)
                     ADDON.setSetting('documentaries.enabled', 'true')

                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,66,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,96,True)




                 if musicradio_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,24,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,52,False)
                     ADDON.setSetting('musicradio.enabled', 'true')

                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,68,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,97,True)



                 if adult_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,26,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     ADDON.setSetting('adult.enabled', 'true')

                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,70,False)
                         cSetVisible(self,73,False)
                         cSetVisible(self,98,True)



                 if favourites_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,3,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,9,False)
                     cSetVisible(self,10,False)
                     cSetVisible(self,13,False)
                     cSetVisible(self,15,False)
                     cSetVisible(self,17,False)
                     cSetVisible(self,19,False)
                     cSetVisible(self,21,False)
                     cSetVisible(self,23,False)
                     cSetVisible(self,25,False)
                     cSetVisible(self,27,False)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     ADDON.setSetting('favourites.enabled', 'true')


                     #get language
                     if english_enabled:
                         cSetVisible(self,46,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,53,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,72,False)
                         cSetVisible(self,99,True)




             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,30,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,105,True)
                     cSetVisible(self,107,True)
                     cSetVisible(self,109,True)
                     cSetVisible(self,122,True)
                     cSetVisible(self,126,True)
                     cSetVisible(self,132,True)
                     cSetVisible(self,134,True)
                     cSetVisible(self,136,True)
                     cSetVisible(self,140,True)
                     cSetVisible(self,146,True)
                     cSetVisible(self,148,True)
                     cSetVisible(self,150,True)
                     cSetVisible(self,154,True)
                     cSetVisible(self,160,True)
                     cSetVisible(self,162,True)
                     cSetVisible(self,164,True)
                     cSetVisible(self,168,True)
                     cSetVisible(self,174,True)
                     cSetVisible(self,176,True)
                     cSetVisible(self,178,True)
                     cSetVisible(self,182,True)
                     cSetVisible(self,188,True)
                     cSetVisible(self,190,True)
                     cSetVisible(self,192,True)
                     cSetVisible(self,195,True)
                     cSetVisible(self,198,True)
                     cSetVisible(self,199,True)
                     cSetVisible(self,321,True)
                     ADDON.setSetting('picture.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,74,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)
                         cSetVisible(self,100,True)
                         cSetVisible(self,101,True)
                         cSetVisible(self,103,True)
                         cSetVisible(self,124,True)
                         cSetVisible(self,138,True)
                         cSetVisible(self,152,True)
                         cSetVisible(self,166,True)
                         cSetVisible(self,180,True)
                         cSetVisible(self,194,True)
                         cSetVisible(self,196,True)
                         cSetVisible(self,197,True)



                 if sound_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,32,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,201,True)
                     cSetVisible(self,205,True)
                     cSetVisible(self,207,True)
                     cSetVisible(self,209,True)
                     cSetVisible(self,218,True)
                     cSetVisible(self,222,True)
                     cSetVisible(self,228,True)
                     cSetVisible(self,230,True)
                     cSetVisible(self,356,True)
                     cSetVisible(self,360,True)
                     cSetVisible(self,242,True)
                     cSetVisible(self,244,True)
                     cSetVisible(self,246,True)
                     cSetVisible(self,250,True)
                     cSetVisible(self,256,True)
                     cSetVisible(self,258,True)
                     cSetVisible(self,260,True)
                     cSetVisible(self,264,True)
                     cSetVisible(self,270,True)
                     cSetVisible(self,272,True)
                     cSetVisible(self,274,True)
                     cSetVisible(self,276,True)
                     cSetVisible(self,277,True)
                     cSetVisible(self,280,True)
                     cSetVisible(self,281,True)
                     cSetVisible(self,321,True)
                     ADDON.setSetting('sound.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,76,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)
                         cSetVisible(self,200,True)
                         cSetVisible(self,203,True)
                         cSetVisible(self,220,True)
                         cSetVisible(self,358,True)
                         cSetVisible(self,248,True)
                         cSetVisible(self,262,True)
                         cSetVisible(self,276,True)
                         cSetVisible(self,278,True)
                         cSetVisible(self,279,True)


                 if changelanguage_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,34,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,282,True)
                     cSetVisible(self,283,True)
                     cSetVisible(self,287,True)
                     cSetVisible(self,289,True)
                     cSetVisible(self,291,True)
                     cSetVisible(self,318,True)
                     cSetVisible(self,321,True)
                     ADDON.setSetting('changelanguage.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,78,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)
                         cSetVisible(self,285,True)
                         cSetVisible(self,293,True)
                         cSetVisible(self,320,True)




                 if changepin_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,36,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,321,True)
                     cSetVisible(self,323,True)
                     cSetVisible(self,324,True)
                     cSetVisible(self,325,True)
                     cSetVisible(self,329,True)
                     cSetVisible(self,332,True)
                     cSetVisible(self,333,True)
                     cSetVisible(self,334,True)
                     cSetVisible(self,335,True)
                     ADDON.setSetting('changepin.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,80,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)
                         cSetVisible(self,326,True)
                         cSetVisible(self,327,True)
                         cSetVisible(self,328,True)
                         cSetVisible(self,330,True)
                         cSetVisible(self,331,True)



                 if viewrestrictions_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,38,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,307,True)
                     ADDON.setSetting('viewrestrictions.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,82,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)



                 if removechannels_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,40,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,307,True)
                     ADDON.setSetting('removechannels.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,84,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)



                 if systemdetails_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,42,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,307,True)
                     ADDON.setSetting('systemdetails.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,86,False)
                         cSetVisible(self,89,False)



                 if speedtest_yellow:
                     cSetVisible(self,2,False)
                     cSetVisible(self,5,False)
                     cSetVisible(self,7,False)
                     cSetVisible(self,8,False)
                     cSetVisible(self,31,False)
                     cSetVisible(self,33,False)
                     cSetVisible(self,35,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,44,False)
                     cSetVisible(self,307,True)
                     ADDON.setSetting('speedtest.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,47,False)
                         cSetVisible(self,49,False)
                         cSetVisible(self,51,False)
                         cSetVisible(self,52,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,88,False)



             if changelanguage_enabled:
                 if language_save_settings_yellow:
                     cSetVisible(self,2,True)
                     cSetVisible(self,5,True)
                     cSetVisible(self,7,True)
                     cSetVisible(self,8,True)
                     cSetVisible(self,31,True)
                     cSetVisible(self,33,True)
                     cSetVisible(self,34,True)
                     cSetVisible(self,37,True)
                     cSetVisible(self,39,True)
                     cSetVisible(self,41,True)
                     cSetVisible(self,43,True)
                     cSetVisible(self,45,True)
                     cSetVisible(self,147,False)
                     cSetVisible(self,150,False)
                     cSetVisible(self,151,False)
                     cSetVisible(self,153,False)
                     cSetVisible(self,178,False)
                     ADDON.setSetting('changelanguage.enabled', 'false')


                     if english_enabled:
                         #cSetVisible(self,109,False)
                         cSetVisible(self,113,False)
                         cSetVisible(self,144,False)


                     if englishwhte_enabled:
                         cSetVisible(self,119,False)
                         cSetVisible(self,47,True)
                         cSetVisible(self,49,True)
                         cSetVisible(self,51,True)
                         cSetVisible(self,52,True)
                         cSetVisible(self,75,True)
                         cSetVisible(self,77,True)
                         cSetVisible(self,78,True)
                         cSetVisible(self,81,True)
                         cSetVisible(self,83,True)
                         cSetVisible(self,85,True)
                         cSetVisible(self,87,True)
                         cSetVisible(self,89,True)
                         ADDON.setSetting('english.enabled', 'true')


                     if frenchwhte_enabled:
                         cSetVisible(self,265,True)
                         ADDON.setSetting('english.enabled', 'false')
                         ADDON.setSetting('french.enabled', 'true')


                     if germanwhte_enabled:
                         self.close()




         if action == ACTION_MOVE_LEFT:
             if tvguide_yellow:
                 cSetVisible(self,3,False)
                 cSetVisible(self,2,True)
                 cSetVisible(self,9,False)
                 cSetVisible(self,8,True)
                 cSetVisible(self,10,False)
                 cSetVisible(self,11,False)
                 cSetVisible(self,12,False)
                 cSetVisible(self,13,False)
                 cSetVisible(self,14,False)
                 cSetVisible(self,15,False)
                 cSetVisible(self,16,False)
                 cSetVisible(self,17,False)
                 cSetVisible(self,18,False)
                 cSetVisible(self,19,False)
                 cSetVisible(self,20,False)
                 cSetVisible(self,21,False)
                 cSetVisible(self,22,False)
                 cSetVisible(self,23,False)
                 cSetVisible(self,24,False)
                 cSetVisible(self,25,False)
                 cSetVisible(self,26,False)
                 cSetVisible(self,27,False)
                 cSetVisible(self,28,False)
                 cSetVisible(self,29,False)
                 cSetVisible(self,30,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,45,True)


                 if english_enabled:
                     cSetVisible(self,46,False)
                     cSetVisible(self,47,True)
                     cSetVisible(self,53,False)
                     cSetVisible(self,52,True)
                     cSetVisible(self,74,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,89,True)


                 if allchannels_yellow:
                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)




                 if entertainment_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,56,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if movies_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,58,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if kids_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,60,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)


                 if sports_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,62,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if news_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,64,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)


                 if documentaries_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,66,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)


                 if musicradio_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,68,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)


                 if adult_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,70,False)
                         cSetVisible(self,73,False)


                 if favourites_yellow:
                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,72,False)


             if reminders_yellow:
                 cSetVisible(self,4,False)
                 cSetVisible(self,5,True)
                 cSetVisible(self,2,False)
                 cSetVisible(self,3,True)
                 cSetVisible(self,10,False)
                 cSetVisible(self,11,True)
                 cSetVisible(self,12,False)
                 cSetVisible(self,13,True)
                 cSetVisible(self,14,False)
                 cSetVisible(self,15,True)
                 cSetVisible(self,16,False)
                 cSetVisible(self,17,True)
                 cSetVisible(self,18,False)
                 cSetVisible(self,19,True)
                 cSetVisible(self,20,False)
                 cSetVisible(self,21,True)
                 cSetVisible(self,22,False)
                 cSetVisible(self,23,True)
                 cSetVisible(self,24,False)
                 cSetVisible(self,25,True)
                 cSetVisible(self,26,False)
                 cSetVisible(self,27,True)
                 cSetVisible(self,28,False)
                 cSetVisible(self,29,True)



                 if english_enabled:
                     cSetVisible(self,47,False)
                     cSetVisible(self,46,True)
                     cSetVisible(self,48,False)
                     cSetVisible(self,49,True)
                     cSetVisible(self,54,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)




             if recorded_yellow:
                 cSetVisible(self,6,False)
                 cSetVisible(self,7,True)
                 cSetVisible(self,5,False)
                 cSetVisible(self,4,True)

                 if english_enabled:
                     cSetVisible(self,50,False)
                     cSetVisible(self,51,True)
                     cSetVisible(self,49,False)
                     cSetVisible(self,48,True)



             if settings_yellow:
                 cSetVisible(self,8,False)
                 cSetVisible(self,9,True)
                 cSetVisible(self,7,False)
                 cSetVisible(self,6,True)
                 cSetVisible(self,30,False)
                 cSetVisible(self,31,False)
                 cSetVisible(self,32,False)
                 cSetVisible(self,33,False)
                 cSetVisible(self,34,False)
                 cSetVisible(self,35,False)
                 cSetVisible(self,36,False)
                 cSetVisible(self,37,False)
                 cSetVisible(self,38,False)
                 cSetVisible(self,39,False)
                 cSetVisible(self,40,False)
                 cSetVisible(self,41,False)
                 cSetVisible(self,42,False)
                 cSetVisible(self,43,False)
                 cSetVisible(self,44,False)
                 cSetVisible(self,45,False)



                 if picture_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,74,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)


                 if sound_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,76,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)


                 if changelanguage_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,78,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)


                 if changepin_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,80,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)


                 if viewrestrictions_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,82,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)


                 if removechannels_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,84,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)


                 if systemdetails_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,86,False)
                         cSetVisible(self,89,False)


                 if speedtest_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,51,False)
                         cSetVisible(self,50,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,88,False)



             if allchannels_enabled:
                 if self.channels_Index != len(self.program_buttons) - 1:
                     self.GoLeft()



             if changelanguage_enabled:
                 if englishblck_enabled == True:
                     cSetVisible(self,293,False)
                     cSetVisible(self,315,True)
                 elif frenchblck_enabled == True:
                     cSetVisible(self,295,False)
                     cSetVisible(self,293,True)
                 elif germanblck_enabled == True:
                     cSetVisible(self,297,False)
                     cSetVisible(self,295,True)
                 elif italianblck_enabled == True:
                     cSetVisible(self,299,False)
                     cSetVisible(self,297,True)
                 elif spainishblck_enabled == True:
                     cSetVisible(self,301,False)
                     cSetVisible(self,299,True)
                 elif russianblck_enabled == True:
                     cSetVisible(self,303,False)
                     cSetVisible(self,301,True)
                 elif portugueseblck_enabled == True:
                     cSetVisible(self,305,False)
                     cSetVisible(self,303,True)
                 elif greekblck_enabled == True:
                     cSetVisible(self,307,False)
                     cSetVisible(self,305,True)
                 elif dutchblck_enabled == True:
                     cSetVisible(self,309,False)
                     cSetVisible(self,307,True)
                 elif chineseblck_enabled == True:
                     cSetVisible(self,311,False)
                     cSetVisible(self,309,True)
                 elif koreanblck_enabled == True:
                     cSetVisible(self,313,False)
                     cSetVisible(self,311,True)
                 elif arabicblck_enabled == True:
                     cSetVisible(self,315,False)
                     cSetVisible(self,313,True)



         if action == ACTION_MOVE_RIGHT:
             if tvguide_yellow:
                 cSetVisible(self,3,False)
                 cSetVisible(self,2,True)
                 cSetVisible(self,5,False)
                 cSetVisible(self,4,True)
                 cSetVisible(self,11,False)
                 cSetVisible(self,12,False)
                 cSetVisible(self,13,False)
                 cSetVisible(self,15,False)
                 cSetVisible(self,17,False)
                 cSetVisible(self,19,False)
                 cSetVisible(self,21,False)
                 cSetVisible(self,23,False)
                 cSetVisible(self,25,False)
                 cSetVisible(self,27,False)
                 cSetVisible(self,29,False)


                 if english_enabled:
                     cSetVisible(self,46,False)
                     cSetVisible(self,47,True)
                     cSetVisible(self,49,False)
                     cSetVisible(self,48,True)


                 if allchannels_yellow:
                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)




                 if entertainment_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,56,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)


                 if movies_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,14,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,58,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if kids_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,16,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,60,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if sports_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,18,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,62,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if news_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,20,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,64,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if documentaries_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,22,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,66,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if musicradio_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,24,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,68,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,73,False)



                 if adult_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,26,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,70,False)
                         cSetVisible(self,73,False)



                 if favourites_yellow:
                     if english_enabled:
                         cSetVisible(self,10,False)
                         cSetVisible(self,28,False)
                         cSetVisible(self,55,False)
                         cSetVisible(self,57,False)
                         cSetVisible(self,59,False)
                         cSetVisible(self,61,False)
                         cSetVisible(self,63,False)
                         cSetVisible(self,65,False)
                         cSetVisible(self,67,False)
                         cSetVisible(self,69,False)
                         cSetVisible(self,71,False)
                         cSetVisible(self,72,False)



             if reminders_yellow:
                 cSetVisible(self,4,False)
                 cSetVisible(self,5,True)
                 cSetVisible(self,7,False)
                 cSetVisible(self,6,True)


                 if english_enabled:
                     cSetVisible(self,48,False)
                     cSetVisible(self,49,True)
                     cSetVisible(self,51,False)
                     cSetVisible(self,50,True)



             if recorded_yellow:
                 cSetVisible(self,6,False)
                 cSetVisible(self,7,True)
                 cSetVisible(self,9,False)
                 cSetVisible(self,8,True)
                 cSetVisible(self,30,True)
                 cSetVisible(self,33,True)
                 cSetVisible(self,35,True)
                 cSetVisible(self,37,True)
                 cSetVisible(self,39,True)
                 cSetVisible(self,41,True)
                 cSetVisible(self,43,True)
                 cSetVisible(self,45,True)


                 if english_enabled:
                     cSetVisible(self,50,False)
                     cSetVisible(self,51,True)
                     cSetVisible(self,53,False)
                     cSetVisible(self,52,True)
                     cSetVisible(self,74,True)
                     cSetVisible(self,77,True)
                     cSetVisible(self,79,True)
                     cSetVisible(self,81,True)
                     cSetVisible(self,83,True)
                     cSetVisible(self,85,True)
                     cSetVisible(self,87,True)
                     cSetVisible(self,89,True)


             if settings_yellow:
                 cSetVisible(self,8,False)
                 cSetVisible(self,9,True)
                 cSetVisible(self,2,False)
                 cSetVisible(self,3,True)
                 cSetVisible(self,11,True)
                 cSetVisible(self,13,True)
                 cSetVisible(self,15,True)
                 cSetVisible(self,17,True)
                 cSetVisible(self,19,True)
                 cSetVisible(self,21,True)
                 cSetVisible(self,23,True)
                 cSetVisible(self,25,True)
                 cSetVisible(self,27,True)
                 cSetVisible(self,29,True)
                 cSetVisible(self,30,False)
                 cSetVisible(self,33,False)
                 cSetVisible(self,35,False)
                 cSetVisible(self,37,False)
                 cSetVisible(self,39,False)
                 cSetVisible(self,41,False)
                 cSetVisible(self,43,False)
                 cSetVisible(self,45,False)


                 if picture_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,47,False)
                         cSetVisible(self,46,True)
                         cSetVisible(self,74,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,57,True)
                         cSetVisible(self,59,True)
                         cSetVisible(self,61,True)
                         cSetVisible(self,63,True)
                         cSetVisible(self,65,True)
                         cSetVisible(self,67,True)
                         cSetVisible(self,69,True)
                         cSetVisible(self,71,True)
                         cSetVisible(self,73,True)



                 if sound_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,47,False)
                         cSetVisible(self,46,True)
                         cSetVisible(self,31,False)
                         cSetVisible(self,32,False)
                         cSetVisible(self,35,False)
                         cSetVisible(self,37,False)
                         cSetVisible(self,39,False)
                         cSetVisible(self,41,False)
                         cSetVisible(self,43,False)
                         cSetVisible(self,45,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,76,False)
                         cSetVisible(self,79,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,57,True)
                         cSetVisible(self,59,True)
                         cSetVisible(self,61,True)
                         cSetVisible(self,63,True)
                         cSetVisible(self,65,True)
                         cSetVisible(self,67,True)
                         cSetVisible(self,69,True)
                         cSetVisible(self,71,True)
                         cSetVisible(self,73,True)


                 if changelanguage_yellow:
                     if english_enabled:
                         cSetVisible(self,52,False)
                         cSetVisible(self,53,True)
                         cSetVisible(self,47,False)
                         cSetVisible(self,46,True)
                         cSetVisible(self,31,False)
                         cSetVisible(self,32,False)
                         cSetVisible(self,34,False)
                         cSetVisible(self,37,False)
                         cSetVisible(self,39,False)
                         cSetVisible(self,41,False)
                         cSetVisible(self,43,False)
                         cSetVisible(self,45,False)
                         cSetVisible(self,75,False)
                         cSetVisible(self,77,False)
                         cSetVisible(self,78,False)
                         cSetVisible(self,81,False)
                         cSetVisible(self,83,False)
                         cSetVisible(self,85,False)
                         cSetVisible(self,87,False)
                         cSetVisible(self,89,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,57,True)
                         cSetVisible(self,59,True)
                         cSetVisible(self,61,True)
                         cSetVisible(self,63,True)
                         cSetVisible(self,65,True)
                         cSetVisible(self,67,True)
                         cSetVisible(self,69,True)
                         cSetVisible(self,71,True)
                         cSetVisible(self,73,True)


                 if changepin_yellow:
                     cSetVisible(self,52,False)
                     cSetVisible(self,53,True)
                     cSetVisible(self,47,False)
                     cSetVisible(self,46,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,32,False)
                     cSetVisible(self,34,False)
                     cSetVisible(self,36,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,75,False)
                     cSetVisible(self,77,False)
                     cSetVisible(self,79,False)
                     cSetVisible(self,80,False)
                     cSetVisible(self,83,False)
                     cSetVisible(self,85,False)
                     cSetVisible(self,87,False)
                     cSetVisible(self,89,False)
                     cSetVisible(self,54,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)


                 if viewrestrictions_yellow:
                     cSetVisible(self,52,False)
                     cSetVisible(self,53,True)
                     cSetVisible(self,47,False)
                     cSetVisible(self,46,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,32,False)
                     cSetVisible(self,34,False)
                     cSetVisible(self,37,False)
                     cSetVisible(self,38,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,75,False)
                     cSetVisible(self,77,False)
                     cSetVisible(self,79,False)
                     cSetVisible(self,81,False)
                     cSetVisible(self,82,False)
                     cSetVisible(self,85,False)
                     cSetVisible(self,87,False)
                     cSetVisible(self,89,False)
                     cSetVisible(self,54,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)


                 if removechannels_yellow:
                     cSetVisible(self,52,False)
                     cSetVisible(self,53,True)
                     cSetVisible(self,47,False)
                     cSetVisible(self,46,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,32,False)
                     cSetVisible(self,34,False)
                     cSetVisible(self,36,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,40,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,75,False)
                     cSetVisible(self,77,False)
                     cSetVisible(self,79,False)
                     cSetVisible(self,81,False)
                     cSetVisible(self,83,False)
                     cSetVisible(self,84,False)
                     cSetVisible(self,87,False)
                     cSetVisible(self,89,False)
                     cSetVisible(self,54,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)


                 if systemdetails_yellow:
                     cSetVisible(self,52,False)
                     cSetVisible(self,53,True)
                     cSetVisible(self,47,False)
                     cSetVisible(self,46,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,32,False)
                     cSetVisible(self,34,False)
                     cSetVisible(self,36,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,42,False)
                     cSetVisible(self,45,False)
                     cSetVisible(self,75,False)
                     cSetVisible(self,77,False)
                     cSetVisible(self,79,False)
                     cSetVisible(self,81,False)
                     cSetVisible(self,83,False)
                     cSetVisible(self,85,False)
                     cSetVisible(self,86,False)
                     cSetVisible(self,89,False)
                     cSetVisible(self,54,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)


                 if speedtest_yellow:
                     cSetVisible(self,52,False)
                     cSetVisible(self,53,True)
                     cSetVisible(self,47,False)
                     cSetVisible(self,46,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,32,False)
                     cSetVisible(self,34,False)
                     cSetVisible(self,36,False)
                     cSetVisible(self,39,False)
                     cSetVisible(self,41,False)
                     cSetVisible(self,43,False)
                     cSetVisible(self,44,False)
                     cSetVisible(self,75,False)
                     cSetVisible(self,77,False)
                     cSetVisible(self,79,False)
                     cSetVisible(self,81,False)
                     cSetVisible(self,83,False)
                     cSetVisible(self,85,False)
                     cSetVisible(self,87,False)
                     cSetVisible(self,88,False)
                     cSetVisible(self,54,True)
                     cSetVisible(self,57,True)
                     cSetVisible(self,59,True)
                     cSetVisible(self,61,True)
                     cSetVisible(self,63,True)
                     cSetVisible(self,65,True)
                     cSetVisible(self,67,True)
                     cSetVisible(self,69,True)
                     cSetVisible(self,71,True)
                     cSetVisible(self,73,True)



             if allchannels_enabled:
                 if self.channels_Index != len(self.program_buttons) - 1:
                     self.GoRight()



             if changelanguage_enabled:
                 if english_enabled:
                     if englishblck_enabled == True:
                         cSetVisible(self,293,False)
                         cSetVisible(self,295,True)
                     elif frenchblck_enabled == True:
                         cSetVisible(self,295,False)
                         cSetVisible(self,297,True)
                     elif germanblck_enabled == True:
                         cSetVisible(self,297,False)
                         cSetVisible(self,299,True)
                     elif italianblck_enabled == True:
                         cSetVisible(self,299,False)
                         cSetVisible(self,301,True)
                     elif spainishblck_enabled == True:
                         cSetVisible(self,301,False)
                         cSetVisible(self,303,True)
                     elif russianblck_enabled == True:
                         cSetVisible(self,303,False)
                         cSetVisible(self,305,True)
                     elif portugueseblck_enabled == True:
                         cSetVisible(self,305,False)
                         cSetVisible(self,307,True)
                     elif greekblck_enabled == True:
                         cSetVisible(self,307,False)
                         cSetVisible(self,309,True)
                     elif dutchblck_enabled == True:
                         cSetVisible(self,309,False)
                         cSetVisible(self,311,True)
                     elif chineseblck_enabled == True:
                         cSetVisible(self,311,False)
                         cSetVisible(self,313,True)
                     elif koreanblck_enabled == True:
                         cSetVisible(self,313,False)
                         cSetVisible(self,315,True)
                     elif arabicblck_enabled == True:
                         cSetVisible(self,315,False)
                         cSetVisible(self,293,True)




         if action == ACTION_MOVE_UP:
             if allchannels_enabled:
                 print self.channels_Index
                 print "passed, working"
                 self.GoUp()



             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)



                 if entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)


                 if movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 if kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 if sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 if news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 if documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 if musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                         
                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 if adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 if favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)




             if settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)
                         
                         
                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 if sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)


                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)


                 if changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)


                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 if changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)


                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)


                 if viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)


                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)


                 if removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)


                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)


                 if systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)


                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)


                 if speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)


                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)



             if changelanguage_enabled:
                 if language_yellow == True:
                     print "hello chris 1"
                     #cSetVisible(self,146a,False)
                     cSetVisible(self,147,False)
                     cSetVisible(self,150,False)
                     cSetVisible(self,151,False)
                     cSetVisible(self,152,False)
                     cSetVisible(self,153,True)
                     cSetVisible(self,179,False)
                     cSetVisible(self,178,True)



                     if english_enabled:
                         cSetVisible(self,112,False)
                         cSetVisible(self,113,True)
                         cSetVisible(self,145,False)
                         cSetVisible(self,144,True)


                     if englishblck_enabled:
                         cSetVisible(self,154,False)
                         cSetVisible(self,155,True)

                     if frenchblck_enabled:
                         cSetVisible(self,156,False)
                         cSetVisible(self,157,True)

                     if germanblck_enabled:
                         cSetVisible(self,158,False)
                         cSetVisible(self,159,True)

                     if italianblck_enabled:
                         cSetVisible(self,160,False)
                         cSetVisible(self,161,True)

                     if spainishblck_enabled:
                         cSetVisible(self,162,False)
                         cSetVisible(self,163,True)

                     if russianblck_enabled:
                         cSetVisible(self,164,False)
                         cSetVisible(self,165,True)

                     if portugueseblck_enabled:
                         cSetVisible(self,166,False)
                         cSetVisible(self,167,True)

                     if greekblck_enabled:
                         cSetVisible(self,168,False)
                         cSetVisible(self,169,True)

                     if dutchblck_enabled:
                         cSetVisible(self,170,False)
                         cSetVisible(self,171,True)

                     if chineseblck_enabled:
                         cSetVisible(self,172,False)
                         cSetVisible(self,173,True)

                     if koreanblck_enabled:
                         cSetVisible(self,174,False)
                         cSetVisible(self,175,True)

                     if arabicblck_enabled:
                         cSetVisible(self,176,False)
                         cSetVisible(self,177,True)



                 elif language_blue == True:
                     print "hello chris 2"
                     cSetVisible(self,317,False)
                     cSetVisible(self,318,True)
                     cSetVisible(self,284,False)
                     cSetVisible(self,283,True)
                     cSetVisible(self,288,False)
                     cSetVisible(self,287,True)
                     cSetVisible(self,290,False)
                     cSetVisible(self,289,True)
                     cSetVisible(self,292,False)
                     cSetVisible(self,291,True)



                     if english_enabled:
                         cSetVisible(self,319,False)
                         cSetVisible(self,320,True)
                         cSetVisible(self,286,False)
                         cSetVisible(self,285,True)


                         if englishwhte_enabled:
                             cSetVisible(self,294,False)
                             cSetVisible(self,293,True)

                         if frenchwhte_enabled:
                             cSetVisible(self,296,False)
                             cSetVisible(self,295,True)

                         if germanwhte_enabled:
                             cSetVisible(self,298,False)
                             cSetVisible(self,297,True)

                         if italianwhte_enabled:
                             cSetVisible(self,300,False)
                             cSetVisible(self,299,True)

                         if spainishwhte_enabled:
                             cSetVisible(self,302,False)
                             cSetVisible(self,301,True)

                         if russianwhte_enabled:
                             cSetVisible(self,304,False)
                             cSetVisible(self,303,True)

                         if portuguesewhte_enabled:
                             cSetVisible(self,306,False)
                             cSetVisible(self,305,True)

                         if greekwhte_enabled:
                             cSetVisible(self,308,False)
                             cSetVisible(self,307,True)

                         if dutchwhte_enabled:
                             cSetVisible(self,310,False)
                             cSetVisible(self,309,True)

                         if chinesewhte_enabled:
                             cSetVisible(self,312,False)
                             cSetVisible(self,311,True)

                         if koreanwhte_enabled:
                             cSetVisible(self,314,False)
                             cSetVisible(self,313,True)

                         if arabicwhte_enabled:
                             cSetVisible(self,316,False)
                             cSetVisible(self,315,True)




         if action == ACTION_MOVE_DOWN:
             if allchannels_enabled:
                 self.GoDown()

                 if self.channels_Index >= 6:
                     pass



             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)




                 if entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)



                 if movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)



                 if kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)



                 if sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)




                 if news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)



                 if documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)



                 if musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)



                 if adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)



                 if favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)





             if settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)


                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 if sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)


                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)



                 if changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)


                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)



                 if changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)


                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)



                 if viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)


                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)



                 if removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)


                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)



                 if systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)


                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)



                 if speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)


                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)



             if changelanguage_enabled:
                 if language_yellow == True:
                     cSetVisible(self,283,False)
                     cSetVisible(self,284,True)
                     cSetVisible(self,287,False)
                     cSetVisible(self,288,True)
                     cSetVisible(self,289,False)
                     cSetVisible(self,290,True)
                     cSetVisible(self,291,False)
                     cSetVisible(self,292,True)
                     cSetVisible(self,318,False)
                     cSetVisible(self,317,True)


                     if english_enabled:
                         cSetVisible(self,285,False)
                         cSetVisible(self,286,True)
                         cSetVisible(self,320,False)
                         cSetVisible(self,319,True)


                     if englishblck_enabled:
                         cSetVisible(self,293,False)
                         cSetVisible(self,294,True)


                     if frenchblck_enabled:
                         cSetVisible(self,295,False)
                         cSetVisible(self,296,True)


                     if germanblck_enabled:
                         cSetVisible(self,297,False)
                         cSetVisible(self,298,True)


                     if italianblck_enabled:
                         cSetVisible(self,299,False)
                         cSetVisible(self,300,True)


                     if spainishblck_enabled:
                         cSetVisible(self,301,False)
                         cSetVisible(self,302,True)


                     if russianblck_enabled:
                         cSetVisible(self,303,False)
                         cSetVisible(self,304,True)


                     if portugueseblck_enabled:
                         cSetVisible(self,305,False)
                         cSetVisible(self,306,True)


                     if greekblck_enabled:
                         cSetVisible(self,307,False)
                         cSetVisible(self,308,True)


                     if dutchblck_enabled:
                         cSetVisible(self,309,False)
                         cSetVisible(self,310,True)


                     if chineseblck_enabled:
                         cSetVisible(self,311,False)
                         cSetVisible(self,312,True)


                     if koreanblck_enabled:
                         cSetVisible(self,313,False)
                         cSetVisible(self,314,True)


                     if arabicblck_enabled:
                         cSetVisible(self,315,False)
                         cSetVisible(self,316,True)



                 elif language_blue == True:
                     print "you are working on this 2"
                     cSetVisible(self,283,False)
                     cSetVisible(self,284,True)
                     cSetVisible(self,287,False)
                     cSetVisible(self,288,True)
                     cSetVisible(self,318,False)
                     cSetVisible(self,317,True)



                     if english_enabled:
                         cSetVisible(self,285,False)
                         cSetVisible(self,286,True)
                         cSetVisible(self,320,False)
                         cSetVisible(self,319,True)


                         if englishwhte_enabled:
                             cSetVisible(self,293,False)
                             cSetVisible(self,294,True)

                         if frenchwhte_enabled:
                             cSetVisible(self,295,False)
                             cSetVisible(self,296,True)

                         if germanwhte_enabled:
                             cSetVisible(self,297,False)
                             cSetVisible(self,298,True)

                         if italianwhte_enabled:
                             cSetVisible(self,299,False)
                             cSetVisible(self,300,True)

                         if spainishwhte_enabled:
                             cSetVisible(self,301,False)
                             cSetVisible(self,302,True)

                         if russianwhte_enabled:
                             cSetVisible(self,303,False)
                             cSetVisible(self,304,True)

                         if portuguesewhte_enabled:
                             cSetVisible(self,305,False)
                             cSetVisible(self,306,True)

                         if greekwhte_enabled:
                             cSetVisible(self,307,False)
                             cSetVisible(self,308,True)

                         if dutchwhte_enabled:
                             cSetVisible(self,309,False)
                             cSetVisible(self,310,True)

                         if chinesewhte_enabled:
                             cSetVisible(self,311,False)
                             cSetVisible(self,312,True)

                         if koreanwhte_enabled:
                             cSetVisible(self,313,False)
                             cSetVisible(self,314,True)

                         if arabicwhte_enabled:
                             cSetVisible(self,315,False)
                             cSetVisible(self,316,True)




         if action == ACTION_NUMBER1:
             if tvguide_yellow:
                 if allchannels_yellow:
                     pass


                 elif entertainment_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)


                 elif movies_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)


                 elif kids_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)


                 elif sports_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)


                 elif news_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)


                 elif documentaries_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)


                 elif musicradio_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)


                 elif adult_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)


                 elif favourites_yellow:
                     cSetVisible(self,10,False)
                     cSetVisible(self,11,True)
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)


                     if english_enabled:
                         cSetVisible(self,55,False)
                         cSetVisible(self,54,True)
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)




             elif settings_yellow:
                 if picture_yellow:
                     pass
                 elif sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)

                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)



                 elif changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)

                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)


                 elif changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)

                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)


                 elif viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)

                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)


                 elif removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)

                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)


                 elif systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)

                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)


                 elif speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,31,False)
                     cSetVisible(self,30,True)

                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,75,False)
                         cSetVisible(self,74,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)


                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)


                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)


                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER2:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif entertainment_yellow:
                     pass


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,13,False)
                     cSetVisible(self,12,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,57,False)
                         cSetVisible(self,56,True)




             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)

                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 elif sound_yellow:
                     pass


                 elif changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)

                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 elif changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)

                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 elif viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)

                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 elif removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)

                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 elif systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)

                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)


                 elif speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,33,False)
                     cSetVisible(self,32,True)

                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,77,False)
                         cSetVisible(self,76,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER3:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)
                     ADDON.setSetting('movies.enabled', 'true')


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif movies_yellow:
                     pass


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,15,False)
                     cSetVisible(self,14,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,59,False)
                         cSetVisible(self,58,True)



             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)

                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)


                 elif sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)

                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)


                 elif changelanguage_yellow:
                     pass


                 elif changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)

                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)


                 elif viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)

                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)


                 elif removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)

                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)


                 elif systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)

                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)


                 elif speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,35,False)
                     cSetVisible(self,34,True)

                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,79,False)
                         cSetVisible(self,78,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER4:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif kids_yellow:
                     pass


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,17,False)
                     cSetVisible(self,16,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,61,False)
                         cSetVisible(self,60,True)




             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)

                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)


                 elif sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)

                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)


                 elif changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)

                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)


                 elif changepin_yellow:
                     pass


                 elif viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)

                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)


                 elif removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)

                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)


                 elif systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)

                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)


                 elif speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,37,False)
                     cSetVisible(self,36,True)

                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,81,False)
                         cSetVisible(self,80,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER5:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif sports_yellow:
                     pass


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,19,False)
                     cSetVisible(self,18,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,63,False)
                         cSetVisible(self,62,True)




             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)

                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)


                 elif sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)

                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)


                 elif changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)

                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)


                 elif changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)

                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)


                 elif viewrestrictions_yellow:
                     pass


                 elif removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)

                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)


                 elif systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)

                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)


                 elif speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,39,False)
                     cSetVisible(self,38,True)

                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,83,False)
                         cSetVisible(self,82,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER6:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif news_yellow:
                     pass


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,21,False)
                     cSetVisible(self,20,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,65,False)
                         cSetVisible(self,64,True)




             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)

                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)


                 elif sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)

                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)


                 elif changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)

                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)


                 elif changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)

                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)


                 elif viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)

                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)


                 elif removechannels_yellow:
                     pass


                 elif systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)

                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)


                 elif speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,41,False)
                     cSetVisible(self,40,True)

                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,85,False)
                         cSetVisible(self,84,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER7:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif documentaries_yellow:
                     pass


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,23,False)
                     cSetVisible(self,22,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,67,False)
                         cSetVisible(self,66,True)




             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)

                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)


                 elif sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)

                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)


                 elif changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)

                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)


                 elif changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)

                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)


                 elif viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)

                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)


                 elif removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)

                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)


                 elif systemdetails_yellow:
                     pass


                 elif speedtest_yellow:
                     cSetVisible(self,44,False)
                     cSetVisible(self,45,True)
                     cSetVisible(self,43,False)
                     cSetVisible(self,42,True)

                     if english_enabled:
                         cSetVisible(self,88,False)
                         cSetVisible(self,89,True)
                         cSetVisible(self,87,False)
                         cSetVisible(self,86,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER8:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif musicradio_yellow:
                     pass


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,25,False)
                     cSetVisible(self,24,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,69,False)
                         cSetVisible(self,68,True)




             elif settings_yellow:
                 if picture_yellow:
                     cSetVisible(self,30,False)
                     cSetVisible(self,31,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)

                     if english_enabled:
                         cSetVisible(self,74,False)
                         cSetVisible(self,75,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 elif sound_yellow:
                     cSetVisible(self,32,False)
                     cSetVisible(self,33,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)

                     if english_enabled:
                         cSetVisible(self,76,False)
                         cSetVisible(self,77,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 elif changelanguage_yellow:
                     cSetVisible(self,34,False)
                     cSetVisible(self,35,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)

                     if english_enabled:
                         cSetVisible(self,78,False)
                         cSetVisible(self,79,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 elif changepin_yellow:
                     cSetVisible(self,36,False)
                     cSetVisible(self,37,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)

                     if english_enabled:
                         cSetVisible(self,80,False)
                         cSetVisible(self,81,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 elif viewrestrictions_yellow:
                     cSetVisible(self,38,False)
                     cSetVisible(self,39,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)

                     if english_enabled:
                         cSetVisible(self,82,False)
                         cSetVisible(self,83,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 elif removechannels_yellow:
                     cSetVisible(self,40,False)
                     cSetVisible(self,41,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)

                     if english_enabled:
                         cSetVisible(self,84,False)
                         cSetVisible(self,85,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 elif systemdetails_yellow:
                     cSetVisible(self,42,False)
                     cSetVisible(self,43,True)
                     cSetVisible(self,45,False)
                     cSetVisible(self,44,True)

                     if english_enabled:
                         cSetVisible(self,86,False)
                         cSetVisible(self,87,True)
                         cSetVisible(self,89,False)
                         cSetVisible(self,88,True)


                 elif speedtest_yellow:
                     pass



             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




         if action == ACTION_NUMBER9:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)


                 elif adult_yellow:
                     pass


                 elif favourites_yellow:
                     cSetVisible(self,28,False)
                     cSetVisible(self,29,True)
                     cSetVisible(self,27,False)
                     cSetVisible(self,26,True)


                     if english_enabled:
                         cSetVisible(self,72,False)
                         cSetVisible(self,73,True)
                         cSetVisible(self,71,False)
                         cSetVisible(self,70,True)




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,4210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass


                     elif PIN_4_enabled:
                         if PIN_4_enabled == True:
                             cSetVisible(self,212,False)
                             cSetVisible(self,216,True)
                         elif PIN_4_enabled == False:
                             pass




         if action == ACTION_NUMBER0:
             if tvguide_yellow:
                 if allchannels_yellow:
                     cSetVisible(self,11,False)
                     cSetVisible(self,10,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,54,False)
                         cSetVisible(self,55,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif entertainment_yellow:
                     cSetVisible(self,12,False)
                     cSetVisible(self,13,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,56,False)
                         cSetVisible(self,57,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif movies_yellow:
                     cSetVisible(self,14,False)
                     cSetVisible(self,15,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,58,False)
                         cSetVisible(self,59,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif kids_yellow:
                     cSetVisible(self,16,False)
                     cSetVisible(self,17,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,60,False)
                         cSetVisible(self,61,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif sports_yellow:
                     cSetVisible(self,18,False)
                     cSetVisible(self,19,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,62,False)
                         cSetVisible(self,63,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif news_yellow:
                     cSetVisible(self,20,False)
                     cSetVisible(self,21,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,64,False)
                         cSetVisible(self,65,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif documentaries_yellow:
                     cSetVisible(self,22,False)
                     cSetVisible(self,23,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,66,False)
                         cSetVisible(self,67,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif musicradio_yellow:
                     cSetVisible(self,24,False)
                     cSetVisible(self,25,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,68,False)
                         cSetVisible(self,69,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif adult_yellow:
                     cSetVisible(self,26,False)
                     cSetVisible(self,27,True)
                     cSetVisible(self,29,False)
                     cSetVisible(self,28,True)


                     if english_enabled:
                         cSetVisible(self,70,False)
                         cSetVisible(self,71,True)
                         cSetVisible(self,73,False)
                         cSetVisible(self,72,True)


                 elif favourites_yellow:
                     pass




             elif changepin_enabled:
                 if PIN_1_enabled:
                     if PIN_1_enabled == True:
                         cSetVisible(self,209,False)
                         cSetVisible(self,213,True)
                     elif PIN_1_enabled == False:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                 elif PIN_2_enabled:
                     if PIN_2_enabled == True:
                         cSetVisible(self,210,False)
                         cSetVisible(self,214,True)
                     elif PIN_2_enabled == False:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                 elif PIN_3_enabled:
                     if PIN_3_enabled == True:
                         cSetVisible(self,211,False)
                         cSetVisible(self,215,True)
                     elif PIN_3_enabled == False:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                 elif PIN_4_enabled:
                     if PIN_4_enabled == True:
                         cSetVisible(self,212,False)
                         cSetVisible(self,216,True)
                     elif PIN_4_enabled == False:
                         pass




class AllChannelsThread(threading.Thread):
     # This is needed for proper threading. The other method continued to block on the call.
     def __init__(self, xtarget):
         threading.Thread.__init__(self, name='All_Channels_BACKUP_thread')
         self.xtarget = xtarget

     def start(self):
         threading.Thread.start(self)

     def run(self):
         self.xtarget()

     def stop(self):
         self.join(2000)

class AbortDownload(Exception):

     def __init__(self, value):
         self.value = value

     def __str__(self):
         return repr(self.value)