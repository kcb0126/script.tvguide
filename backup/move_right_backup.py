     def GoRight(self):


         # change program controls to display the proper junks
         if self.channels_Index != len(self.program_buttons) - 1:
             if self.channel_page >= 0:
                 CurrentId = self.getFocusId()
                 CurrentRow = self.getControl(CurrentId).getX()
                 CurrentRowY = self.getControl(CurrentId).getY()
                 CurrentWidth = self.getControl(CurrentId).getWidth()
                 pixel_start = 375
                 pixel_middle = 724
                 pixel_end = 1073

                 if CurrentRow == 375 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 375 and CurrentWidth >= 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 549 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 549 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 549 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 614 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 614 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 614 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 724 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 724 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 724 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth <= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth == 396:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 897 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1008 and CurrentWidth <= 567:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = False
                 elif CurrentRow == 1008 and CurrentWidth == 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1008 and CurrentWidth > 692:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1073 and CurrentWidth >= 342:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True
                 elif CurrentRow == 1080 and CurrentWidth >= 59:
                     if self.next_program == True:
                         self.next_program = False
                     self.time_flag = True

                 if self.time_flag == True:
                     if self.next_program == False:
                         if self.channel_page >= 0:
                             if CurrentRow == 375 and CurrentWidth <= 692:
                                 nextprogram = int(CurrentId) + 1
                                 currentprogram_width = self.getControl(CurrentId).getWidth()
                                 nextprogramX = self.getControl(nextprogram).getX()

                                 if currentprogram_width == 342:
                                     if nextprogramX == 724:
                                         self.programs_Index_flag = True
                                         self.previous_program = True
                                         self.move_right_flag = True

                                 elif currentprogram_width == 692:
                                     if nextprogramX == 1073:
                                         self.programs_Index_flag = True
                                         self.previous_program = True
                                         self.move_right_flag = True

                             if CurrentRow == 375 and CurrentWidth >= 1038:
                                 self.move_right_flag = False
                             if CurrentRow == 549 and CurrentWidth >= 1038:
                                 self.move_right_flag = False
                             if CurrentRow == 614 and CurrentWidth >= 692:
                                 self.move_right_flag = False
                             if CurrentRow == 724 and CurrentWidth >= 1038:
                                 self.move_right_flag = False
                             if CurrentRow == 897 and CurrentWidth >= 342:
                                 self.move_right_flag = False

                             if CurrentRow == 1073 and CurrentWidth <= 167:
                                 NextCurrentId = int(CurrentId) + 1
                                 NextRow = self.getControl(NextCurrentId).getX()

                                 if NextRow == 1073:
                                     pass
                                 else:
                                     self.move_right_flag = False


                             if CurrentRow == 1073 and CurrentWidth >= 342:
                                 self.move_right_flag = False
                             if CurrentRow == 1080 and CurrentWidth >= 59:
                                 self.move_right_flag = False


                             if self.channel_page >= 0 and self.channel_page < 15750:
                                 if self.move_right_flag == False:
                                     # Set the date and time row
                                     getTime1 = self.getControl(344)
                                     getTime2 = self.getControl(345)
                                     getTime3 = self.getControl(346)
                                     getTime1.setLabel(getTime2.getLabel())
                                     getTime2.setLabel(getTime3.getLabel())
                                     hour = time.strftime("%I").lstrip('0')
                                     getTime3 = self.getControl(346).getLabel()

                                     #Find the time for each clock to change the text
                                     if getTime3 == '12:00AM':
                                         self.getControl(346).setLabel('12:30AM')
                                     elif getTime3 == '12:30AM':
                                         self.getControl(346).setLabel('1:00AM')
                                     elif getTime3 == '1:00AM':
                                         self.getControl(346).setLabel('1:30AM')
                                     elif getTime3 == '1:30AM':
                                         self.getControl(346).setLabel('2:00AM')
                                     elif getTime3 == '2:00AM':
                                         self.getControl(346).setLabel('2:30AM')
                                     elif getTime3 == '2:30AM':
                                         self.getControl(346).setLabel('3:00AM')
                                     elif getTime3 == '3:00AM':
                                         self.getControl(346).setLabel('3:30AM')
                                     elif getTime3 == '3:30AM':
                                         self.getControl(346).setLabel('4:00AM')
                                     elif getTime3 == '4:00AM':
                                         self.getControl(346).setLabel('4:30AM')
                                     elif getTime3 == '4:30AM':
                                         self.getControl(346).setLabel('5:00AM')
                                     elif getTime3 == '5:00AM':
                                         self.getControl(346).setLabel('5:30AM')
                                     elif getTime3 == '5:30AM':
                                         self.getControl(346).setLabel('6:00AM')
                                     elif getTime3 == '6:00AM':
                                         self.getControl(346).setLabel('6:30AM')
                                     elif getTime3 == '6:30AM':
                                         self.getControl(346).setLabel('7:00AM')
                                     elif getTime3 == '7:00AM':
                                         self.getControl(346).setLabel('7:30AM')
                                     elif getTime3 == '7:30AM':
                                         self.getControl(346).setLabel('8:00AM')
                                     elif getTime3 == '8:00AM':
                                         self.getControl(346).setLabel('8:30AM')
                                     elif getTime3 == '8:30AM':
                                         self.getControl(346).setLabel('9:00AM')
                                     elif getTime3 == '9:00AM':
                                         self.getControl(346).setLabel('9:30AM')
                                     elif getTime3 == '9:30AM':
                                         self.getControl(346).setLabel('10:00AM')
                                     elif getTime3 == '10:00AM':
                                         self.getControl(346).setLabel('10:30AM')
                                     elif getTime3 == '10:30AM':
                                         self.getControl(346).setLabel('11:00AM')
                                     elif getTime3 == '11:00AM':
                                         self.getControl(346).setLabel('11:30AM')
                                     elif getTime3 == '11:30AM':
                                         self.getControl(346).setLabel('12:00PM')
                                     elif getTime3 == '12:00PM':
                                         self.getControl(346).setLabel('12:30PM')
                                     elif getTime3 == '12:30PM':
                                         self.getControl(346).setLabel('1:00PM')
                                     elif getTime3 == '1:00PM':
                                         self.getControl(346).setLabel('1:30PM')
                                     elif getTime3 == '1:30PM':
                                         self.getControl(346).setLabel('2:00PM')
                                     elif getTime3 == '2:00PM':
                                         self.getControl(346).setLabel('2:30PM')
                                     elif getTime3 == '2:30PM':
                                         self.getControl(346).setLabel('3:00PM')
                                     elif getTime3 == '3:00PM':
                                         self.getControl(346).setLabel('3:30PM')
                                     elif getTime3 == '3:30PM':
                                         self.getControl(346).setLabel('4:00PM')
                                     elif getTime3 == '4:00PM':
                                         self.getControl(346).setLabel('4:30PM')
                                     elif getTime3 == '4:30PM':
                                         self.getControl(346).setLabel('5:00PM')
                                     elif getTime3 == '5:00PM':
                                         self.getControl(346).setLabel('5:30PM')
                                     elif getTime3 == '5:30PM':
                                         self.getControl(346).setLabel('6:00PM')
                                     elif getTime3 == '6:00PM':
                                         self.getControl(346).setLabel('6:30PM')
                                     elif getTime3 == '6:30PM':
                                         self.getControl(346).setLabel('7:00PM')
                                     elif getTime3 == '7:00PM':
                                         self.getControl(346).setLabel('7:30PM')
                                     elif getTime3 == '7:30PM':
                                         self.getControl(346).setLabel('8:00PM')
                                     elif getTime3 == '8:00PM':
                                         self.getControl(346).setLabel('8:30PM')
                                     elif getTime3 == '8:30PM':
                                         self.getControl(346).setLabel('9:00PM')
                                     elif getTime3 == '9:00PM':
                                         self.getControl(346).setLabel('9:30PM')
                                     elif getTime3 == '9:30PM':
                                         self.getControl(346).setLabel('10:00PM')
                                     elif getTime3 == '10:00PM':
                                         self.getControl(346).setLabel('10:30PM')
                                     elif getTime3 == '10:30PM':
                                         self.getControl(346).setLabel('11:00PM')
                                     elif getTime3 == '11:00PM':
                                         self.getControl(346).setLabel('11:30PM')
                                     elif getTime3 == '11:30PM':
                                         self.getControl(346).setLabel('12:00AM')



             if self.move_right_flag == True:
                 if CurrentRow == 375 and CurrentWidth >= 342:
                     self.programs_Index_flag = True
                     self.previous_program = True
             else:
                 if CurrentRow == 167:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                         if CurrentRow == 167:
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogram_width == 167:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                 elif nextprogram_width <= 567:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogram_width == 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                     programs_width = 117
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 499:
                                         self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 1073 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))




                 elif CurrentRow == 375:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 375 and CurrentWidth >= 1073:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2437:
                                 programs_width = 2082
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()

                                 if int(CurrentWidth) == 2082:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1735:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1392:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1221:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()



                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 1038:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                                 if int(CurrentWidth) == 879:
                                     nextprogram = int(CurrentId) + 1
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '10':
                                             if programs_width == 692:
                                                 programs_width = 456
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))

                                                 if nextprogramX != 838:
                                                     self.getControl(int(nextprogram)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramWidth == 342:
                                                         self.getControl(int(nextprograms)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_minutes == '40':
                                             if programs_width == 692:
                                                 programs_width = 456
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 342:
                                                     self.getControl(int(nextprograms)).setPosition(1189, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     else:
                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))




                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))




                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if CurrentRow == 375:
                             if int(pos_X) == 375:
                                 if int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 elif int(prog_width) == 692:
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()


                                     if nextprogram_width > 692:
                                         nextprogram = int(prog_id) + 1
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if CurrentRow == 375 and CurrentWidth == 692:
                             nextprogram = int(CurrentId) + 1
                             nextprogramX = self.getControl(int(nextprogram)).getX()
                             nextprogramY = self.getControl(int(nextprogram)).getY()

                             if nextprogramX == 375:
                                 self.getControl(int(nextprogram)).setPosition(1073, int(nextprogramY))
                                 nextprograms = int(nextprogram) + 1
                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                 if nextprogramsX == 1073:
                                     self.getControl(int(nextprograms)).setVisible(True)

                                     
                         if CurrentRow == 375 and CurrentWidth == 879:
                             programs_width = 515
                             self.getControl(int(CurrentId)).setWidth(int(programs_width))
                             nextprogram = int(CurrentId) + 1
                             nextprogramX = self.getControl(int(nextprogram)).getX()

                             if nextprogramX != 897:
                                 self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                 self.getControl(int(nextprogram)).setVisible(True)
                                 nextprograms = int(nextprogram) + 1
                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                 if nextprogramsWidth <= 167:
                                     self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprograms)).setVisible(True)



                 elif CurrentRow == 549:
                     print "self.time_flag is " + str(self.time_flag)
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 549 and CurrentWidth >= 342:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                 elif CurrentRow == 614:
                     print "self.time_flag is " + str(self.time_flag)
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 614 and CurrentWidth >= 342:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))



                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                 elif currentprograms_width > 692:
                                     self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                 elif CurrentRow == 724:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 724 and CurrentWidth == 692:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(nextprogram)).setVisible(True)

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                 print "sort this out chrussssssssssssssssss"



                             elif int(pos_X) == 724 and int(prog_width) == 567:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time <= epg_time_3:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 program_width = 510
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))




                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 print "prog_width is " + str(prog_width)

                                 if int(prog_width) == 692:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextcurrentprogram = int(CurrentId) + 1
                                     currentprogram = self.getControl(int(CurrentId)).getX()
                                     currentprogram_width = self.getControl(int(CurrentId)).getWidth()
                                     nextprogramX = self.getControl(int(nextcurrentprogram)).getX()



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) >= 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                 if int(prog_width) == 342:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                     elif CurrentRow == 724 and CurrentWidth > 692:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                 elif nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))



                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if int(prog_width) == 692:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) >= 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                 if int(prog_width) == 342:
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) < 375:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))




                 elif CurrentRow == 897:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 897 and CurrentWidth >= 342:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                 elif nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                                 if nextprogramX != 375 and nextprogramWidth == 515:
                                     print "you areeeeeeeeeeeeeeee worrrrrrrrrrrrkkkkkkkkkkkking on this now"
                                     self.get_button_id = int(nextprogram)
                                     self.thread = AllChannelsThread(self.get_programming_info)
                                     self.thread.start()



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 949 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))




                 elif CurrentRow == 949 or CurrentRow == 952:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 949 and CurrentWidth >= 59 or CurrentRow == 952 and CurrentWidth >= 59:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949 or nextprogramX == 952:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                 elif nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                         if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time

                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                 elif CurrentRow >= 1008 and CurrentRow <= 1016:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if CurrentRow == 1008 and CurrentWidth >= 692:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if int(pos_X) == 375 and int(prog_width) == 5515:
                                 programs_width = 5173
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5344:
                                 programs_width = 5002
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5173:
                                 programs_width = 4831
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 5002:
                                 programs_width = 4660
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4831:
                                 programs_width = 4489
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4660:
                                 programs_width = 4318
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4489:
                                 programs_width = 4147
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4317:
                                 programs_width = 3975
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 4146:
                                 programs_width = 3804
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3976:
                                 programs_width = 3634
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3805:
                                 programs_width = 3463
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3634:
                                 programs_width = 3292
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3463:
                                 programs_width = 3121
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3292:
                                 programs_width = 2947
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3121:
                                 programs_width = 2779
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 3078:
                                 programs_width = 2736
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2947:
                                 programs_width = 2608
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2779:
                                 programs_width = 2437
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2736:
                                 programs_width = 2394
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2608:
                                 programs_width = 2253
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2394:
                                 programs_width = 2052
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2253:
                                 programs_width = 1906
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2082:
                                 programs_width = 1735
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 2052:
                                 programs_width = 1710
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1906:
                                 programs_width = 1563
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1735:
                                 programs_width = 1392
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1710:
                                 programs_width = 1368
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1563:
                                 programs_width = 1221
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1425:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 CurrentWidth = self.getControl(CurrentId).getWidth()


                             elif int(pos_X) == 375 and int(prog_width) == 1392:
                                 programs_width = 1038
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))


                             elif int(pos_X) == 375 and int(prog_width) == 1368:
                                 programs_width = 1026
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1311:
                                 programs_width = 969
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if program_width == 969:
                                                 program_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(program_width))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1221:
                                 programs_width = 879
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 1083:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 1008:
                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)

                                     if nextprogram_Width == 59:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX != 1080:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 1038:
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '55':
                                             if int(prog_width) == 1038:
                                                 programs_width = 626
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogram_Width == 117:
                                                     self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     elif program_stop_time >= epg_time_3:
                                         if program_stop_minutes == '05':
                                             if int(prog_width) == 1038:
                                                 programs_width = 750
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)


                                     elif program_stop_time == epg_time_3:
                                         if program_stop_minutes == '00':
                                             if int(prog_width) == 1038:
                                                 programs_width = 692
                                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                 self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 1026:
                                 programs_width = 692
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '10':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                             elif program_stop_minutes == '40':
                                                 if nextprogram_Width == 692:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                     if nextprogramX != 1073:
                                         pos_Y = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 969:
                                 programs_width = 626
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))



                             elif int(pos_X) == 375 and int(prog_width) == 879:
                                 programs_width = 515
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 750:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 741:
                                 programs_width = 399
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 780:
                                     self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 692:
                                 programs_width = 342
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX == 1073:
                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)

                                     if nextprogram_width == 167:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif nextprogram_width <= 567:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 626:
                                 programs_width = 276
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX > 724:
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                     pos_Y =  self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                     if nextprogramWidth == 59:
                                         self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                     elif nextprogramWidth == 117:
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                 #elif nextprogramX > 1032:
                                     #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 577:
                                 programs_width = 235
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX > 724:
                                     posX = int(nextprogramX) - 344
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogram_Width == 515:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         posX = int(nextprogramsX) - 344
                                         posY = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 567:
                                 programs_width = 232
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX == 724:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)


                                 elif nextprogramX == 949 or nextprogramX == 952:
                                     posY = self.getControl(int(nextprogram)).getY()
                                     self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                     self.getControl(int(nextprogram)).setVisible(True)
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()

                                     if nextprogramwidth == 567:
                                         if nextprogramsX != 1188:
                                             self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 515:
                                 programs_width = 167
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 549:
                                     self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 456:
                                 programs_width = 117
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 499:
                                     self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                     if nextprogram_width == 342:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 399:
                                 programs_width = 59
                                 self.getControl(int(prog_id)).setWidth(int(programs_width))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 440:
                                     self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramsX = self.getControl(int(nextprogram)).getX()

                                     if nextprogram_width == 692:
                                         if nextprogramsX != 1116:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                     nextprograms1 = int(nextprograms) + 1
                                     nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                     nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                     if nextprogram_width == 286:
                                         if nextprogramsX != 665:
                                             self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                             if nextprograms_width == 227:
                                                 if nextprogramsX1 != 901:
                                                     self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogram_width == 342:
                                         if nextprogramsX != 724:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                             if nextprograms_width == 342:
                                                 if nextprogramsX1 != 1073:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                     elif nextprogram_width == 515:
                                         self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         if nextprogramsX != 949:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 692:
                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 741:
                                         if nextprogramsX != 1124:
                                             self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 286:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '40':
                                                 if nextprogram_Width == 567:
                                                     programs_width = 456
                                                     self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramsWidth1 == 342:
                                                         self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)

                                         else:

                                             if nextprogram_Width == 458:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 626:
                                                 if nextprogramsX > 1008:
                                                     pos_X = int(1008)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_Width == 567:
                                                 if nextprogramsX != 949:
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 375 and int(prog_width) == 276:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 programX = self.getControl(int(prog_id)).getX()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX == 440:
                                     if nextprogram_width == 59:
                                         self.getControl(int(prog_id)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                 if programX < 375:
                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1

                                         if nextprogram_width == 59:
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                         elif nextprogram_width == 567:
                                             if nextprogramX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 626:
                                             if nextprogramX != 1008:
                                                 self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 235:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                 if nextprogramX != 375:
                                     if nextprogram_Width == 515:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramsX == 1138:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 232:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                     nextprograms = int(nextprogram) + 1
                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                     if nextprogramsX == 1073:
                                         print "fix this 1"
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                     elif nextprogramsX == 1291:
                                         print "fix this 2"
                                         #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                     elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                         if nextprogramWidth == 567:
                                             self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))



                                     elif nextprogramsX == 963:
                                         if nextprogramWidth == 342:
                                             self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 167:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramX == 549:
                                         if nextprogramWidth == 342:
                                             program_width = 167
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)

                                                 if nextprogramsWidth == 396:
                                                     nextprograms1 = int(nextprograms) + 1
                                                     self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                         if nextprogramWidth == 692:
                                             program_width = 515
                                             self.getControl(int(nextprogram)).setWidth(program_width)
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 897:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 375 and int(prog_width) == 117:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                     if nextprogramWidth == 342:
                                         program_width = 117
                                         self.getControl(int(nextprogram)).setWidth(int(program_width))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 499:
                                             self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                             elif int(pos_X) == 375 and int(prog_width) == 59:
                                 self.getControl(int(prog_id)).setVisible(False)
                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 375:
                                     if nextprogramWidth == 286:
                                         self.getControl(int(nextprogram)).setVisible(False)
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                         if nextprogramsX != 375:
                                             if nextprogramsWidth >= 59:
                                                 self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth > 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                     elif nextprogramWidth == 692:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 1073:
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                     elif nextprogramWidth == 676:
                                         programs_width = 399
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 778:
                                             if nextprogramsWidth == 286:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                             elif nextprogramsWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                 nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                 if nextprograms1X != 1124:
                                                     self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                     self.getControl(int(nextprograms1)).setVisible(True)


                                     elif nextprogramWidth == 626:
                                         programs_width = 286
                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX != 669:
                                             self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))



                             elif int(pos_X) == 440 and int(prog_width) >= 59:
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time == epg_time_1:
                                         if program_stop_minutes == '30':
                                             if program_width == 286:
                                                 self.getControl(int(prog_id)).setVisible(False)
                                                 self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                     elif program_stop_time <= epg_time_2:
                                        if program_stop_minutes == '40':
                                             if program_width == 567:
                                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                 program_width = 232
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                             elif int(pos_X) == 499 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time == epg_time_2:
                                         if program_stop_minutes == '00':
                                             if program_width == 567:
                                                 program_width = 342
                                                 self.getControl(int(prog_id)).setWidth(program_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                             elif int(pos_X) == 549 and int(prog_width) >= 59:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '15':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                 if nextprogramX != 549:
                                                     if nextprogram_Width == 396:
                                                         prog_width = 452
                                                         self.getControl(int(nextprogram)).setWidth(prog_width)
                                                         nextprogramY = self.getControl(int(nextprogram)).getY()
                                                         self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprograms = int(nextprogram) + 1
                                                         nextprogramX = self.getControl(int(nextprograms)).getX()

                                                         if nextprogramX != 897:
                                                             nextprogramsY = self.getControl(int(nextprograms)).getY()
                                                             self.getControl(int(nextprograms)).setPosition(1008, int(nextprogramsY))
                                                             self.getControl(int(nextprograms)).setVisible(True)



                                     elif program_stop_time > epg_time_1:
                                         if program_stop_minutes == '45':
                                             if program_width == 342:
                                                 prog_width = 167
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 549:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_minutes == '50':
                                             if program_width == 396:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                             elif program_width == 452:
                                                 prog_width = 232
                                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX != 614:
                                                     nextprogramY = self.getControl(int(nextprogram)).getY()
                                                     self.getControl(int(nextprogram)).setPosition(614, int(nextprogramY))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 549 and int(prog_width) >= 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                     if program_stop_time < epg_time_2:
                                         if program_stop_minutes == '45':
                                             prog_width = 167
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX != 549:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(549, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                                     elif program_stop_time < epg_time_3:
                                         if program_stop_minutes == '45':
                                             prog_width = 515
                                             self.getControl(int(prog_id)).setWidth(prog_width)
                                             nextprogram = int(prog_id) + 1
                                             nextprogramX = self.getControl(int(nextprogram)).getX()

                                             if nextprogramX == 1073:
                                                 nextprogramY = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(897, int(nextprogramY))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 616 and int(prog_width) == 515:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_minutes = stop_time.strftime('%M')
                                     programs_width = 0

                                     if program_stop_minutes == '05':
                                         programs_width = 399
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))



                             elif int(pos_X) == 668 and int(prog_width) >= 342:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'

                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     print "program time"
                                     print "program_stop_time"
                                     print program_stop_time


                                     if program_stop_time < epg_time_3:
                                         if program_stop_minutes == '40':
                                             programs_width = 456
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))

                                             if nextprogram_Width == 567:
                                                 if nextprogramsX > 837:
                                                     pos_X = int(837)
                                                     pos_Y = self.getControl(int(nextprograms)).getY()
                                                     self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)
                                                     nextprograms_width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprograms_width == 342:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                         if nextprogramsX1 != 1189:
                                                             pos_X = int(1189)
                                                             self.getControl(int(nextprograms1)).setPosition(pos_X, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) == 342:
                                 currentprogramsX = self.getControl(int(prog_id)).getX()

                                 if currentprogramsX == 724:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     currentprogram_width = self.getControl(int(prog_id)).getWidth()

                                     if currentprogram_width == 342:
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 342:
                                             if nextprogramX == 1073:
                                                 self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                             elif int(pos_X) == 724 and int(prog_width) >= 692:
                                 self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                 currentprograms_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if currentprograms_width <= 692:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 780 and int(prog_width) == 692:
                                 profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                 conn1 = database.connect(profilePath)
                                 cur1 = conn1.cursor()
                                 cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                 stop_date = cur1.fetchone()

                                 if stop_date is not None:
                                     stop_date = str(stop_date[0])
                                     stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                     stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                     program_stop_hours = stop_time.strftime('%H')
                                     program_stop_minutes = stop_time.strftime('%M')
                                     program_AM_PM = stop_time.strftime('%p')
                                     half_hour = str(self.getControl(344).getLabel())
                                     one_hour = str(self.getControl(345).getLabel())
                                     one_hour_half = str(self.getControl(346).getLabel())
                                     epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                     epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                     epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                     if program_stop_hours == "00":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "01":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "02":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "03":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "04":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "05":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "06":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "07":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "08":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "09":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "10":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "11":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'AM'
                                     elif program_stop_hours == "12":
                                         program_stop_hours = "12"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "13":
                                         program_stop_hours = "1"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "14":
                                         program_stop_hours = "2"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "15":
                                         program_stop_hours = "3"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "16":
                                         program_stop_hours = "4"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "17":
                                         program_stop_hours = "5"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "18":
                                         program_stop_hours = "6"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "19":
                                         program_stop_hours = "7"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "20":
                                         program_stop_hours = "8"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "21":
                                         program_stop_hours = "9"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "22":
                                         program_stop_hours = "10"
                                         program_AM_PM = 'PM'
                                     elif program_stop_hours == "23":
                                         program_stop_hours = "11"
                                         program_AM_PM = 'PM'


                                     program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                     program_stop_time = time.strptime(program_stop_time, '%I:%M%p')
                                     programs_width = 0


                                     if program_stop_time > epg_time_3:
                                         if program_stop_minutes == '05':
                                             programs_width = 676
                                             self.getControl(int(prog_id)).setWidth(int(programs_width))
                                             nextprogram = int(prog_id) + 1
                                             pos_X = self.getControl(int(nextprogram)).getX()

                                             if int(pos_X) != 1093:
                                                 pos_Y = self.getControl(int(nextprogram)).getY()
                                                 self.getControl(int(nextprogram)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 897 and int(prog_width) >= 342:
                                 if int(prog_width) == 342:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                 elif int(prog_width) == 452:
                                     if nextprogramX != 549:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 program_width = self.getControl(int(prog_id)).getWidth()
                                 nextprogram = int(prog_id) + 1
                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                 nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                 if nextprogramX != 897:
                                     if program_width == 342:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                     elif program_width == 452:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif int(pos_X) == 1073 and int(prog_width) == 342:
                                 self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                 if nextprogramX != 1073:
                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)


                             elif int(pos_X) == 1073 and int(prog_width) >= 692:
                                 previous_prog_id = int(prog_id) - 1
                                 previousprogram_X = self.getControl(int(previous_prog_id)).getX()

                                 if previousprogram_X == 440:
                                     self.getControl(int(prog_id)).setPosition(733, int(pos_Y))
                                 else:
                                     self.getControl(int(prog_id)).setPosition(724, int(pos_Y))




                 elif CurrentRow == 1073:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if self.channel_page == 15750:
                         pass
                     else:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if CurrentRow == 1073 and CurrentWidth >= 59:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_Width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogramwidth == 286:
                                         if nextprogramsX != 907:
                                             self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)
                                             nextprograms1 = int(nextprograms) + 1
                                             nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                             if nextprogramsX1 != 1142:
                                                 self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                 self.getControl(int(nextprograms1)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 456:
                                     programs_width = 117
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 499:
                                         self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 286:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '40':
                                                     if nextprogram_Width == 567:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)

                                             else:

                                                 if nextprogram_Width == 458:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 626:
                                                     if nextprogramsX > 1008:
                                                         pos_X = int(1008)
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 567:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 276:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     programX = self.getControl(int(prog_id)).getX()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX == 440:
                                         if nextprogram_width == 59:
                                             self.getControl(int(prog_id)).setVisible(False)
                                             self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))


                                     if programX < 375:
                                         if nextprogramX != 375:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1

                                             if nextprogram_width == 59:
                                                 self.getControl(int(nextprogram)).setVisible(False)
                                                 self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))


                                             elif nextprogram_width == 567:
                                                 if nextprogramX != 949:
                                                     self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                             elif nextprogram_width == 626:
                                                 if nextprogramX != 1008:
                                                     self.getControl(int(nextprograms)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)


                                     #if nextprogram_width == 342:
                                         #nextprograms = int(nextprogram) + 1
                                         #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))
                                         #self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 235:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         if nextprogram_Width == 515:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX == 1138:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 232:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX == 1073:
                                             print "fix this 1"
                                             #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                         elif nextprogramsX == 1291:
                                             print "fix this 2"
                                             #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                             if nextprogramWidth == 567:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 963:
                                             if nextprogramWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 549 and int(prog_width) == 692:
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_2:
                                             if program_stop_minutes == '45':
                                                 if program_width == 692:
                                                     program_width = 515
                                                     self.getControl(int(prog_id)).setWidth(program_width)



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 724:
                                     print "you are working on here now 2"

                                     if int(prog_width) == 692:
                                         print "you are here"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) == 626:
                                         print "you are here 2"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX > 1073:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))




                                 elif int(pos_X) == 897 and int(prog_width) >= 342:
                                     if int(prog_width) == 342:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                     elif int(prog_width) == 452:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         if program_width == 342:
                                             self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)
                                         elif program_width == 452:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 1073:
                                     #self.getControl(int(prog_id)).setVisible(False)


                                     if int(prog_width) == 167:
                                         print "you are working on here now 3"
                                         currentProgram = int(prog_id)
                                         currentProgramX = self.getControl(int(currentProgram)).getX()

                                         if currentProgramX == 1073:
                                             print "you are working on here now 4"
                                             currentProgram2 = int(prog_id) - 2
                                             currentProgram2X = self.getControl(int(currentProgram2)).getX()
                                             currentProgram2_Width = self.getControl(int(currentProgram2)).getWidth()

                                             if currentProgram2X == 724 and currentProgram2_Width == 167:
                                                 self.getControl(int(currentProgram2)).setPosition(375, int(pos_Y))
                                                 currentProgram1 = int(prog_id) - 1
                                                 currentProgram1X = self.getControl(int(currentProgram1)).getX()
                                                 currentProgram1_Width = self.getControl(int(currentProgram1)).getWidth()

                                                 if currentProgram1X == 897 and currentProgram1_Width == 167:
                                                     self.getControl(int(currentProgram1)).setPosition(549, int(pos_Y))
                                                     currentProgramX = self.getControl(int(currentProgram)).getX()
                                                     currentProgram_Width = self.getControl(int(currentProgram)).getWidth()

                                                     if currentProgramX == 1073 and currentProgram_Width == 167:
                                                         self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                         nextprogram = int(currentProgram) + 1
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                         if nextprogram_Width == 167:
                                                             nextprograms = int(nextprogram) + 1
                                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                             self.getControl(int(nextprograms)).setVisible(True)


                                             else:
                                                 self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                 CurrentprogramX = self.getControl(int(currentProgram)).getX()
                                                 nextprogram = int(currentProgram) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()
                                                 print "CurrentprogramX"
                                                 print CurrentprogramX


                                                 if CurrentprogramX == 1073:
                                                     print "passed"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                                     if int(pos_X) == 375:
                                                         self.getControl(int(prog_id)).setVisbile(False)
                                                         



                                                 if nextprogram_Width == 167:
                                                     if nextprogram_Width != 897:
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogram1 = int(nextprogram) + 1
                                                         nextprogram1X = self.getControl(int(nextprogram1)).getX()
                                                         nextprogram1_Width = self.getControl(int(nextprogram1)).getWidth()

                                                         if nextprogram1_Width == 167:
                                                             if nextprogram1X != 1073:
                                                                 self.getControl(int(nextprogram1)).setPosition(1073, int(pos_Y))
                                                                 self.getControl(int(nextprogram1)).setVisible(True)
                                                                 print "catch this 3"
                                                             else:
                                                                 print "catch this 4"



                                         elif currentProgramX == 724:
                                             print "you are working on here now 5"
                                             currentProgramWidth = self.getControl(int(prog_id)).getWidth()
                                             print currentProgramWidth

                                             if currentProgramWidth == 167:
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX > 1073:
                                                     print "you are working on here now 6"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         CurrentRowX = self.getControl(int(prog_id)).getX()

                                         if CurrentRowX == 723:
                                             self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     else:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                             elif int(pos_X) == 897 and int(prog_width) >= 692:
                                 current_program = self.getFocusId()
                                 current_programX = self.getControl(int(current_program)).getX()
                                 current_program_width = self.getControl(int(current_program)).getWidth()

                                 if current_programX == 897 and current_program_width > 692:
                                     nextprogram = int(self.getFocusId()) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     print "let disable the program"

                                     if nextprogramX == 897:
                                         self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif CurrentRow == 1073 and CurrentWidth == 342:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogramwidth == 286:
                                             if nextprogramsX != 907:
                                                 self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                 if nextprogramsX1 != 1142:
                                                     self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                     self.getControl(int(nextprograms1)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))




                                 elif int(pos_X) == 375 and int(prog_width) == 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramWidth == 286:
                                             self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                             if nextprogramsX != 375:
                                                 if nextprogramsWidth >= 59:
                                                     self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))



                                         elif nextprogramWidth > 692:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))



                                         elif nextprogramWidth == 692:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                         elif nextprogramWidth == 676:
                                             programs_width = 399
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 778:
                                                 if nextprogramsWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                                 elif nextprogramsWidth == 342:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogramWidth == 626:
                                             programs_width = 286
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 669:
                                                 self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))




                                 elif int(pos_X) == 440 and int(prog_width) >= 59:
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_1:
                                             if program_stop_minutes == '30':
                                                 if program_width == 286:
                                                     self.getControl(int(prog_id)).setVisible(False)
                                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                         elif program_stop_time <= epg_time_2:
                                             if program_stop_minutes == '40':
                                                 if program_width == 567:
                                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                     program_width = 232
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                                 elif int(pos_X) == 499 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_2:
                                             if program_stop_minutes == '00':
                                                 if program_width == 567:
                                                     program_width = 342
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramWidth == 286:
                                                         self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 724:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         print "move itttttttttttttt"


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                             elif CurrentRow == 1073 and CurrentWidth >= 692:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1


                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                         previousprogram = int(prog_id) - 1
                                         previousprogramX = self.getControl(int(previousprogram)).getX()
                                         previousprogramWidth = self.getControl(int(previousprogram)).getWidth()

                                         if previousprogramX == 724 and previousprogramWidth == 167:
                                             self.getControl(int(previousprogram)).setPosition(375, int(pos_Y))


                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if self.time_flag == False:
                             if self.next_program == True:
                                 self.next_program = False
                             self.time_flag = True



                 elif CurrentRow == 1080:
                     program_button = [elem.control for elem in self.program_buttons]
                     programs_id = list()
                     program_width = list()
                     positions_X = list()
                     positions_Y = list()

                     for elem in program_button:
                         programs_id.append(elem.getId())
                         positions_X.append(elem.getX())
                         positions_Y.append(elem.getY())
                         program_width.append(elem.getWidth())
                     programs_id = map(str, programs_id)
                     posX = map(str, positions_X)
                     posY = map(str, positions_Y)
                     program_width = map(str, program_width)

                     if self.channel_page == 15750:
                         pass
                     else:
                         for pos_X, pos_Y, prog_id, prog_width in zip(positions_X, positions_Y, programs_id, program_width):
                             if CurrentRow == 1080 and CurrentWidth >= 59:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                             if self.channelsOnRight == True:
                                                 self.channelsOnRight = False
                                                 self.channelsOnMiddle = True


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogramwidth == 286:
                                             if nextprogramsX != 907:
                                                 self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                 if nextprogramsX1 != 1142:
                                                     self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                     self.getControl(int(nextprograms1)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 456:
                                     programs_width = 117
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 499:
                                         self.getControl(int(nextprogram)).setPosition(499, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(848, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif nextprogram_width == 567:
                                         nextprograms = int(nextprogram) + 1
                                         self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 286:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [nextprogram])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '40':
                                                     if nextprogram_Width == 567:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)

                                             else:

                                                 if nextprogram_Width == 458:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(614, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 626:
                                                     if nextprogramsX > 1008:
                                                         pos_X = int(1008)
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(pos_X, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                                 elif nextprogram_Width == 567:
                                                     if nextprogramsX != 949:
                                                         pos_Y = self.getControl(int(nextprograms)).getY()
                                                         self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 235:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         if nextprogram_Width == 515:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX == 1138:
                                                 self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 232:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                         if nextprogramsX == 1073:
                                             print "fix this 1"
                                             #self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                         elif nextprogramsX == 1291:
                                             print "fix this 2"
                                             #self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 1188 or nextprogramsX == 1189:
                                             if nextprogramWidth == 567:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))


                                         elif nextprogramsX == 963:
                                             if nextprogramWidth == 342:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 724:
                                     print "you are working on here now 2"

                                     if int(prog_width) == 692:
                                         print "you are here"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) == 626:
                                         print "you are here 2"
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX > 1073:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))




                                 elif int(pos_X) == 897 and int(prog_width) >= 342:
                                     if int(prog_width) == 342:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                     elif int(prog_width) == 452:
                                         if nextprogramX != 549:
                                             self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         if program_width == 342:
                                             self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)
                                         elif program_width == 452:
                                             self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 1073:
                                     #self.getControl(int(prog_id)).setVisible(False)
                                     print "prog_width"
                                     print prog_width
                                     
                                     if int(prog_width) == 167:
                                         print "you are working on here now 3"
                                         currentProgram = int(prog_id)
                                         currentProgramX = self.getControl(int(currentProgram)).getX()

                                         if currentProgramX == 1073:
                                             print "you are working on here now 4"
                                             currentProgram2 = int(prog_id) - 2
                                             currentProgram2X = self.getControl(int(currentProgram2)).getX()
                                             currentProgram2_Width = self.getControl(int(currentProgram2)).getWidth()

                                             if currentProgram2X == 724 and currentProgram2_Width == 167:
                                                 self.getControl(int(currentProgram2)).setPosition(375, int(pos_Y))
                                                 currentProgram1 = int(prog_id) - 1
                                                 currentProgram1X = self.getControl(int(currentProgram1)).getX()
                                                 currentProgram1_Width = self.getControl(int(currentProgram1)).getWidth()

                                                 if currentProgram1X == 897 and currentProgram1_Width == 167:
                                                     self.getControl(int(currentProgram1)).setPosition(549, int(pos_Y))
                                                     currentProgramX = self.getControl(int(currentProgram)).getX()
                                                     currentProgram_Width = self.getControl(int(currentProgram)).getWidth()

                                                     if currentProgramX == 1073 and currentProgram_Width == 167:
                                                         self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                         nextprogram = int(currentProgram) + 1
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogramX = self.getControl(int(nextprogram)).getX()
                                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                                         if nextprogram_Width == 167:
                                                             nextprograms = int(nextprogram) + 1
                                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                             self.getControl(int(nextprograms)).setVisible(True)


                                             else:
                                                 self.getControl(int(currentProgram)).setPosition(724, int(pos_Y))
                                                 CurrentprogramX = self.getControl(int(currentProgram)).getX()
                                                 nextprogram = int(currentProgram) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()
                                                 nextprogram_Width = self.getControl(int(nextprogram)).getWidth()
                                                 print "CurrentprogramX"
                                                 print CurrentprogramX


                                                 if CurrentprogramX == 1073:
                                                     print "passed"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                                     if int(pos_X) == 375:
                                                         self.getControl(int(prog_id)).setVisbile(False)
                                                         



                                                 if nextprogram_Width == 167:
                                                     if nextprogram_Width != 897:
                                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                         self.getControl(int(nextprogram)).setVisible(True)
                                                         nextprogram1 = int(nextprogram) + 1
                                                         nextprogram1X = self.getControl(int(nextprogram1)).getX()
                                                         nextprogram1_Width = self.getControl(int(nextprogram1)).getWidth()

                                                         if nextprogram1_Width == 167:
                                                             if nextprogram1X != 1073:
                                                                 self.getControl(int(nextprogram1)).setPosition(1073, int(pos_Y))
                                                                 self.getControl(int(nextprogram1)).setVisible(True)
                                                                 print "catch this 3"
                                                             else:
                                                                 print "catch this 4"



                                         elif currentProgramX == 724:
                                             print "you are working on here now 5"
                                             currentProgramWidth = self.getControl(int(prog_id)).getWidth()
                                             print currentProgramWidth

                                             if currentProgramWidth == 167:
                                                 nextprogram = int(prog_id) + 1
                                                 nextprogramX = self.getControl(int(nextprogram)).getX()

                                                 if nextprogramX > 1073:
                                                     print "you are working on here now 6"
                                                     self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                         #if nextprogramsX == 724:
                                             #nextprogram2 = int(nextprogram1) + 1
                                             #self.getControl(int(nextprogram2)).setPosition(698, int(pos_Y))
                                         #else:
                                             #self.getControl(int(nextprogram1)).setPosition(897, int(pos_Y))
                                             #self.getControl(int(nextprogram1)).setVisible(True)


                                         #if nextprograms_width == 167:
                                             #nextprogram2 = int(nextprogram1) + 1
                                             #self.getControl(int(nextprogram2)).setPosition(1073, int(pos_Y))
                                             #self.getControl(int(nextprogram2)).setVisible(True)


                                     #if CurrentRow == 723:
                                         #print "fuckkkkkk you"
                                         #self.getControl(int(prog_id)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                         CurrentRowX = self.getControl(int(prog_id)).getX()

                                         if CurrentRowX == 723:
                                             self.getControl(int(prog_id)).setPosition(724, int(pos_Y))

                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     else:
                                         self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))




                             elif int(pos_X) == 897 and int(prog_width) >= 692:
                                 current_program = self.getFocusId()
                                 current_programX = self.getControl(int(current_program)).getX()
                                 current_program_width = self.getControl(int(current_program)).getWidth()

                                 if current_programX == 897 and current_program_width > 692:
                                     nextprogram = int(self.getFocusId()) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     print "let disable the program"

                                     if nextprogramX == 897:
                                         self.getControl(int(nextprogram)).setVisible(False)



                             elif int(pos_X) == 949 and int(prog_width) >= 167 or int(pos_X) == 952 and int(prog_width) >= 167:
                                 self.getControl(int(prog_id)).setPosition(614, int(pos_Y))
                                 nextprogram = int(prog_id) + 1
                                 program_width = self.getControl(int(prog_id)).getWidth()

                                 if program_width == 342:
                                     self.getControl(int(nextprogram)).setPosition(963, int(pos_Y))
                                     self.getControl(int(nextprogram)).setVisible(True)



                             elif CurrentRow == 1073 and CurrentWidth == 342:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 567:
                                     programs_width = 232
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramwidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX == 724:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(1073, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)


                                     elif nextprogramX == 949 or nextprogramX == 952:
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(614, int(posY))
                                         self.getControl(int(nextprogram)).setVisible(True)
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()

                                         if nextprogramwidth == 567:
                                             if nextprogramsX != 1188:
                                                 self.getControl(int(nextprograms)).setPosition(1188, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogramwidth == 286:
                                             if nextprogramsX != 907:
                                                 self.getControl(int(nextprograms)).setPosition(907, int(posY))
                                                 self.getControl(int(nextprograms)).setVisible(True)
                                                 nextprograms1 = int(nextprograms) + 1
                                                 nextprogramsX1 = self.getControl(int(nextprograms1)).getX()

                                                 if nextprogramsX1 != 1142:
                                                     self.getControl(int(nextprograms1)).setPosition(1142, int(posY))
                                                     self.getControl(int(nextprograms1)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramWidth == 286:
                                             self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()


                                             if nextprogramsX != 375:
                                                 if nextprogramsWidth >= 59:
                                                     self.getControl(int(nextprograms)).setPosition(375, int(pos_Y))


                                         elif nextprogramWidth == 692:
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))



                                         elif nextprogramWidth == 676:
                                             programs_width = 399
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 778:
                                                 if nextprogramsWidth == 286:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                                 elif nextprogramsWidth == 342:
                                                     self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))
                                                     nextprograms1 = int(nextprograms) + 1
                                                     nextprograms1X = self.getControl(int(nextprograms1)).getX()
                                                     nextprograms1Width = self.getControl(int(nextprograms1)).getWidth()

                                                     if nextprograms1X != 1124:
                                                         self.getControl(int(nextprograms1)).setPosition(1124, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogramWidth == 626:
                                             programs_width = 286
                                             self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                             self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 669:
                                                 self.getControl(int(nextprograms)).setPosition(669, int(pos_Y))




                                 elif int(pos_X) == 440 and int(prog_width) >= 59:
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_1:
                                             if program_stop_minutes == '30':
                                                 if program_width == 286:
                                                     self.getControl(int(prog_id)).setVisible(False)
                                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))


                                         elif program_stop_time <= epg_time_2:
                                             if program_stop_minutes == '40':
                                                 if program_width == 567:
                                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                                     program_width = 232
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(607, int(pos_Y))



                                 elif int(pos_X) == 499 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_2:
                                             if program_stop_minutes == '00':
                                                 if program_width == 567:
                                                     program_width = 342
                                                     self.getControl(int(prog_id)).setWidth(program_width)
                                                     nextprogram = int(prog_id) + 1
                                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()
                                                     self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogramWidth == 286:
                                                         self.getControl(int(nextprograms)).setPosition(1016, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 724:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 692:
                                         print "move itttttttttttttt"


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))


                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                             elif CurrentRow == 1073 and CurrentWidth >= 692:
                                 if int(pos_X) == 375 and int(prog_width) == 5515:
                                     programs_width = 5173
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5344:
                                     programs_width = 5002
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5173:
                                     programs_width = 4831
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 5002:
                                     programs_width = 4660
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4831:
                                     programs_width = 4489
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4660:
                                     programs_width = 4318
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4489:
                                     programs_width = 4147
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4317:
                                     programs_width = 3975
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 4146:
                                     programs_width = 3804
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3976:
                                     programs_width = 3634
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3805:
                                     programs_width = 3463
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3634:
                                     programs_width = 3292
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3463:
                                     programs_width = 3121
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3292:
                                     programs_width = 2947
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3121:
                                     programs_width = 2779
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 3078:
                                     programs_width = 2736
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2947:
                                     programs_width = 2608
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2779:
                                     programs_width = 2437
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2736:
                                     programs_width = 2394
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2608:
                                     programs_width = 2253
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2394:
                                     programs_width = 2052
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2437:
                                     programs_width = 2082
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2253:
                                     programs_width = 1906
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2082:
                                     programs_width = 1735
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 2052:
                                     programs_width = 1710
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1906:
                                     programs_width = 1563
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1735:
                                     programs_width = 1392
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1710:
                                     programs_width = 1368
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1563:
                                     programs_width = 1221
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1425:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1392:
                                     programs_width = 1038
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))


                                 elif int(pos_X) == 375 and int(prog_width) == 1368:
                                     programs_width = 1026
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1311:
                                     programs_width = 969
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')


                                         if program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if program_width == 969:
                                                     program_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(program_width))
                                                     nextprogram = int(prog_id) + 1
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1221:
                                     programs_width = 879
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 1083:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 1008:
                                         self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)

                                         if nextprogram_Width == 59:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()

                                             if nextprogramsX != 1080:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 1038:
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     program_width = self.getControl(int(prog_id)).getWidth()
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                     conn1 = database.connect(profilePath)
                                     cur1 = conn1.cursor()
                                     cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                     stop_date = cur1.fetchone()

                                     if stop_date is not None:
                                         stop_date = str(stop_date[0])
                                         stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                         stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                         program_stop_hours = stop_time.strftime('%H')
                                         program_stop_minutes = stop_time.strftime('%M')
                                         program_AM_PM = stop_time.strftime('%p')
                                         half_hour = str(self.getControl(344).getLabel())
                                         one_hour = str(self.getControl(345).getLabel())
                                         one_hour_half = str(self.getControl(346).getLabel())
                                         epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                         epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                         epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                         if program_stop_hours == "00":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "01":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "02":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "03":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "04":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "05":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "06":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "07":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "08":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "09":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "10":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "11":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'AM'
                                         elif program_stop_hours == "12":
                                             program_stop_hours = "12"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "13":
                                             program_stop_hours = "1"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "14":
                                             program_stop_hours = "2"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "15":
                                             program_stop_hours = "3"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "16":
                                             program_stop_hours = "4"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "17":
                                             program_stop_hours = "5"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "18":
                                             program_stop_hours = "6"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "19":
                                             program_stop_hours = "7"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "20":
                                             program_stop_hours = "8"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "21":
                                             program_stop_hours = "9"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "22":
                                             program_stop_hours = "10"
                                             program_AM_PM = 'PM'
                                         elif program_stop_hours == "23":
                                             program_stop_hours = "11"
                                             program_AM_PM = 'PM'

                                         program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                         program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                         if program_stop_time < epg_time_3:
                                             if program_stop_minutes == '55':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 626
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1008, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)
                                                     nextprograms = int(nextprogram) + 1
                                                     nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                     nextprograms_Width = self.getControl(int(nextprograms)).getWidth()

                                                     if nextprogram_Width == 117:
                                                         self.getControl(int(nextprograms)).setPosition(1132, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)


                                         elif program_stop_time >= epg_time_3:
                                             if program_stop_minutes == '05':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 750
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1132, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)


                                         elif program_stop_time == epg_time_3:
                                             if program_stop_minutes == '00':
                                                 if int(prog_width) == 1038:
                                                     programs_width = 692
                                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                                     self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                                     self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 1026:
                                     programs_width = 692
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         self.getControl(int(prog_id)).setWidth(int(programs_width))
                                         profilePath = xbmc.translatePath(os.path.join('special://userdata/addon_data/script.tvguide', 'source.db'))
                                         conn1 = database.connect(profilePath)
                                         cur1 = conn1.cursor()
                                         cur1.execute('SELECT stop_date FROM programs where button_id=?', [prog_id])
                                         stop_date = cur1.fetchone()

                                         if stop_date is not None:
                                             stop_date = str(stop_date[0])
                                             stop_time = time.strptime(str(stop_date), '%Y%m%d%H%M%S')
                                             stop_time = datetime.datetime.fromtimestamp(time.mktime(stop_time))
                                             program_stop_hours = stop_time.strftime('%H')
                                             program_stop_minutes = stop_time.strftime('%M')
                                             program_AM_PM = stop_time.strftime('%p')
                                             half_hour = str(self.getControl(344).getLabel())
                                             one_hour = str(self.getControl(345).getLabel())
                                             one_hour_half = str(self.getControl(346).getLabel())
                                             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
                                             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
                                             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')

                                             if program_stop_hours == "00":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "01":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "02":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "03":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "04":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "05":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "06":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "07":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "08":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "09":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "10":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "11":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'AM'
                                             elif program_stop_hours == "12":
                                                 program_stop_hours = "12"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "13":
                                                 program_stop_hours = "1"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "14":
                                                 program_stop_hours = "2"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "15":
                                                 program_stop_hours = "3"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "16":
                                                 program_stop_hours = "4"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "17":
                                                 program_stop_hours = "5"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "18":
                                                 program_stop_hours = "6"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "19":
                                                 program_stop_hours = "7"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "20":
                                                 program_stop_hours = "8"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "21":
                                                 program_stop_hours = "9"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "22":
                                                 program_stop_hours = "10"
                                                 program_AM_PM = 'PM'
                                             elif program_stop_hours == "23":
                                                 program_stop_hours = "11"
                                                 program_AM_PM = 'PM'

                                             program_stop_time = program_stop_hours +':' + program_stop_minutes + program_AM_PM
                                             program_stop_time = time.strptime(program_stop_time, '%I:%M%p')

                                             if program_stop_time < epg_time_3:
                                                 if program_stop_minutes == '10':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                                 elif program_stop_minutes == '40':
                                                     if nextprogram_Width == 692:
                                                         programs_width = 456
                                                         self.getControl(int(nextprogram)).setWidth(int(programs_width))
                                                         self.getControl(int(nextprograms)).setPosition(838, int(pos_Y))
                                                         self.getControl(int(nextprograms)).setVisible(True)
                                                         nextprograms1 = int(nextprograms) + 1
                                                         nextprogramsWidth1 = self.getControl(int(nextprograms)).getWidth()

                                                         if nextprogramsWidth1 == 342:
                                                             self.getControl(int(nextprograms1)).setPosition(1189, int(pos_Y))
                                                             self.getControl(int(nextprograms1)).setVisible(True)


                                         if nextprogramX != 1073:
                                             pos_Y = self.getControl(int(nextprogram)).getY()
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 969:
                                     programs_width = 626
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))



                                 elif int(pos_X) == 375 and int(prog_width) == 879:
                                     programs_width = 515
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 897:
                                         self.getControl(int(nextprogram)).setPosition(897, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 750:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 741:
                                     programs_width = 399
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 780:
                                         self.getControl(int(nextprogram)).setPosition(780, int(pos_Y))
                                         self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 692:
                                     programs_width = 342
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX == 1073:
                                         self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))

                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)

                                         if nextprogram_width == 167:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))


                                         elif nextprogram_width <= 567:
                                             self.getControl(int(nextprogram)).setPosition(724, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 626:
                                     programs_width = 276
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX > 724:
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()
                                         pos_Y =  self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(657, int(pos_Y))

                                         if nextprogramWidth == 59:
                                             self.getControl(int(nextprograms)).setPosition(737, int(pos_Y))
                                         elif nextprogramWidth == 117:
                                             self.getControl(int(nextprograms)).setPosition(780, int(pos_Y))


                                     #elif nextprogramX > 1032:
                                         #self.getControl(int(nextprogram)).setPosition(1032, int(pos_Y))



                                 elif int(pos_X) == 375 and int(prog_width) == 577:
                                     programs_width = 235
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX > 724:
                                         posX = int(nextprogramX) - 344
                                         posY = self.getControl(int(nextprogram)).getY()
                                         self.getControl(int(nextprogram)).setPosition(posX, int(posY))
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 515:
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             posX = int(nextprogramsX) - 344
                                             posY = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(posX, int(posY))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 515:
                                     programs_width = 167
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 549:
                                         self.getControl(int(nextprogram)).setPosition(549, int(pos_Y))


                                         if nextprogram_width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                             pos_Y = self.getControl(int(nextprograms)).getY()
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 399:
                                     programs_width = 59
                                     self.getControl(int(prog_id)).setWidth(int(programs_width))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()

                                     if nextprogramX != 440:
                                         self.getControl(int(nextprogram)).setPosition(440, int(pos_Y))
                                         nextprogram_width = self.getControl(int(nextprogram)).getWidth()
                                         nextprogramsX = self.getControl(int(nextprogram)).getX()

                                         if nextprogram_width == 692:
                                             if nextprogramsX != 1116:
                                                 nextprograms = int(nextprogram) + 1
                                                 self.getControl(int(nextprograms)).setPosition(1138, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)



                                 elif int(pos_X) == 375 and int(prog_width) == 342:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogram_width = self.getControl(int(nextprogram)).getWidth()


                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                         nextprograms = int(nextprogram) + 1
                                         nextprogramsX = self.getControl(int(nextprograms)).getX()
                                         nextprograms_width = self.getControl(int(nextprograms)).getWidth()
                                         nextprograms1 = int(nextprograms) + 1
                                         nextprogramsX1 = self.getControl(int(nextprograms1)).getX()
                                         nextprograms_width1 = self.getControl(int(nextprograms1)).getWidth()

                                         if nextprogram_width == 286:
                                             if nextprogramsX != 665:
                                                 self.getControl(int(nextprograms)).setPosition(668, int(pos_Y))

                                                 if nextprograms_width == 227:
                                                     if nextprogramsX1 != 901:
                                                         self.getControl(int(nextprograms1)).setPosition(901, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)


                                         elif nextprogram_width == 342:
                                             if nextprogramsX != 724:
                                                 self.getControl(int(nextprograms)).setPosition(724, int(pos_Y))


                                                 if nextprograms_width == 342:
                                                     if nextprogramsX1 != 1073:
                                                         self.getControl(int(nextprograms1)).setPosition(1073, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                         elif nextprogram_width == 515:
                                             self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 567:
                                             if nextprogramsX != 949:
                                                 self.getControl(int(nextprograms)).setPosition(949, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 692:
                                             if nextprogramsX != 1073:
                                                 self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)


                                         elif nextprogram_width == 741:
                                             if nextprogramsX != 1124:
                                                 self.getControl(int(nextprograms)).setPosition(1124, int(pos_Y))
                                                 self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 167:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         if nextprogramX == 549:
                                             if nextprogramWidth == 342:
                                                 program_width = 167
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()
                                                 nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                                 if nextprogramX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(549, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)

                                                     if nextprogramsWidth == 396:
                                                         nextprograms1 = int(nextprograms) + 1
                                                         self.getControl(int(nextprograms1)).setPosition(952, int(pos_Y))
                                                         self.getControl(int(nextprograms1)).setVisible(True)



                                             if nextprogramWidth == 692:
                                                 program_width = 515
                                                 self.getControl(int(nextprogram)).setWidth(program_width)
                                                 self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))
                                                 nextprograms = int(nextprogram) + 1
                                                 nextprogramsX = self.getControl(int(nextprograms)).getX()

                                                 if nextprogramsX != 897:
                                                     self.getControl(int(nextprograms)).setPosition(897, int(pos_Y))
                                                     self.getControl(int(nextprograms)).setVisible(True)




                                 elif int(pos_X) == 375 and int(prog_width) == 117:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))
                                     nextprogram = int(prog_id) + 1
                                     nextprogramX = self.getControl(int(nextprogram)).getX()
                                     nextprogramWidth = self.getControl(int(nextprogram)).getWidth()

                                     if nextprogramX != 375:
                                         self.getControl(int(nextprogram)).setPosition(375, int(pos_Y))

                                         if nextprogramWidth == 342:
                                             program_width = 117
                                             self.getControl(int(nextprogram)).setWidth(int(program_width))
                                             nextprograms = int(nextprogram) + 1
                                             nextprogramsX = self.getControl(int(nextprograms)).getX()
                                             nextprogramsWidth = self.getControl(int(nextprograms)).getWidth()

                                             if nextprogramsX != 499:
                                                 self.getControl(int(nextprograms)).setPosition(499, int(pos_Y))



                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 723:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1


                                 elif int(pos_X) == 724:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(375, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX != 1073:
                                             self.getControl(int(nextprogram)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(True)


                                     elif int(prog_width) > 692:
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()

                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)


                                 elif int(pos_X) == 897:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(549, int(pos_Y))
                                         previousprogram = int(prog_id) - 1
                                         previousprogramX = self.getControl(int(previousprogram)).getX()
                                         previousprogramWidth = self.getControl(int(previousprogram)).getWidth()

                                         if previousprogramX == 724 and previousprogramWidth == 167:
                                             self.getControl(int(previousprogram)).setPosition(375, int(pos_Y))


                                 elif int(pos_X) == 549 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) == 1073:
                                     if int(prog_width) == 167:
                                         self.getControl(int(prog_id)).setPosition(897, int(pos_Y))


                                     elif int(prog_width) == 342:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()

                                         if nextprogram_Width == 342:
                                             nextprograms = int(nextprogram) + 1
                                             self.getControl(int(nextprograms)).setPosition(1073, int(pos_Y))
                                             self.getControl(int(nextprograms)).setVisible(True)


                                     elif int(prog_width) == 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogram_Width = self.getControl(int(nextprogram)).getWidth()


                                     elif int(prog_width) > 692:
                                         self.getControl(int(prog_id)).setPosition(724, int(pos_Y))
                                         nextprogram = int(prog_id) + 1
                                         nextprogramX = self.getControl(int(nextprogram)).getX()


                                         if nextprogramX == 1073:
                                             self.getControl(int(nextprogram)).setPosition(int(pos_X) - 350, int(pos_Y))
                                             self.getControl(int(nextprogram)).setVisible(False)



                                 elif int(pos_X) == 1247 and int(prog_width) >= 59:
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                                 elif int(pos_X) < 375:
                                     self.getControl(int(prog_id)).setVisible(False)
                                     self.getControl(int(prog_id)).setPosition(int(pos_X) - 350, int(pos_Y))



                         if self.time_flag == False:
                             if self.next_program == True:
                                 self.next_program = False
                             self.time_flag = True



         if CurrentRow >= 59:
             program_button = [elem.control for elem in self.program_buttons]
             program_id = list()
             program_width = list()
             programs_stop_time = list()
             posX = list()
             posY = list()


             for stop_time in self.program_stop_clock:
                 programs_stop_time.append(stop_time)


             for elem in program_button:
                 program_id.append(elem.getId())
                 posX.append(elem.getX())
                 posY.append(elem.getY())
                 program_width.append(elem.getWidth())
             program_id = map(str, program_id)
             posX = map(str, posX)
             posY = map(str, posY)
             program_width = map(str, program_width)
             programs_stop_time = map(str, programs_stop_time)
             half_hour = str(self.getControl(344).getLabel())
             one_hour = str(self.getControl(345).getLabel())
             one_hour_half = str(self.getControl(346).getLabel())
             epg_time_1 = time.strptime(half_hour, '%I:%M%p')
             epg_time_2 = time.strptime(one_hour, '%I:%M%p')
             epg_time_3 = time.strptime(one_hour_half, '%I:%M%p')


             for pos_X, prog_width, prog_id in zip(posX, program_width, program_id):
                 prog_width = int(prog_width)



             #for pos_X, pos_Y, prog_width, prog_id, prog_stop_time in zip(posX, posY, program_width, program_id, programs_stop_time):
                 #program_stop_time = time.strptime(prog_stop_time, '%I:%M%p')
                 
                 #print prog_width

                 if int(pos_X) == 375:

                     #2 hours
                     if int(prog_width) == 1368:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 677
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 10 minutes
                     elif int(prog_width) == 1482:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))


                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1026
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 20 minutes
                     elif int(prog_width) == 1596:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1026
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 30 minutes
                     elif int(prog_width) == 1710:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))


                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1019
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #2 hours 40 minutes
                     elif int(prog_width) == 1824:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1368
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))




                     #2 hours 45 minutes
                     elif int(prog_width) == 1881:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')

                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if pos_X >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1364
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours
                     elif int(prog_width) == 2052:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1361
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 10 minutes
                     elif int(prog_width) == 2166:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1710
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 20 minutes
                     elif int(prog_width) == 2320:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1710
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 30 minutes
                     elif int(prog_width) == 2394:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 1703
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 40 minutes
                     elif int(prog_width) == 2508:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2052
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #3 hours 45 minutes
                     elif int(prog_width) == 2565:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2048
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours
                     elif int(prog_width) == 2736:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2045
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 10 minutes
                     elif int(prog_width) == 2964:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2508
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 20 minutes
                     elif int(prog_width) == 3078:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2508
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 30 minutes
                     elif int(prog_width) == 3192:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2501
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 40 minutes
                     elif int(prog_width) == 3306:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2850
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #4 hours 45 minutes
                     elif int(prog_width) == 3363:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2846
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours
                     elif int(prog_width) == 3420:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 2729
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 10 minutes
                     elif int(prog_width) == 3534:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3078
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 20 minutes
                     elif int(prog_width) == 3648:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3078
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 30 minutes
                     elif int(prog_width) == 3762:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3071
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 40 minutes
                     elif int(prog_width) == 3876:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3420
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #5 hours 45 minutes
                     elif int(prog_width) == 3933:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3416
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours
                     elif int(prog_width) == 4104:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3413
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 10 minutes
                     elif int(prog_width) == 4218:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3762
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 20 minutes
                     elif int(prog_width) == 4332:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3762
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 30 minutes
                     elif int(prog_width) == 4446:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 3755
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 40 minutes
                     elif int(prog_width) == 4560:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4104
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #6 hours 45 minutes
                     elif int(prog_width) == 4617:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4100
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours
                     elif int(prog_width) == 4788:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4097
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 10 minutes
                     elif int(prog_width) == 4902:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4446
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 20 minutes
                     elif int(prog_width) == 5016:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 567
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4446
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 30 minutes
                     elif int(prog_width) == 5130:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4439
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 40 minutes
                     elif int(prog_width) == 5244:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 456
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4788
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #7 hours 45 minutes
                     elif int(prog_width) == 5301:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time < epg_time_3:
                                 prog_width = 515
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4784
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))



                     #8 hours
                     elif int(prog_width) == 5472:
                         if self.channelsOnRight == True:
                             posY = int(self.getControl(int(prog_id)).getY())
                             index = 0

                             if int(posY) == 315:
                                 index = 0
                             elif int(posY) == 353:
                                 index = 1
                             elif int(posY) == 391:
                                 index = 2
                             elif int(posY) == 428:
                                 index = 3
                             elif int(posY) == 466:
                                 index = 4
                             elif int(posY) == 504:
                                 index = 5
                             elif int(posY) == 542:
                                 index = 6

                             program_clock_time = self.program_stop_clock
                             program_stop_time = time.strptime(program_clock_time[index], '%I:%M%p')


                             if program_stop_time > epg_time_3:
                                 prog_width = self.getControl(int(prog_id)).getWidth()
                                 prog_width - prog_width - 342
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 348
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))


                             elif program_stop_time == epg_time_3:
                                 prog_width = 692
                                 self.getControl(int(prog_id)).setWidth(prog_width)
                                 program_id = list()
                                 posX = list()
                                 posY = list()
                                 program_button = [elem.control for elem in self.program_buttons]
                                 pos_X = self.getControl(int(prog_id)).getX()
                                 pos_Y = self.getControl(int(prog_id)).getY()
                                 self.getControl(int(prog_id)).setPosition(int(pos_X), int(pos_Y))

                                 for elem in program_button:
                                     program_id.append(elem.getId())
                                     posX.append(elem.getX())
                                     posY.append(elem.getY())

                                 program_id = map(str, program_id)
                                 posX = map(str, posX)
                                 posY = map(str, posY)
                                 getY = self.getControl(int(prog_id)).getY()

                                 for pos_X, pos_Y, prog_id in zip(posX, posY, program_id):
                                     if int(pos_X) >= 724 and int(pos_Y) == getY:
                                         posX = int(pos_X) - 4781
                                         posY = int(getY)
                                         self.getControl(int(prog_id)).setPosition(int(posX), int(posY))                                        

